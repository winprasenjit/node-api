!function(){"use strict";angular.module("advApp.ngModules",["ngRoute","ngAnimate","ngSanitize","ngIdle"]),angular.module("advApp.ngUI",["ui.router","ui.bootstrap","ui.date","ui.select","ui.select2"]),angular.module("advApp.lib",["wj"]),angular.module("advApp.directives",["angular-loading-bar"]),angular.module("advApp.modules",["dashboard","shell"]),angular.module("advApp",["advApp.ngModules","advApp.ngUI","advApp.lib","advApp.directives","advApp.modules"])}(),function(){"use strict";angular.module("advApp").config(["$stateProvider","$urlRouterProvider","$httpProvider","cfpLoadingBarProvider","IdleProvider","KeepaliveProvider",function($stateProvider,$urlRouterProvider,$httpProvider,cfpLoadingBarProvider,IdleProvider,KeepaliveProvider){cfpLoadingBarProvider.includeSpinner=!1,IdleProvider.autoResume(!0),IdleProvider.idle(1200),IdleProvider.timeout(300),KeepaliveProvider.interval(600),$urlRouterProvider.otherwise("/dashboard"),$stateProvider.state("dashboard",{url:"/dashboard",controller:"dashboardController",templateUrl:"app/modules/dashboard/views/dashboard.tpl.html"}).state("wjgrid",{url:"/wijmo-grid",controller:"wjGridController",controllerAs:"vm",templateUrl:"app/modules/shell/views/wj-grid.tpl.html"}).state("add-note",{url:"/add-note",controller:"noteController",controllerAs:"vm",templateUrl:"app/modules/note/views/add-note.tpl.html"}).state("logout",{url:"/logout",views:{content:{templateUrl:"views/Logout.html"}}}),$httpProvider.defaults.useXDomain=!0,$httpProvider.defaults.withCredentials=!0}])}(),function(){"use strict";angular.module("advApp").run(["$templateCache","$rootScope","$window","globalServiceDelegate","sharedModel","eventConstants","appConstants","Idle",function($templateCache,$rootScope,$window,globalServiceDelegate,sharedModel,eventConstants,appConstants,Idle){Idle.watch();$window.userId;$rootScope.appInitialized=!0}])}(),angular.module("ui.date",[]).constant("uiDateConfig",{}).directive("uiDate",["uiDateConfig",function(uiDateConfig){"use strict";var options;return options={},angular.extend(options,uiDateConfig),{require:"?ngModel",link:function(scope,element,attrs,controller){var getOptions=function(){return angular.extend({},uiDateConfig,scope.$eval(attrs.uiDate))},initDateWidget=function(){var showing=!1,opts=getOptions();if(controller){var _onSelect=opts.onSelect||angular.noop;opts.onSelect=function(value,picker){scope.$apply(function(){showing=!0,controller.$setViewValue(element.datepicker("getDate")),_onSelect(value,picker),element.blur(),scope.$emit("ngGridEventEndCellEdit")})},opts.beforeShow=function(){showing=!0},opts.onClose=function(value,picker){showing=!1},scope.$on("ngGridEventStartCellEdit",function(){element.focus()}),element.on("blur",function(){showing||scope.$apply(function(){element.datepicker("setDate",element.datepicker("getDate")),controller.$setViewValue(element.datepicker("getDate"))})}),controller.$render=function(){var date=controller.$viewValue;if(angular.isDefined(date)&&null!==date&&!angular.isDate(date))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof date+" - use ui-date-format to convert it from a string");element.datepicker("setDate",date)}}element.datepicker("destroy"),element.datepicker(opts),controller&&controller.$render()};scope.$watch(getOptions,initDateWidget,!0)}}}]).constant("uiDateFormatConfig","").directive("uiDateFormat",["uiDateFormatConfig",function(uiDateFormatConfig){var directive={require:"ngModel",link:function(scope,element,attrs,modelCtrl){var dateFormat=attrs.uiDateFormat||uiDateFormatConfig;dateFormat?(modelCtrl.$formatters.push(function(value){return angular.isString(value)?jQuery.datepicker.parseDate(dateFormat,value):null}),modelCtrl.$parsers.push(function(value){return value?jQuery.datepicker.formatDate(dateFormat,value):null})):(modelCtrl.$formatters.push(function(value){return angular.isString(value)?new Date(value):null}),modelCtrl.$parsers.push(function(value){return value?value.toISOString():null}))}};return directive}]),$(function(){$("#side-menu").metisMenu()}),$(function(){$(window).bind("load resize",function(){topOffset=50,width=this.window.innerWidth>0?this.window.innerWidth:this.screen.width,width<768?($("div.navbar-collapse").addClass("collapse"),topOffset=100):$("div.navbar-collapse").removeClass("collapse"),height=(this.window.innerHeight>0?this.window.innerHeight:this.screen.height)-1,height-=topOffset,height<1&&(height=1),height>topOffset&&$("#page-wrapper").css("min-height",height+"px")});var url=window.location,element=$("ul.nav a").filter(function(){return this.href==url||0==url.href.indexOf(this.href)}).addClass("active").parent().parent().addClass("in").parent();element.is("li")&&element.addClass("active")}),function(){"use strict";var KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(e){var k=e.which;switch(k){case KEY.COMMAND:case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return!0}return!!e.metaKey},isFunctionKey:function(k){return k=k.which?k.which:k,k>=112&&k<=123},isVerticalMovement:function(k){return~[KEY.UP,KEY.DOWN].indexOf(k)},isHorizontalMovement:function(k){return~[KEY.LEFT,KEY.RIGHT].indexOf(k)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(selector){return angular.element(this[0].querySelectorAll(selector))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(selector){for(var elem=this[0],matchesSelector=elem.matches||elem.webkitMatchesSelector||elem.mozMatchesSelector||elem.msMatchesSelector;elem;){if(matchesSelector.bind(elem)(selector))return elem;elem=elem.parentElement}return!1});var latestId=0,uis=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return latestId++},appendToBody:!1}).service("uiSelectMinErr",function(){var minErr=angular.$$minErr("ui.select");return function(){var error=minErr.apply(this,arguments),message=error.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(message)}}).directive("uisTranscludeAppend",function(){return{link:function(scope,element,attrs,ctrl,transclude){transclude(scope,function(clone){element.append(clone)})}}}).filter("highlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query&&matchItem?matchItem.replace(new RegExp(escapeRegexp(query),"gi"),'<span class="ui-select-highlight">$&</span>'):matchItem}}).factory("uisOffset",["$document","$window",function($document,$window){return function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}}}]);uis.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(uiSelectConfig,RepeatParser,uiSelectMinErr,$compile){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){var theme=tElement.parent().attr("theme")||uiSelectConfig.theme;return theme+"/choices.tpl.html"},compile:function(tElement,tAttrs){if(!tAttrs.repeat)throw uiSelectMinErr("repeat","Expected 'repeat' expression.");return function(scope,element,attrs,$select,transcludeFn){var groupByExp=attrs.groupBy;if($select.parseRepeatAttr(attrs.repeat,groupByExp),$select.disableChoiceExpression=attrs.uiDisableChoice,$select.onHighlightCallback=attrs.onHighlight,groupByExp){var groups=element.querySelectorAll(".ui-select-choices-group");if(1!==groups.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-group but got '{0}'.",groups.length);groups.attr("ng-repeat",RepeatParser.getGroupNgRepeatExpression())}var choices=element.querySelectorAll(".ui-select-choices-row");if(1!==choices.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row but got '{0}'.",choices.length);choices.attr("ng-repeat",RepeatParser.getNgRepeatExpression($select.parserResult.itemName,"$select.items",$select.parserResult.trackByExp,groupByExp)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+$select.parserResult.itemName+")").attr("ng-click","$select.select("+$select.parserResult.itemName+",false,$event)");var rowsInner=element.querySelectorAll(".ui-select-choices-row-inner");if(1!==rowsInner.length)throw uiSelectMinErr("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",rowsInner.length);rowsInner.attr("uis-transclude-append",""),$compile(element,transcludeFn)(scope),scope.$watch("$select.search",function(newValue){newValue&&!$select.open&&$select.multiple&&$select.activate(!1,!0),$select.activeIndex=$select.tagging.isActivated?-1:0,$select.refresh(attrs.refresh)}),attrs.$observe("refreshDelay",function(){var refreshDelay=scope.$eval(attrs.refreshDelay);$select.refreshDelay=void 0!==refreshDelay?refreshDelay:uiSelectConfig.refreshDelay})}}}}]),uis.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function($scope,$element,$timeout,$filter,RepeatParser,uiSelectMinErr,uiSelectConfig){function _resetSearchInput(){(ctrl.resetSearchInput||void 0===ctrl.resetSearchInput&&uiSelectConfig.resetSearchInput)&&ctrl.selected&&ctrl.items.length&&!ctrl.multiple&&(ctrl.activeIndex=ctrl.items.indexOf(ctrl.selected))}function _handleDropDownSelection(key){var processed=!0;switch(key){case KEY.DOWN:!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):ctrl.activeIndex<ctrl.items.length-1&&ctrl.activeIndex++;break;case KEY.UP:!ctrl.open&&ctrl.multiple?ctrl.activate(!1,!0):(ctrl.activeIndex>0||0===ctrl.search.length&&ctrl.tagging.isActivated&&ctrl.activeIndex>-1)&&ctrl.activeIndex--;break;case KEY.TAB:ctrl.multiple&&!ctrl.open||ctrl.select(ctrl.items[ctrl.activeIndex],!0);break;case KEY.ENTER:ctrl.open&&ctrl.activeIndex>=0?ctrl.items&&ctrl.items.length>0?ctrl.select(ctrl.items[ctrl.activeIndex]):(ctrl.searchInput&&ctrl.searchInput[0]&&ctrl.searchInput[0].value!==ctrl.search&&(ctrl.search=ctrl.searchInput[0].value),$scope.$emit("onEnter",ctrl.search)):ctrl.activate(!1,!0);break;case KEY.ESC:ctrl.close();break;default:processed=!1}return processed}function _ensureHighlightVisible(){var container=$element.querySelectorAll(".ui-select-choices-content"),choices=container.querySelectorAll(".ui-select-choices-row");if(choices.length<1)throw uiSelectMinErr("choices","Expected multiple .ui-select-choices-row but got '{0}'.",choices.length);if(!(ctrl.activeIndex<0)){var highlighted=choices[ctrl.activeIndex],posY=highlighted.offsetTop+highlighted.clientHeight-container[0].scrollTop,height=container[0].offsetHeight;posY>height?container[0].scrollTop+=posY-height:posY<highlighted.clientHeight&&(ctrl.isGrouped&&0===ctrl.activeIndex?container[0].scrollTop=0:container[0].scrollTop-=highlighted.clientHeight-posY)}}var ctrl=this,EMPTY_SEARCH="";if(ctrl.placeholder=uiSelectConfig.placeholder,ctrl.searchEnabled=uiSelectConfig.searchEnabled,ctrl.sortable=uiSelectConfig.sortable,ctrl.refreshDelay=uiSelectConfig.refreshDelay,ctrl.removeSelected=!1,ctrl.closeOnSelect=!0,ctrl.search=EMPTY_SEARCH,ctrl.activeIndex=0,ctrl.items=[],ctrl.open=!1,ctrl.focus=!1,ctrl.disabled=!1,ctrl.selected=void 0,ctrl.focusser=void 0,ctrl.resetSearchInput=!0,ctrl.multiple=void 0,ctrl.disableChoiceExpression=void 0,ctrl.tagging={isActivated:!1,fct:void 0},ctrl.taggingTokens={isActivated:!1,tokens:void 0},ctrl.lockChoiceExpression=void 0,ctrl.clickTriggeredSelect=!1,ctrl.$filter=$filter,ctrl.searchInput=$element.querySelectorAll("input.ui-select-search"),1!==ctrl.searchInput.length)throw uiSelectMinErr("searchInput","Expected 1 input.ui-select-search but got '{0}'.",ctrl.searchInput.length);ctrl.isEmpty=function(){return angular.isUndefined(ctrl.selected)||null===ctrl.selected||""===ctrl.selected},ctrl.activate=function(initSearchValue,avoidReset){ctrl.disabled||ctrl.open||(avoidReset||_resetSearchInput(),$scope.$broadcast("uis:activate"),ctrl.open=!0,ctrl.activeIndex=ctrl.activeIndex>=ctrl.items.length?0:ctrl.activeIndex,ctrl.activeIndex===-1&&ctrl.taggingLabel!==!1&&(ctrl.activeIndex=0),$timeout(function(){ctrl.search=initSearchValue||ctrl.search,ctrl.searchInput[0].focus(),ctrl.searchInput[0].onblur=ctrl.onRowblur}))},ctrl.onRowblur=function(){ctrl.open?ctrl.searchEnabled||$scope.$emit("focuslostonopen",ctrl.search):$scope.$emit("focuslost",ctrl.search)},ctrl.findGroupByName=function(name){return ctrl.groups&&ctrl.groups.filter(function(group){return group.name===name})[0]},ctrl.parseRepeatAttr=function(repeatAttr,groupByExp){function updateGroups(items){ctrl.groups=[],angular.forEach(items,function(item){var groupFn=$scope.$eval(groupByExp),groupName=angular.isFunction(groupFn)?groupFn(item):item[groupFn],group=ctrl.findGroupByName(groupName);group?group.items.push(item):ctrl.groups.push({name:groupName,items:[item]})}),ctrl.items=[],ctrl.groups.forEach(function(group){ctrl.items=ctrl.items.concat(group.items)})}function setPlainItems(items){ctrl.items=items}ctrl.setItemsFn=groupByExp?updateGroups:setPlainItems,ctrl.parserResult=RepeatParser.parse(repeatAttr),ctrl.isGrouped=!!groupByExp,ctrl.itemProperty=ctrl.parserResult.itemName,ctrl.refreshItems=function(data){data=data||ctrl.parserResult.source($scope);var selectedItems=ctrl.selected;if(angular.isArray(selectedItems)&&!selectedItems.length||!ctrl.removeSelected)ctrl.setItemsFn(data);else if(void 0!==data){var filteredItems=data.filter(function(i){return selectedItems.indexOf(i)<0});ctrl.setItemsFn(filteredItems)}},$scope.$watchCollection(ctrl.parserResult.source,function(items){if(void 0===items||null===items)ctrl.items=[];else{if(!angular.isArray(items))throw uiSelectMinErr("items","Expected an array but got '{0}'.",items);ctrl.refreshItems(items),ctrl.ngModel.$modelValue=null}})};var _refreshDelayPromise;ctrl.refresh=function(refreshAttr){void 0!==refreshAttr&&(_refreshDelayPromise&&$timeout.cancel(_refreshDelayPromise),_refreshDelayPromise=$timeout(function(){$scope.$eval(refreshAttr)},ctrl.refreshDelay))},ctrl.setActiveItem=function(item){ctrl.activeIndex=ctrl.items.indexOf(item)},ctrl.isActive=function(itemScope){if(!ctrl.open)return ctrl.searchInput&&ctrl.searchInput[0],!1;var itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]),isActive=itemIndex===ctrl.activeIndex;return!(!isActive||itemIndex<0&&ctrl.taggingLabel!==!1||itemIndex<0&&ctrl.taggingLabel===!1)&&(isActive&&!angular.isUndefined(ctrl.onHighlightCallback)&&itemScope.$eval(ctrl.onHighlightCallback),isActive)},ctrl.isDisabled=function(itemScope){if(ctrl.open){var item,itemIndex=ctrl.items.indexOf(itemScope[ctrl.itemProperty]),isDisabled=!1;return itemIndex>=0&&!angular.isUndefined(ctrl.disableChoiceExpression)&&(item=ctrl.items[itemIndex],isDisabled=!!itemScope.$eval(ctrl.disableChoiceExpression),item._uiSelectChoiceDisabled=isDisabled),isDisabled}},ctrl.select=function(item,skipFocusser,$event){if(void 0===item||!item._uiSelectChoiceDisabled){if(!ctrl.items&&!ctrl.search)return;if(!item||!item._uiSelectChoiceDisabled){if(ctrl.tagging.isActivated){if(ctrl.taggingLabel===!1)if(ctrl.activeIndex<0){if(item=void 0!==ctrl.tagging.fct?ctrl.tagging.fct(ctrl.search):ctrl.search,!item||angular.equals(ctrl.items[0],item))return}else item=ctrl.items[ctrl.activeIndex];else if(0===ctrl.activeIndex){if(void 0===item)return;if(void 0!==ctrl.tagging.fct&&"string"==typeof item){if(item=ctrl.tagging.fct(ctrl.search),!item)return}else"string"==typeof item&&(item=item.replace(ctrl.taggingLabel,"").trim())}if(ctrl.selected&&angular.isArray(ctrl.selected)&&ctrl.selected.filter(function(selection){return angular.equals(selection,item)}).length>0)return void ctrl.close(skipFocusser)}ctrl.searchInput.value=ctrl.selected.name,$scope.$broadcast("uis:select",item);var locals={};locals[ctrl.parserResult.itemName]=item,$timeout(function(){ctrl.onSelectCallback($scope,{$item:item,$model:ctrl.parserResult.modelMapper($scope,locals)})}),ctrl.closeOnSelect&&ctrl.close(skipFocusser),$event&&"click"===$event.type&&(ctrl.clickTriggeredSelect=!0)}}},ctrl.close=function(skipFocusser){ctrl.open&&(ctrl.ngModel&&ctrl.ngModel.$setTouched&&ctrl.ngModel.$setTouched(),ctrl.open=!1,$scope.$emit("uis:close",ctrl.search),$scope.$broadcast("uis:close",skipFocusser))},ctrl.setFocus=function(){ctrl.focus||ctrl.focusInput[0].focus()},ctrl.clear=function($event){ctrl.select(void 0),$event.stopPropagation(),ctrl.focusser[0].focus()},ctrl.toggle=function(e){ctrl.open?(ctrl.close(),e.preventDefault(),e.stopPropagation()):ctrl.activate()},ctrl.isLocked=function(itemScope,itemIndex){var isLocked,item=ctrl.selected[itemIndex];return item&&!angular.isUndefined(ctrl.lockChoiceExpression)&&(isLocked=!!itemScope.$eval(ctrl.lockChoiceExpression),item._uiSelectChoiceLocked=isLocked),isLocked};var sizeWatch=null;ctrl.sizeSearchInput=function(){var input=ctrl.searchInput[0],container=ctrl.searchInput.parent().parent()[0],calculateContainerWidth=function(){return container.clientWidth*!!input.offsetParent},updateIfVisible=function(containerWidth){if(0===containerWidth)return!1;var inputWidth=containerWidth-input.offsetLeft-10;return inputWidth<50&&(inputWidth=containerWidth),ctrl.searchInput.css("width",inputWidth+"px"),!0};ctrl.searchInput.css("width","10px"),$timeout(function(){null!==sizeWatch||updateIfVisible(calculateContainerWidth())||(sizeWatch=$scope.$watch(calculateContainerWidth,function(containerWidth){updateIfVisible(containerWidth)&&(sizeWatch(),sizeWatch=null)}))})},ctrl.searchInput.on("keydown",function(e){var key=e.which;$scope.$apply(function(){var tagged=!1;if((ctrl.items.length>0||ctrl.tagging.isActivated)&&(_handleDropDownSelection(key),ctrl.taggingTokens.isActivated)){for(var i=0;i<ctrl.taggingTokens.tokens.length;i++)ctrl.taggingTokens.tokens[i]===KEY.MAP[e.keyCode]&&ctrl.search.length>0&&(tagged=!0);tagged&&$timeout(function(){ctrl.searchInput.triggerHandler("tagged");var newItem=ctrl.search.replace(KEY.MAP[e.keyCode],"").trim();ctrl.tagging.fct&&(newItem=ctrl.tagging.fct(newItem)),newItem&&ctrl.select(newItem,!0)})}}),KEY.isVerticalMovement(key)&&ctrl.items.length>0&&_ensureHighlightVisible()}),ctrl.searchInput.on("paste",function(e){var data=e.originalEvent.clipboardData.getData("text/plain");if(data&&data.length>0&&ctrl.taggingTokens.isActivated&&ctrl.tagging.fct){var items=data.split(ctrl.taggingTokens.tokens[0]);items&&items.length>0&&(angular.forEach(items,function(item){var newItem=ctrl.tagging.fct(item);newItem&&ctrl.select(newItem,!0)}),e.preventDefault(),e.stopPropagation())}}),ctrl.searchInput.on("tagged",function(){$timeout(function(){_resetSearchInput()})}),$scope.$on("$destroy",function(){ctrl.searchInput.off("keyup keydown tagged blur paste")})}]),uis.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function($document,uiSelectConfig,uiSelectMinErr,uisOffset,$compile,$parse,$timeout){return{restrict:"EA",templateUrl:function(tElement,tAttrs){var theme=tAttrs.theme||uiSelectConfig.theme;return theme+(angular.isDefined(tAttrs.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(tElement,tAttrs){return angular.isDefined(tAttrs.multiple)?tElement.append("<ui-select-multiple/>").removeAttr("multiple"):tElement.append("<ui-select-single/>"),function(scope,element,attrs,ctrls,transcludeFn){function onDocumentClick(e){if(!$select.open)return void console.log("onDocumentClick");var contains=!1;if(contains=window.jQuery?window.jQuery.contains(element[0],e.target):element[0].contains(e.target),!contains&&!$select.clickTriggeredSelect){var focusableControls=["input","button","textarea"],targetScope=angular.element(e.target).scope(),skipFocusser=targetScope&&targetScope.$select&&targetScope.$select!==$select;skipFocusser||(skipFocusser=~focusableControls.indexOf(e.target.tagName.toLowerCase())),$select.close(skipFocusser),scope.$digest()}$select.clickTriggeredSelect=!1}function positionDropdown(){var offset=uisOffset(element);placeholder=angular.element('<div class="ui-select-placeholder"></div>'),placeholder[0].style.width=offset.width+"px",placeholder[0].style.height=offset.height+"px",element.after(placeholder),originalWidth=element[0].style.width,$document.find("body").append(element),element[0].style.position="absolute",element[0].style.left=offset.left+"px",element[0].style.top=offset.top+"px",element[0].style.width=offset.width+"px"}function resetDropdown(){null!==placeholder&&(placeholder.replaceWith(element),placeholder=null,element[0].style.position="",element[0].style.left="",element[0].style.top="",element[0].style.width=originalWidth)}var $select=ctrls[0],ngModel=ctrls[1];$select.generatedId=uiSelectConfig.generateId(),$select.baseTitle=attrs.title||"Select box",$select.focusserTitle=$select.baseTitle+" focus",$select.focusserId="focusser-"+$select.generatedId,$select.open=!1,$select.closeOnSelect=function(){return angular.isDefined(attrs.closeOnSelect)?$parse(attrs.closeOnSelect)():uiSelectConfig.closeOnSelect}(),$select.onSelectCallback=$parse(attrs.onSelect),$select.onRemoveCallback=$parse(attrs.onRemove),$select.ngModel=ngModel,$select.choiceGrouped=function(group){return $select.isGrouped&&group&&group.name},element.on("blur",function(){}),attrs.tabindex&&attrs.$observe("tabindex",function(value){$select.focusInput.attr("tabindex",value),element.removeAttr("tabindex")}),scope.$watch("searchEnabled",function(){var searchEnabled=scope.$eval(attrs.searchEnabled);$select.searchEnabled=void 0!==searchEnabled?searchEnabled:uiSelectConfig.searchEnabled}),scope.$watch("sortable",function(){var sortable=scope.$eval(attrs.sortable);$select.sortable=void 0!==sortable?sortable:uiSelectConfig.sortable}),attrs.$observe("disabled",function(){$select.disabled=void 0!==attrs.disabled&&attrs.disabled}),attrs.$observe("resetSearchInput",function(){var resetSearchInput=scope.$eval(attrs.resetSearchInput);$select.resetSearchInput=void 0===resetSearchInput||resetSearchInput}),attrs.$observe("tagging",function(){if(void 0!==attrs.tagging){var taggingEval=scope.$eval(attrs.tagging);$select.tagging={isActivated:!0,fct:taggingEval!==!0?taggingEval:void 0}}else $select.tagging={isActivated:!1,fct:void 0}}),attrs.$observe("taggingLabel",function(){void 0!==attrs.tagging&&("false"===attrs.taggingLabel?$select.taggingLabel=!1:$select.taggingLabel=void 0!==attrs.taggingLabel?attrs.taggingLabel:"(new)")}),attrs.$observe("taggingTokens",function(){if(void 0!==attrs.tagging){var tokens=void 0!==attrs.taggingTokens?attrs.taggingTokens.split("|"):[",","ENTER"];$select.taggingTokens={isActivated:!0,tokens:tokens}}}),angular.isDefined(attrs.autofocus)&&$timeout(function(){$select.setFocus()}),angular.isDefined(attrs.focusOn)&&scope.$on(attrs.focusOn,function(){$timeout(function(){$select.setFocus()})}),$document.on("click",onDocumentClick),scope.$on("focusLost",function(){}),scope.$on("$destroy",function(){$document.off("click",onDocumentClick)}),transcludeFn(scope,function(clone){var transcluded=angular.element("<div>").append(clone),transcludedMatch=transcluded.querySelectorAll(".ui-select-match");if(transcludedMatch.removeAttr("ui-select-match"),transcludedMatch.removeAttr("data-ui-select-match"),1!==transcludedMatch.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-match but got '{0}'.",transcludedMatch.length);element.querySelectorAll(".ui-select-match").replaceWith(transcludedMatch);var transcludedChoices=transcluded.querySelectorAll(".ui-select-choices");if(transcludedChoices.removeAttr("ui-select-choices"),transcludedChoices.removeAttr("data-ui-select-choices"),1!==transcludedChoices.length)throw uiSelectMinErr("transcluded","Expected 1 .ui-select-choices but got '{0}'.",transcludedChoices.length);element.querySelectorAll(".ui-select-choices").replaceWith(transcludedChoices)});var appendToBody=scope.$eval(attrs.appendToBody);(void 0!==appendToBody?appendToBody:uiSelectConfig.appendToBody)&&(scope.$watch("$select.open",function(isOpen){isOpen?positionDropdown():resetDropdown()}),scope.$on("$destroy",function(){resetDropdown()}));var placeholder=null,originalWidth=""}}}}]),uis.directive("uiSelectMatch",["uiSelectConfig",function(uiSelectConfig){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(tElement){var theme=tElement.parent().attr("theme")||uiSelectConfig.theme,multi=tElement.parent().attr("multiple");return theme+(multi?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(scope,element,attrs,$select){function setAllowClear(allow){$select.allowClear=!!angular.isDefined(allow)&&(""===allow||"true"===allow.toLowerCase())}$select.lockChoiceExpression=attrs.uiLockChoice,attrs.$observe("placeholder",function(placeholder){$select.placeholder=void 0!==placeholder?placeholder:uiSelectConfig.placeholder}),attrs.$observe("allowClear",setAllowClear),setAllowClear(attrs.allowClear),$select.multiple&&$select.sizeSearchInput()}}}]),uis.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(uiSelectMinErr,$timeout){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function($scope,$timeout){var ngModel,ctrl=this,$select=$scope.$select;$scope.$evalAsync(function(){ngModel=$scope.ngModel}),ctrl.activeMatchIndex=-1,ctrl.updateModel=function(){ngModel.$setViewValue(Date.now()),ctrl.refreshComponent()},ctrl.refreshComponent=function(){$select.refreshItems(),$select.sizeSearchInput()},ctrl.removeChoice=function(index){var removedChoice=$select.selected[index];if(!removedChoice||!removedChoice._uiSelectChoiceLocked){var locals={};locals[$select.parserResult.itemName]=removedChoice,$select.selected.splice(index,1),ctrl.activeMatchIndex=-1,$select.sizeSearchInput(),$timeout(function(){$select.onRemoveCallback($scope,{$item:removedChoice,$model:$select.parserResult.modelMapper($scope,locals)})}),ctrl.updateModel()}},ctrl.getPlaceholder=function(){if(!$select.selected.length)return $select.placeholder}}],controllerAs:"$selectMultiple",link:function(scope,element,attrs,ctrls){function _getCaretPosition(el){return angular.isNumber(el.selectionStart)?el.selectionStart:el.value.length}function _handleMatchSelection(key){function getNewActiveMatchIndex(){switch(key){case KEY.LEFT:return~$selectMultiple.activeMatchIndex?prev:last;case KEY.RIGHT:return~$selectMultiple.activeMatchIndex&&curr!==last?next:($select.activate(),!1);case KEY.DELETE:return!!~$selectMultiple.activeMatchIndex&&($selectMultiple.removeChoice($selectMultiple.activeMatchIndex),curr)}}var caretPosition=_getCaretPosition($select.searchInput[0]),length=$select.selected.length,first=0,last=length-1,curr=$selectMultiple.activeMatchIndex,next=$selectMultiple.activeMatchIndex+1,prev=$selectMultiple.activeMatchIndex-1,newIndex=curr;return!(caretPosition>0||$select.search.length&&key==KEY.RIGHT)&&($select.close(),newIndex=getNewActiveMatchIndex(),$select.selected.length&&newIndex!==!1?$selectMultiple.activeMatchIndex=Math.min(last,Math.max(first,newIndex)):$selectMultiple.activeMatchIndex=-1,!0)}function _findCaseInsensitiveDupe(arr){return!1}function _findApproxDupe(haystack,needle){var dupeIndex=-1;if(angular.isArray(haystack))for(var tempArr=angular.copy(haystack),i=0;i<tempArr.length;i++)if(void 0===$select.tagging.fct)tempArr[i]+" "+$select.taggingLabel===needle&&(dupeIndex=i);else{var mockObj=tempArr[i];mockObj.isTag=!0,angular.equals(mockObj,needle)&&(dupeIndex=i)}return dupeIndex}var $select=ctrls[0],ngModel=scope.ngModel=ctrls[1],$selectMultiple=scope.$selectMultiple;$select.multiple=!0,$select.removeSelected=!1,$select.focusInput=$select.searchInput,ngModel.$parsers.unshift(function(){for(var result,locals={},resultMultiple=[],j=$select.selected.length-1;j>=0;j--)locals={},locals[$select.parserResult.itemName]=$select.selected[j],result=$select.parserResult.modelMapper(scope,locals),resultMultiple.unshift(result);return resultMultiple}),ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(!data)return inputValue;var resultMultiple=[],checkFnMultiple=function(list,value){if(list&&list.length){for(var p=list.length-1;p>=0;p--){if(locals[$select.parserResult.itemName]=list[p],result=$select.parserResult.modelMapper(scope,locals),$select.parserResult.trackByExp){var matches=/\.(.+)/.exec($select.parserResult.trackByExp);if(matches.length>0&&result[matches[1]]==value[matches[1]])return resultMultiple.unshift(list[p]),!0}if(angular.equals(result,value))return resultMultiple.unshift(list[p]),!0}return!1}};if(!inputValue)return resultMultiple;for(var k=inputValue.length-1;k>=0;k--)checkFnMultiple($select.selected,inputValue[k])||checkFnMultiple(data,inputValue[k])||resultMultiple.unshift(inputValue[k]);return resultMultiple}),scope.$watchCollection(function(){return ngModel.$modelValue},function(newValue,oldValue){oldValue!=newValue&&(ngModel.$modelValue=null,$selectMultiple.refreshComponent())}),ngModel.$render=function(){if(!angular.isArray(ngModel.$viewValue)){if(!angular.isUndefined(ngModel.$viewValue)&&null!==ngModel.$viewValue)throw uiSelectMinErr("multiarr","Expected model value to be array but got '{0}'",ngModel.$viewValue);$select.selected=[]}$select.selected=ngModel.$viewValue,scope.$evalAsync()},scope.$on("uis:select",function(event,item){$select.selected.push(item),$selectMultiple.updateModel()}),scope.$on("uis:activate",function(){console.log("uis:activate"),$select&&$select.searchInput&&$select.searchInput[0]&&($select.search=$select.searchInput[0].value),$selectMultiple.activeMatchIndex=-1}),scope.$watch("$select.disabled",function(newValue,oldValue){oldValue&&!newValue&&$select.sizeSearchInput()}),$select.searchInput.on("keydown",function(e){var key=e.which;scope.$apply(function(){var processed=!1;KEY.isHorizontalMovement(key)&&(processed=_handleMatchSelection(key)),processed&&key!=KEY.TAB&&(e.preventDefault(),e.stopPropagation())})}),$select.searchInput.on("keyup",function(e){if(KEY.isVerticalMovement(e.which)||scope.$evalAsync(function(){$select.activeIndex=$select.taggingLabel===!1?-1:0}),$select.tagging.isActivated&&$select.search.length>0){if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||KEY.isVerticalMovement(e.which))return;if($select.activeIndex=$select.taggingLabel===!1?-1:0,$select.taggingLabel===!1)return;var newItem,item,tagItems,tagItem,items=angular.copy($select.items),stashArr=angular.copy($select.items),hasTag=!1,dupeIndex=-1;if(void 0!==$select.tagging.fct){if(tagItems=$select.$filter("filter")(items,{isTag:!0}),tagItems.length>0&&(tagItem=tagItems[0]),items.length>0&&tagItem&&(hasTag=!0,
items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.tagging.fct($select.search),newItem.isTag=!0,stashArr.filter(function(origItem){return angular.equals(origItem,$select.tagging.fct($select.search))}).length>0)return;newItem.isTag=!0}else{if(tagItems=$select.$filter("filter")(items,function(item){if(item){if("string"==typeof item)return item.match($select.taggingLabel);"object"==typeof item&&item.text.match($select.taggingLabel)}}),tagItems.length>0&&(tagItem=tagItems[0]),item=items&&""!==items[0]?items[0]:void 0,void 0!==item&&items.length>0&&tagItem&&(hasTag=!0,items=items.slice(1,items.length),stashArr=stashArr.slice(1,stashArr.length)),newItem=$select.search+" "+$select.taggingLabel,_findApproxDupe($select.selected,$select.search)>-1)return;if(_findCaseInsensitiveDupe(stashArr.concat($select.selected)))return void(hasTag&&(items=stashArr,scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items})));if(_findCaseInsensitiveDupe(stashArr))return void(hasTag&&($select.items=stashArr.slice(1,stashArr.length)))}hasTag&&(dupeIndex=_findApproxDupe($select.selected,newItem)),dupeIndex>-1?items=items.slice(dupeIndex+1,items.length-1):(items=[],items=items.concat(stashArr)),scope.$evalAsync(function(){$select.activeIndex=0,$select.items=items})}}),$select.searchInput.on("blur",function(){$timeout(function(){$selectMultiple.activeMatchIndex=-1,$select.open||$select.searchInput&&$select.searchInput[0]&&($select.searchInput[0].value!==$select.search&&($select.search=$select.searchInput[0].value),scope.$emit("focuslost",$select.search))})})}}}]),uis.directive("uiSelectSingle",["$timeout","$compile",function($timeout,$compile){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(scope,element,attrs,ctrls){var $select=ctrls[0],ngModel=ctrls[1];element.on("blur",function(){}),ngModel.$parsers.unshift(function(inputValue){var result,locals={};return locals[$select.parserResult.itemName]=inputValue,result=$select.parserResult.modelMapper(scope,locals)}),ngModel.$formatters.unshift(function(inputValue){var result,data=$select.parserResult.source(scope,{$select:{search:""}}),locals={};if(data){var checkFnSingle=function(d){return locals[$select.parserResult.itemName]=d,result=$select.parserResult.modelMapper(scope,locals),result==inputValue};if($select.selected&&checkFnSingle($select.selected))return $select.selected;for(var i=data.length-1;i>=0;i--)if(checkFnSingle(data[i]))return data[i]}return inputValue}),scope.$watch("$select.selected",function(newValue){ngModel.$viewValue!==newValue&&ngModel.$setViewValue(newValue)}),ngModel.$render=function(){$select.selected=ngModel.$viewValue},scope.$on("uis:select",function(event,item){$select.selected=item}),scope.$on("uis:close",function(event,skipFocusser){$timeout(function(){$select.focusser.prop("disabled",!1),skipFocusser||$select.focusser[0].focus()},0,!1)}),scope.$on("uis:activate",function(){focusser.prop("disabled",!0)});var focusser=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");$compile(focusser)(scope),$select.focusser=focusser,$select.focusInput=focusser,element.parent().append(focusser),focusser.bind("focus",function(){scope.$evalAsync(function(){$select.focus=!0})}),focusser.bind("blur",function(){scope.$evalAsync(function(){$select.focus=!1})}),focusser.bind("keydown",function(e){return e.which===KEY.BACKSPACE?(e.preventDefault(),e.stopPropagation(),$select.select(void 0),void scope.$apply()):void(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||(e.which!=KEY.DOWN&&e.which!=KEY.UP&&e.which!=KEY.ENTER&&e.which!=KEY.SPACE||(e.preventDefault(),e.stopPropagation(),$select.activate()),scope.$digest()))}),focusser.bind("keyup input",function(e){e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC||e.which==KEY.ENTER||e.which===KEY.BACKSPACE||($select.activate(focusser.val()),focusser.val(""),scope.$digest())})}}}]),uis.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function($timeout,uiSelectConfig,uiSelectMinErr){return{require:"^uiSelect",link:function(scope,element,attrs,$select){if(null===scope[attrs.uiSelectSort])throw uiSelectMinErr("sort","Expected a list to sort");var options=angular.extend({axis:"horizontal"},scope.$eval(attrs.uiSelectSortOptions)),axis=options.axis,draggingClassName="dragging",droppingClassName="dropping",droppingBeforeClassName="dropping-before",droppingAfterClassName="dropping-after";scope.$watch(function(){return $select.sortable},function(n){n?element.attr("draggable",!0):element.removeAttr("draggable")}),element.on("dragstart",function(e){element.addClass(draggingClassName),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",scope.$index)}),element.on("dragend",function(){element.removeClass(draggingClassName)});var dropTimeout,move=function(from,to){this.splice(to,0,this.splice(from,1)[0])},dragOverHandler=function(e){e.preventDefault();var offset="vertical"===axis?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);offset<this["vertical"===axis?"offsetHeight":"offsetWidth"]/2?(element.removeClass(droppingAfterClassName),element.addClass(droppingBeforeClassName)):(element.removeClass(droppingBeforeClassName),element.addClass(droppingAfterClassName))},dropHandler=function(e){e.preventDefault();var droppedItemIndex=parseInt((e.dataTransfer||e.originalEvent.dataTransfer).getData("text/plain"),10);$timeout.cancel(dropTimeout),dropTimeout=$timeout(function(){_dropHandler(droppedItemIndex)},20)},_dropHandler=function(droppedItemIndex){var theList=scope.$eval(attrs.uiSelectSort),itemToMove=theList[droppedItemIndex],newIndex=null;newIndex=element.hasClass(droppingBeforeClassName)?droppedItemIndex<scope.$index?scope.$index-1:scope.$index:droppedItemIndex<scope.$index?scope.$index:scope.$index+1,move.apply(theList,[droppedItemIndex,newIndex]),scope.$apply(function(){scope.$emit("uiSelectSort:change",{array:theList,item:itemToMove,from:droppedItemIndex,to:newIndex})}),element.removeClass(droppingClassName),element.removeClass(droppingBeforeClassName),element.removeClass(droppingAfterClassName),element.off("drop",dropHandler)};element.on("dragenter",function(){element.hasClass(draggingClassName)||(element.addClass(droppingClassName),element.on("dragover",dragOverHandler),element.on("drop",dropHandler))}),element.on("dragleave",function(e){e.target==element&&(element.removeClass(droppingClassName),element.removeClass(droppingBeforeClassName),element.removeClass(droppingAfterClassName),element.off("dragover",dragOverHandler),element.off("drop",dropHandler))})}}}]),uis.service("uisRepeatParser",["uiSelectMinErr","$parse",function(uiSelectMinErr,$parse){var self=this;self.parse=function(expression){var match=expression.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw uiSelectMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);return{itemName:match[2],source:$parse(match[3]),trackByExp:match[4],modelMapper:$parse(match[1]||match[2])}},self.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},self.getNgRepeatExpression=function(itemName,source,trackByExp,grouped){var expression=itemName+" in "+(grouped?"$group.items":source);return trackByExp&&(expression+=" track by "+trackByExp),expression}}])}(),angular.module("ui.select").run(["$templateCache",function($templateCache){$templateCache.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),$templateCache.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected track by $index"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),$templateCache.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),$templateCache.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),$templateCache.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),$templateCache.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),$templateCache.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li ng-repeat="$item in $select.selected track by $index" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> </li></span>'),$templateCache.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),$templateCache.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),$templateCache.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),$templateCache.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),$templateCache.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),$templateCache.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')}]),function($){"undefined"==typeof $.fn.each2&&$.extend($.fn,{each2:function(c){for(var j=$([0]),i=-1,l=this.length;++i<l&&(j.context=j[0]=this[i])&&c.call(j[0],i,j)!==!1;);return this}})}(jQuery),function($,undefined){"use strict";function reinsertElement(element){var placeholder=$(document.createTextNode(""));element.before(placeholder),placeholder.before(element),placeholder.remove()}function stripDiacritics(str){function match(a){return DIACRITICS[a]||a}return str.replace(/[^\u0000-\u007E]/g,match)}function indexOf(value,array){for(var i=0,l=array.length;i<l;i+=1)if(equal(value,array[i]))return i;return-1}function measureScrollbar(){var $template=$(MEASURE_SCROLLBAR_TEMPLATE);$template.appendTo("body");var dim={width:$template.width()-$template[0].clientWidth,height:$template.height()-$template[0].clientHeight};return $template.remove(),dim}function equal(a,b){return a===b||a!==undefined&&b!==undefined&&(null!==a&&null!==b&&(a.constructor===String?a+""==b+"":b.constructor===String&&b+""==a+""))}function splitVal(string,separator){var val,i,l;if(null===string||string.length<1)return[];for(val=string.split(separator),i=0,l=val.length;i<l;i+=1)val[i]=$.trim(val[i]);return val}function getSideBorderPadding(element){return element.outerWidth(!1)-element.width()}function installKeyUpChangeEvent(element){var key="keyup-change-value";element.on("keydown",function(){$.data(element,key)===undefined&&$.data(element,key,element.val())}),element.on("keyup",function(){var val=$.data(element,key);val!==undefined&&element.val()!==val&&($.removeData(element,key),element.trigger("keyup-change"))})}function installFilteredMouseMove(element){element.on("mousemove",function(e){var lastpos=lastMousePosition;lastpos!==undefined&&lastpos.x===e.pageX&&lastpos.y===e.pageY||$(e.target).trigger("mousemove-filtered",e)})}function debounce(quietMillis,fn,ctx){ctx=ctx||undefined;var timeout;return function(){var args=arguments;window.clearTimeout(timeout),timeout=window.setTimeout(function(){fn.apply(ctx,args)},quietMillis)}}function installDebouncedScroll(threshold,element){var notify=debounce(threshold,function(e){element.trigger("scroll-debounced",e)});element.on("scroll",function(e){indexOf(e.target,element.get())>=0&&notify(e)})}function focus($el){$el[0]!==document.activeElement&&window.setTimeout(function(){var range,el=$el[0],pos=$el.val().length;$el.focus();var isVisible=el.offsetWidth>0||el.offsetHeight>0;isVisible&&el===document.activeElement&&(el.setSelectionRange?el.setSelectionRange(pos,pos):el.createTextRange&&(range=el.createTextRange(),range.collapse(!1),range.select()))},0)}function getCursorInfo(el){el=$(el)[0];var offset=0,length=0;if("selectionStart"in el)offset=el.selectionStart,length=el.selectionEnd-offset;else if("selection"in document){el.focus();var sel=document.selection.createRange();length=document.selection.createRange().text.length,sel.moveStart("character",-el.value.length),offset=sel.text.length-length}return{offset:offset,length:length}}function killEvent(event){event.preventDefault(),event.stopPropagation()}function killEventImmediately(event){event.preventDefault(),event.stopImmediatePropagation()}function measureTextWidth(e){if(!sizer){var style=e[0].currentStyle||window.getComputedStyle(e[0],null);sizer=$(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:style.fontSize,fontFamily:style.fontFamily,fontStyle:style.fontStyle,fontWeight:style.fontWeight,letterSpacing:style.letterSpacing,textTransform:style.textTransform,whiteSpace:"nowrap"}),sizer.attr("class","select2-sizer"),$("body").append(sizer)}return sizer.text(e.val()),sizer.width()}function syncCssClasses(dest,src,adapter){var classes,adapted,replacements=[];classes=$.trim(dest.attr("class")),classes&&(classes=""+classes,$(classes.split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&replacements.push(this)})),classes=$.trim(src.attr("class")),classes&&(classes=""+classes,$(classes.split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(adapted=adapter(this),adapted&&replacements.push(adapted))})),dest.attr("class",replacements.join(" "))}function markMatch(text,term,markup,escapeMarkup){var match=stripDiacritics(text.toUpperCase()).indexOf(stripDiacritics(term.toUpperCase())),tl=term.length;return match<0?void markup.push(escapeMarkup(text)):(markup.push(escapeMarkup(text.substring(0,match))),markup.push("<span class='select2-match'>"),markup.push(escapeMarkup(text.substring(match,match+tl))),markup.push("</span>"),void markup.push(escapeMarkup(text.substring(match+tl,text.length))))}function defaultEscapeMarkup(markup){var replace_map={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replace_map[match]})}function ajax(options){var timeout,handler=null,quietMillis=options.quietMillis||100,ajaxUrl=options.url,self=this;return function(query){window.clearTimeout(timeout),timeout=window.setTimeout(function(){var data=options.data,url=ajaxUrl,transport=options.transport||$.fn.select2.ajaxDefaults.transport,deprecated={type:options.type||"GET",cache:options.cache||!1,jsonpCallback:options.jsonpCallback||undefined,dataType:options.dataType||"json"},params=$.extend({},$.fn.select2.ajaxDefaults.params,deprecated);data=data?data.call(self,query.term,query.page,query.context):null,url="function"==typeof url?url.call(self,query.term,query.page,query.context):url,handler&&"function"==typeof handler.abort&&handler.abort(),options.params&&($.isFunction(options.params)?$.extend(params,options.params.call(self)):$.extend(params,options.params)),$.extend(params,{url:url,dataType:options.dataType,data:data,success:function(data){var results=options.results(data,query.page,query);query.callback(results)}}),handler=transport.call(self,params)},quietMillis)}}function local(options){var dataText,tmp,data=options,text=function(item){return""+item.text};$.isArray(data)&&(tmp=data,data={results:tmp}),$.isFunction(data)===!1&&(tmp=data,data=function(){return tmp});var dataItem=data();return dataItem.text&&(text=dataItem.text,$.isFunction(text)||(dataText=dataItem.text,text=function(item){return item[dataText]})),function(query){var process,t=query.term,filtered={results:[]};return""===t?void query.callback(data()):(process=function(datum,collection){var group,attr;if(datum=datum[0],datum.children){group={};for(attr in datum)datum.hasOwnProperty(attr)&&(group[attr]=datum[attr]);group.children=[],$(datum.children).each2(function(i,childDatum){process(childDatum,group.children)}),(group.children.length||query.matcher(t,text(group),datum))&&collection.push(group)}else query.matcher(t,text(datum),datum)&&collection.push(datum)},$(data().results).each2(function(i,datum){process(datum,filtered.results)}),void query.callback(filtered))}}function tags(data){var isFunc=$.isFunction(data);return function(query){var t=query.term,filtered={results:[]},result=isFunc?data(query):data;$.isArray(result)&&($(result).each(function(){var isObject=this.text!==undefined,text=isObject?this.text:this;(""===t||query.matcher(t,text))&&filtered.results.push(isObject?this:{id:this,text:this})}),query.callback(filtered))}}function checkFormatter(formatter,formatterName){if($.isFunction(formatter))return!0;if(!formatter)return!1;if("string"==typeof formatter)return!0;throw new Error(formatterName+" must be a string, function, or falsy value")}function evaluate(val,context){if($.isFunction(val)){var args=Array.prototype.slice.call(arguments,2);return val.apply(context,args)}return val}function countResults(results){var count=0;return $.each(results,function(i,item){item.children?count+=countResults(item.children):count++}),count}function defaultTokenizer(input,selection,selectCallback,opts){var token,index,i,l,separator,original=input,dupe=!1;if(!opts.createSearchChoice||!opts.tokenSeparators||opts.tokenSeparators.length<1)return undefined;for(;;){for(index=-1,i=0,l=opts.tokenSeparators.length;i<l&&(separator=opts.tokenSeparators[i],index=input.indexOf(separator),!(index>=0));i++);if(index<0)break;if(token=input.substring(0,index),input=input.substring(index+separator.length),token.length>0&&(token=opts.createSearchChoice.call(this,token,selection),token!==undefined&&null!==token&&opts.id(token)!==undefined&&null!==opts.id(token))){for(dupe=!1,i=0,l=selection.length;i<l;i++)if(equal(opts.id(token),opts.id(selection[i]))){dupe=!0;break}dupe||selectCallback(token)}}return original!==input?input:void 0}function cleanupJQueryElements(){var self=this;$.each(arguments,function(i,element){self[element].remove(),self[element]=null})}function clazz(SuperClass,methods){var constructor=function(){};return constructor.prototype=new SuperClass,constructor.prototype.constructor=constructor,constructor.prototype.parent=SuperClass.prototype,constructor.prototype=$.extend(constructor.prototype,methods),constructor}if(window.Select2===undefined){var KEY,AbstractSelect2,SingleSelect2,MultiSelect2,nextUid,sizer,$document,scrollBarDimensions,lastMousePosition={x:0,y:0},KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(k){switch(k=k.which?k.which:k){case KEY.LEFT:case KEY.RIGHT:case KEY.UP:case KEY.DOWN:return!0}return!1},isControl:function(e){var k=e.which;switch(k){case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return!0}return!!e.metaKey},isFunctionKey:function(k){return k=k.which?k.which:k,k>=112&&k<=123}},MEASURE_SCROLLBAR_TEMPLATE="<div class='select2-measure-scrollbar'></div>",DIACRITICS={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p",
"":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};$document=$(document),nextUid=function(){var counter=1;return function(){return counter++}}(),AbstractSelect2=clazz(Object,{bind:function(func){var self=this;return function(){func.apply(self,arguments)}},init:function(opts){var results,search,resultsSelector=".select2-results";this.opts=opts=this.prepareOpts(opts),this.id=opts.id,opts.element.data("select2")!==undefined&&null!==opts.element.data("select2")&&opts.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body),this.containerId="s2id_"+(opts.element.attr("id")||"autogen"+nextUid()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",opts.element.attr("title")),this.body=$("body"),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",opts.element.attr("style")),this.container.css(evaluate(opts.containerCss,this.opts.element)),this.container.addClass(evaluate(opts.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",killEvent),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(opts.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",killEvent),this.results=results=this.container.find(resultsSelector),this.search=search=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",killEvent),installFilteredMouseMove(this.results),this.dropdown.on("mousemove-filtered",resultsSelector,this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",resultsSelector,this.bind(function(event){this._touchEvent=!0,this.highlightUnderEvent(event)})),this.dropdown.on("touchmove",resultsSelector,this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",resultsSelector,this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(event){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),installDebouncedScroll(80,this.results),this.dropdown.on("scroll-debounced",resultsSelector,this.bind(this.loadMoreIfNeeded)),$(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),$(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),$.fn.mousewheel&&results.mousewheel(function(e,delta,deltaX,deltaY){var top=results.scrollTop();deltaY>0&&top-deltaY<=0?(results.scrollTop(0),killEvent(e)):deltaY<0&&results.get(0).scrollHeight-results.scrollTop()+deltaY<=results.height()&&(results.scrollTop(results.get(0).scrollHeight-results.height()),killEvent(e))}),installKeyUpChangeEvent(search),search.on("keyup-change input paste",this.bind(this.updateResults)),search.on("focus",function(){search.addClass("select2-focused")}),search.on("blur",function(){search.removeClass("select2-focused")}),this.dropdown.on("mouseup",resultsSelector,this.bind(function(e){$(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=undefined,$.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==opts.maximumInputLength&&this.search.attr("maxlength",opts.maximumInputLength);var disabled=opts.element.prop("disabled");disabled===undefined&&(disabled=!1),this.enable(!disabled);var readonly=opts.element.prop("readonly");readonly===undefined&&(readonly=!1),this.readonly(readonly),scrollBarDimensions=scrollBarDimensions||measureScrollbar(),this.autofocus=opts.element.prop("autofocus"),opts.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",opts.searchInputPlaceholder)},destroy:function(){var element=this.opts.element,select2=element.data("select2");this.close(),element.length&&element[0].detachEvent&&element.each(function(){this.detachEvent("onpropertychange",this._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,select2!==undefined&&(select2.container.remove(),select2.liveRegion.remove(),select2.dropdown.remove(),element.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?element.attr({tabindex:this.elementTabIndex}):element.removeAttr("tabindex"),element.show()),cleanupJQueryElements.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(element){return element.is("option")?{id:element.prop("value"),text:element.text(),element:element.get(),css:element.attr("class"),disabled:element.prop("disabled"),locked:equal(element.attr("locked"),"locked")||equal(element.data("locked"),!0)}:element.is("optgroup")?{text:element.attr("label"),children:[],element:element.get(),css:element.attr("class")}:void 0},prepareOpts:function(opts){var element,select,idKey,ajaxUrl,self=this;if(element=opts.element,"select"===element.get(0).tagName.toLowerCase()&&(this.select=select=opts.element),select&&$.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in opts)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),opts=$.extend({},{populateResults:function(container,results,query){var populate,id=this.opts.id,liveRegion=this.liveRegion;(populate=function(results,container,depth){var i,l,result,selectable,disabled,compound,node,label,innerContainer,formatted;results=opts.sortResults(results,container,query);var nodes=[];for(i=0,l=results.length;i<l;i+=1)result=results[i],disabled=result.disabled===!0,selectable=!disabled&&id(result)!==undefined,compound=result.children&&result.children.length>0,node=$("<li></li>"),node.addClass("select2-results-dept-"+depth),node.addClass("select2-result"),node.addClass(selectable?"select2-result-selectable":"select2-result-unselectable"),disabled&&node.addClass("select2-disabled"),compound&&node.addClass("select2-result-with-children"),node.addClass(self.opts.formatResultCssClass(result)),node.attr("role","presentation"),label=$(document.createElement("div")),label.addClass("select2-result-label"),label.attr("id","select2-result-label-"+nextUid()),label.attr("role","option"),formatted=opts.formatResult(result,label,query,self.opts.escapeMarkup),formatted!==undefined&&(label.html(formatted),node.append(label)),compound&&(innerContainer=$("<ul></ul>"),innerContainer.addClass("select2-result-sub"),populate(result.children,innerContainer,depth+1),node.append(innerContainer)),node.data("select2-data",result),nodes.push(node[0]);container.append(nodes),liveRegion.text(opts.formatMatches(results.length))})(results,container,0)}},$.fn.select2.defaults,opts),"function"!=typeof opts.id&&(idKey=opts.id,opts.id=function(e){return e[idKey]}),$.isArray(opts.element.data("select2Tags"))){if("tags"in opts)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+opts.element.attr("id");opts.tags=opts.element.data("select2Tags")}if(select?(opts.query=this.bind(function(query){var children,placeholderOption,process,data={results:[],more:!1},term=query.term;process=function(element,collection){var group;element.is("option")?query.matcher(term,element.text(),element)&&collection.push(self.optionToData(element)):element.is("optgroup")&&(group=self.optionToData(element),element.children().each2(function(i,elm){process(elm,group.children)}),group.children.length>0&&collection.push(group))},children=element.children(),this.getPlaceholder()!==undefined&&children.length>0&&(placeholderOption=this.getPlaceholderOption(),placeholderOption&&(children=children.not(placeholderOption))),children.each2(function(i,elm){process(elm,data.results)}),query.callback(data)}),opts.id=function(e){return e.id}):"query"in opts||("ajax"in opts?(ajaxUrl=opts.element.data("ajax-url"),ajaxUrl&&ajaxUrl.length>0&&(opts.ajax.url=ajaxUrl),opts.query=ajax.call(opts.element,opts.ajax)):"data"in opts?opts.query=local(opts.data):"tags"in opts&&(opts.query=tags(opts.tags),opts.createSearchChoice===undefined&&(opts.createSearchChoice=function(term){return{id:$.trim(term),text:$.trim(term)}}),opts.initSelection===undefined&&(opts.initSelection=function(element,callback){var data=[];$(splitVal(element.val(),opts.separator)).each(function(){var obj={id:this,text:this},tags=opts.tags;$.isFunction(tags)&&(tags=tags()),$(tags).each(function(){if(equal(this.id,obj.id))return obj=this,!1}),data.push(obj)}),callback(data)}))),"function"!=typeof opts.query)throw"query function not defined for Select2 "+opts.element.attr("id");if("top"===opts.createSearchChoicePosition)opts.createSearchChoicePosition=function(list,item){list.unshift(item)};else if("bottom"===opts.createSearchChoicePosition)opts.createSearchChoicePosition=function(list,item){list.push(item)};else if("function"!=typeof opts.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return opts},monitorSource:function(){var observer,el=this.opts.element,self=this;el.on("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),this._sync=this.bind(function(){var disabled=el.prop("disabled");disabled===undefined&&(disabled=!1),this.enable(!disabled);var readonly=el.prop("readonly");readonly===undefined&&(readonly=!1),this.readonly(readonly),syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(evaluate(this.opts.containerCssClass,this.opts.element)),syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(evaluate(this.opts.dropdownCssClass,this.opts.element))}),el.length&&el[0].attachEvent&&el.each(function(){this.attachEvent("onpropertychange",self._sync)}),observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,observer!==undefined&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new observer(function(mutations){$.each(mutations,self._sync)}),this.propertyObserver.observe(el.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(data){var evt=$.Event("select2-selecting",{val:this.id(data),object:data,choice:data});return this.opts.element.trigger(evt),!evt.isDefaultPrevented()},triggerChange:function(details){details=details||{},details=$.extend({},details,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(details),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var enabled=this._enabled&&!this._readonly,disabled=!enabled;return enabled!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",disabled),this.close(),this.enabledInterface=enabled,!0)},enable:function(enabled){enabled===undefined&&(enabled=!0),this._enabled!==enabled&&(this._enabled=enabled,this.opts.element.prop("disabled",!enabled),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(enabled){enabled===undefined&&(enabled=!1),this._readonly!==enabled&&(this._readonly=enabled,this.opts.element.prop("readonly",enabled),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var bodyOffset,above,changeDirection,css,resultsListNode,$dropdown=this.dropdown,offset=this.container.offset(),height=this.container.outerHeight(!1),width=this.container.outerWidth(!1),dropHeight=$dropdown.outerHeight(!1),$window=$(window),windowWidth=$window.width(),windowHeight=$window.height(),viewPortRight=$window.scrollLeft()+windowWidth,viewportBottom=$window.scrollTop()+windowHeight,dropTop=offset.top+height,dropLeft=offset.left,enoughRoomBelow=dropTop+dropHeight<=viewportBottom,enoughRoomAbove=offset.top-dropHeight>=$window.scrollTop(),dropWidth=$dropdown.outerWidth(!1),enoughRoomOnRight=dropLeft+dropWidth<=viewPortRight,aboveNow=$dropdown.hasClass("select2-drop-above");aboveNow?(above=!0,!enoughRoomAbove&&enoughRoomBelow&&(changeDirection=!0,above=!1)):(above=!1,!enoughRoomBelow&&enoughRoomAbove&&(changeDirection=!0,above=!0)),changeDirection&&($dropdown.hide(),offset=this.container.offset(),height=this.container.outerHeight(!1),width=this.container.outerWidth(!1),dropHeight=$dropdown.outerHeight(!1),viewPortRight=$window.scrollLeft()+windowWidth,viewportBottom=$window.scrollTop()+windowHeight,dropTop=offset.top+height,dropLeft=offset.left,dropWidth=$dropdown.outerWidth(!1),enoughRoomOnRight=dropLeft+dropWidth<=viewPortRight,$dropdown.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(resultsListNode=$(".select2-results",$dropdown)[0],$dropdown.addClass("select2-drop-auto-width"),$dropdown.css("width",""),dropWidth=$dropdown.outerWidth(!1)+(resultsListNode.scrollHeight===resultsListNode.clientHeight?0:scrollBarDimensions.width),dropWidth>width?width=dropWidth:dropWidth=width,dropHeight=$dropdown.outerHeight(!1),enoughRoomOnRight=dropLeft+dropWidth<=viewPortRight):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(bodyOffset=this.body.offset(),dropTop-=bodyOffset.top,dropLeft-=bodyOffset.left),enoughRoomOnRight||(dropLeft=offset.left+this.container.outerWidth(!1)-dropWidth),css={left:dropLeft,width:width},above?(css.top=offset.top-dropHeight,css.bottom="auto",this.container.addClass("select2-drop-above"),$dropdown.addClass("select2-drop-above")):(css.top=dropTop,css.bottom="auto",this.container.removeClass("select2-drop-above"),$dropdown.removeClass("select2-drop-above")),css=$.extend(css,evaluate(this.opts.dropdownCss,this.opts.element)),$dropdown.css(css)},shouldOpen:function(){var event;return!this.opened()&&(this._enabled!==!1&&this._readonly!==!0&&(event=$.Event("select2-opening"),this.opts.element.trigger(event),!event.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),$document.on("mousemove.select2Event",function(e){lastMousePosition.x=e.pageX,lastMousePosition.y=e.pageY}),!0)},opening:function(){var mask,cid=this.containerEventName,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),mask=$("#select2-drop-mask"),0==mask.length&&(mask=$(document.createElement("div")),mask.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),mask.hide(),mask.appendTo(this.body),mask.on("mousedown touchstart click",function(e){reinsertElement(mask);var self,dropdown=$("#select2-drop");dropdown.length>0&&(self=dropdown.data("select2"),self.opts.selectOnBlur&&self.selectHighlighted({noFocus:!0}),self.close(),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==mask[0]&&this.dropdown.before(mask),$("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),mask.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var that=this;this.container.parents().add(window).each(function(){$(this).on(resize+" "+scroll+" "+orient,function(e){that.opened()&&that.positionDropdown()})})},close:function(){if(this.opened()){var cid=this.containerEventName,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid;this.container.parents().add(window).each(function(){$(this).off(scroll).off(resize).off(orient)}),this.clearDropdownAlignmentPreference(),$("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),$document.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger($.Event("select2-close"))}},externalSearch:function(term){this.open(),this.search.val(term),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return evaluate(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var children,index,child,hb,rb,y,more,results=this.results;if(index=this.highlight(),!(index<0)){if(0==index)return void results.scrollTop(0);children=this.findHighlightableChoices().find(".select2-result-label"),child=$(children[index]),hb=child.offset().top+child.outerHeight(!0),index===children.length-1&&(more=results.find("li.select2-more-results"),more.length>0&&(hb=more.offset().top+more.outerHeight(!0))),rb=results.offset().top+results.outerHeight(!0),hb>rb&&results.scrollTop(results.scrollTop()+(hb-rb)),y=child.offset().top-results.offset().top,y<0&&"none"!=child.css("display")&&results.scrollTop(results.scrollTop()+y)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(delta){for(var choices=this.findHighlightableChoices(),index=this.highlight();index>-1&&index<choices.length;){index+=delta;var choice=$(choices[index]);if(choice.hasClass("select2-result-selectable")&&!choice.hasClass("select2-disabled")&&!choice.hasClass("select2-selected")){this.highlight(index);break}}},highlight:function(index){var choice,data,choices=this.findHighlightableChoices();return 0===arguments.length?indexOf(choices.filter(".select2-highlighted")[0],choices.get()):(index>=choices.length&&(index=choices.length-1),index<0&&(index=0),this.removeHighlight(),choice=$(choices[index]),choice.addClass("select2-highlighted"),this.search.attr("aria-activedescendant",choice.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(choice.text()),data=choice.data("select2-data"),void(data&&this.opts.element.trigger({type:"select2-highlight",val:this.id(data),choice:data})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(event){var el=$(event.target).closest(".select2-result-selectable");if(el.length>0&&!el.is(".select2-highlighted")){var choices=this.findHighlightableChoices();this.highlight(choices.index(el))}else 0==el.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var below,results=this.results,more=results.find("li.select2-more-results"),page=this.resultsPage+1,self=this,term=this.search.val(),context=this.context;0!==more.length&&(below=more.offset().top-results.offset().top-results.height(),below<=this.opts.loadMorePadding&&(more.addClass("select2-active"),this.opts.query({element:this.opts.element,term:term,page:page,context:context,matcher:this.opts.matcher,callback:this.bind(function(data){self.opened()&&(self.opts.populateResults.call(this,results,data.results,{term:term,page:page,context:context}),self.postprocessResults(data,!1,!1),data.more===!0?(more.detach().appendTo(results).text(evaluate(self.opts.formatLoadMore,self.opts.element,page+1)),window.setTimeout(function(){self.loadMoreIfNeeded()},10)):more.remove(),self.positionDropdown(),self.resultsPage=page,self.context=data.context,this.opts.element.trigger({type:"select2-loaded",items:data}))})})))},tokenize:function(){},updateResults:function(initial){function postRender(){search.removeClass("select2-active"),self.positionDropdown(),results.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?self.liveRegion.text(results.text()):self.liveRegion.text(self.opts.formatMatches(results.find(".select2-result-selectable").length))}function render(html){results.html(html),postRender()}var data,input,queryNumber,search=this.search,results=this.results,opts=this.opts,self=this,term=search.val(),lastTerm=$.data(this.container,"select2-last-term");if((initial===!0||!lastTerm||!equal(term,lastTerm))&&($.data(this.container,"select2-last-term",term),initial===!0||this.showSearchInput!==!1&&this.opened())){queryNumber=++this.queryCount;var maxSelSize=this.getMaximumSelectionSize();if(maxSelSize>=1&&(data=this.data(),$.isArray(data)&&data.length>=maxSelSize&&checkFormatter(opts.formatSelectionTooBig,"formatSelectionTooBig")))return void render("<li class='select2-selection-limit'>"+evaluate(opts.formatSelectionTooBig,opts.element,maxSelSize)+"</li>");if(search.val().length<opts.minimumInputLength)return render(checkFormatter(opts.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+evaluate(opts.formatInputTooShort,opts.element,search.val(),opts.minimumInputLength)+"</li>":""),void(initial&&this.showSearch&&this.showSearch(!0));if(opts.maximumInputLength&&search.val().length>opts.maximumInputLength)return void render(checkFormatter(opts.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+evaluate(opts.formatInputTooLong,opts.element,search.val(),opts.maximumInputLength)+"</li>":"");opts.formatSearching&&0===this.findHighlightableChoices().length&&render("<li class='select2-searching'>"+evaluate(opts.formatSearching,opts.element)+"</li>"),search.addClass("select2-active"),this.removeHighlight(),input=this.tokenize(),input!=undefined&&null!=input&&search.val(input),this.resultsPage=1,opts.query({element:opts.element,term:search.val(),page:this.resultsPage,context:null,matcher:opts.matcher,callback:this.bind(function(data){var def;if(queryNumber==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=data.context===undefined?null:data.context,this.opts.createSearchChoice&&""!==search.val()&&(def=this.opts.createSearchChoice.call(self,search.val(),data.results),def!==undefined&&null!==def&&self.id(def)!==undefined&&null!==self.id(def)&&0===$(data.results).filter(function(){return equal(self.id(this),self.id(def))}).length&&this.opts.createSearchChoicePosition(data.results,def)),0===data.results.length&&checkFormatter(opts.formatNoMatches,"formatNoMatches"))return void render("<li class='select2-no-results'>"+evaluate(opts.formatNoMatches,opts.element,search.val())+"</li>");results.empty(),self.opts.populateResults.call(this,results,data.results,{term:search.val(),page:this.resultsPage,context:null}),data.more===!0&&checkFormatter(opts.formatLoadMore,"formatLoadMore")&&(results.append("<li class='select2-more-results'>"+opts.escapeMarkup(evaluate(opts.formatLoadMore,opts.element,this.resultsPage))+"</li>"),window.setTimeout(function(){self.loadMoreIfNeeded()},10)),this.postprocessResults(data,initial),postRender(),this.opts.element.trigger({type:"select2-loaded",items:data})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){focus(this.search)},selectHighlighted:function(options){if(this._touchMoved)return void this.clearTouchMoved();var index=this.highlight(),highlighted=this.results.find(".select2-highlighted"),data=highlighted.closest(".select2-result").data("select2-data");data?(this.highlight(index),this.onSelect(data,options)):options&&options.noFocus&&this.close()},getPlaceholder:function(){var placeholderOption;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((placeholderOption=this.getPlaceholderOption())!==undefined?placeholderOption.text():undefined)},getPlaceholderOption:function(){if(this.select){var firstOption=this.select.children("option").first();if(this.opts.placeholderOption!==undefined)return"first"===this.opts.placeholderOption&&firstOption||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===$.trim(firstOption.text())&&""===firstOption.val())return firstOption}},initContainerWidth:function(){function resolveContainerWidth(){var style,attrs,matches,i,l,attr;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(style=this.opts.element.attr("style"),style!==undefined)for(attrs=style.split(";"),i=0,l=attrs.length;i<l;i+=1)if(attr=attrs[i].replace(/\s/g,""),matches=attr.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==matches&&matches.length>=1)return matches[1];return"resolve"===this.opts.width?(style=this.opts.element.css("width"),style.indexOf("%")>0?style:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return $.isFunction(this.opts.width)?this.opts.width():this.opts.width}var width=resolveContainerWidth.call(this);null!==width&&this.container.css("width",width)}}),SingleSelect2=clazz(AbstractSelect2,{createContainer:function(){var container=$(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return container},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var el,range,len;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),el=this.search.get(0),el.createTextRange?(range=el.createTextRange(),range.collapse(!1),range.select()):el.setSelectionRange&&(len=this.search.val().length,el.setSelectionRange(len,len))),""===this.search.val()&&this.nextSearchTerm!=undefined&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger($.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){$("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),cleanupJQueryElements.call(this,"selection","focusser")},initContainer:function(){var selection,elementLabel,container=this.container,dropdown=this.dropdown,idSuffix=nextUid();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=selection=container.find(".select2-choice"),this.focusser=container.find(".select2-focusser"),selection.find(".select2-chosen").attr("id","select2-chosen-"+idSuffix),this.focusser.attr("aria-labelledby","select2-chosen-"+idSuffix),this.results.attr("id","select2-results-"+idSuffix),this.search.attr("aria-owns","select2-results-"+idSuffix),this.focusser.attr("id","s2id_autogen"+idSuffix),elementLabel=$("label[for='"+this.opts.element.attr("id")+"']"),this.focusser.prev().text(elementLabel.text()).attr("for",this.focusser.attr("id"));var originalTitle=this.opts.element.attr("title");this.opts.element.attr("title",originalTitle||elementLabel.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text($("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===KEY.PAGE_UP||e.which===KEY.PAGE_DOWN)return void killEvent(e);switch(e.which){case KEY.UP:case KEY.DOWN:return this.moveHighlight(e.which===KEY.UP?-1:1),void killEvent(e);case KEY.ENTER:return this.selectHighlighted(),void killEvent(e);case KEY.TAB:return void this.selectHighlighted({noFocus:!0});case KEY.ESC:return this.cancel(e),void killEvent(e)}}})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==KEY.TAB&&!KEY.isControl(e)&&!KEY.isFunctionKey(e)&&e.which!==KEY.ESC){if(this.opts.openOnEnter===!1&&e.which===KEY.ENTER)return void killEvent(e);if(e.which==KEY.DOWN||e.which==KEY.UP||e.which==KEY.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void killEvent(e)}return e.which==KEY.DELETE||e.which==KEY.BACKSPACE?(this.opts.allowClear&&this.clear(),
void killEvent(e)):void 0}})),installKeyUpChangeEvent(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),selection.on("mousedown touchstart","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),killEventImmediately(e),this.close(),this.selection.focus())})),selection.on("mousedown touchstart",this.bind(function(e){reinsertElement(selection),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),killEvent(e)})),dropdown.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),selection.on("focus",this.bind(function(e){killEvent(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger($.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(triggerChange){var data=this.selection.data("select2-data");if(data){var evt=$.Event("select2-clearing");if(this.opts.element.trigger(evt),evt.isDefaultPrevented())return;var placeholderOption=this.getPlaceholderOption();this.opts.element.val(placeholderOption?placeholderOption.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),triggerChange!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(data),choice:data}),this.triggerChange({removed:data}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var self=this;this.opts.initSelection.call(null,this.opts.element,function(selected){selected!==undefined&&null!==selected&&(self.updateSelection(selected),self.close(),self.setPlaceholder(),self.nextSearchTerm=self.opts.nextSearchTerm(selected,self.search.val()))})}},isPlaceholderOptionSelected:function(){var placeholderOption;return this.getPlaceholder()!==undefined&&((placeholderOption=this.getPlaceholderOption())!==undefined&&placeholderOption.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===undefined||null===this.opts.element.val())},prepareOpts:function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;return"select"===opts.element.get(0).tagName.toLowerCase()?opts.initSelection=function(element,callback){var selected=element.find("option").filter(function(){return this.selected&&!this.disabled});callback(self.optionToData(selected))}:"data"in opts&&(opts.initSelection=opts.initSelection||function(element,callback){var id=element.val(),match=null;opts.query({matcher:function(term,text,el){var is_match=equal(id,opts.id(el));return is_match&&(match=el),is_match},callback:$.isFunction(callback)?function(){callback(match)}:$.noop})}),opts},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===undefined?undefined:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var placeholder=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&placeholder!==undefined){if(this.select&&this.getPlaceholderOption()===undefined)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(placeholder)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(data,initial,noHighlightUpdate){var selected=0,self=this;if(this.findHighlightableChoices().each2(function(i,elm){if(equal(self.id(elm.data("select2-data")),self.opts.element.val()))return selected=i,!1}),noHighlightUpdate!==!1&&(initial===!0&&selected>=0?this.highlight(selected):this.highlight(0)),initial===!0){var min=this.opts.minimumResultsForSearch;min>=0&&this.showSearch(countResults(data.results)>=min)}},showSearch:function(showSearchInput){this.showSearchInput!==showSearchInput&&(this.showSearchInput=showSearchInput,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!showSearchInput),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!showSearchInput),$(this.dropdown,this.container).toggleClass("select2-with-searchbox",showSearchInput))},onSelect:function(data,options){if(this.triggerSelect(data)){var old=this.opts.element.val(),oldData=this.data();this.opts.element.val(this.id(data)),this.updateSelection(data),this.opts.element.trigger({type:"select2-selected",val:this.id(data),choice:data}),this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val()),this.close(),options&&options.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),equal(old,this.id(data))||this.triggerChange({added:data,removed:oldData})}},updateSelection:function(data){var formatted,cssClass,container=this.selection.find(".select2-chosen");this.selection.data("select2-data",data),container.empty(),null!==data&&(formatted=this.opts.formatSelection(data,container,this.opts.escapeMarkup)),formatted!==undefined&&container.append(formatted),cssClass=this.opts.formatSelectionCssClass(data,container),cssClass!==undefined&&container.addClass(cssClass),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==undefined&&this.container.addClass("select2-allowclear")},val:function(){var val,triggerChange=!1,data=null,self=this,oldData=this.data();if(0===arguments.length)return this.opts.element.val();if(val=arguments[0],arguments.length>1&&(triggerChange=arguments[1]),this.select)this.select.val(val).find("option").filter(function(){return this.selected}).each2(function(i,elm){return data=self.optionToData(elm),!1}),this.updateSelection(data),this.setPlaceholder(),triggerChange&&this.triggerChange({added:data,removed:oldData});else{if(!val&&0!==val)return void this.clear(triggerChange);if(this.opts.initSelection===undefined)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(val),this.opts.initSelection(this.opts.element,function(data){self.opts.element.val(data?self.id(data):""),self.updateSelection(data),self.setPlaceholder(),triggerChange&&self.triggerChange({added:data,removed:oldData})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(value){var data,triggerChange=!1;return 0===arguments.length?(data=this.selection.data("select2-data"),data==undefined&&(data=null),data):(arguments.length>1&&(triggerChange=arguments[1]),void(value?(data=this.data(),this.opts.element.val(value?this.id(value):""),this.updateSelection(value),triggerChange&&this.triggerChange({added:value,removed:data})):this.clear(triggerChange)))}}),MultiSelect2=clazz(AbstractSelect2,{createContainer:function(){var container=$(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return container},prepareOpts:function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;return"select"===opts.element.get(0).tagName.toLowerCase()?opts.initSelection=function(element,callback){var data=[];element.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(i,elm){data.push(self.optionToData(elm))}),callback(data)}:"data"in opts&&(opts.initSelection=opts.initSelection||function(element,callback){var ids=splitVal(element.val(),opts.separator),matches=[];opts.query({matcher:function(term,text,el){var is_match=$.grep(ids,function(id){return equal(id,opts.id(el))}).length;return is_match&&matches.push(el),is_match},callback:$.isFunction(callback)?function(){for(var ordered=[],i=0;i<ids.length;i++)for(var id=ids[i],j=0;j<matches.length;j++){var match=matches[j];if(equal(id,opts.id(match))){ordered.push(match),matches.splice(j,1);break}}callback(ordered)}:$.noop})}),opts},selectChoice:function(choice){var selected=this.container.find(".select2-search-choice-focus");selected.length&&choice&&choice[0]==selected[0]||(selected.length&&this.opts.element.trigger("choice-deselected",selected),selected.removeClass("select2-search-choice-focus"),choice&&choice.length&&(this.close(),choice.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",choice)))},destroy:function(){$("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),cleanupJQueryElements.call(this,"searchContainer","selection")},initContainer:function(){var selection,selector=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=selection=this.container.find(selector);var _this=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(e){_this.search[0].focus(),_this.selectChoice($(this))}),this.search.attr("id","s2id_autogen"+nextUid()),this.search.prev().text($("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var selected=selection.find(".select2-search-choice-focus"),prev=selected.prev(".select2-search-choice:not(.select2-locked)"),next=selected.next(".select2-search-choice:not(.select2-locked)"),pos=getCursorInfo(this.search);if(selected.length&&(e.which==KEY.LEFT||e.which==KEY.RIGHT||e.which==KEY.BACKSPACE||e.which==KEY.DELETE||e.which==KEY.ENTER)){var selectedChoice=selected;return e.which==KEY.LEFT&&prev.length?selectedChoice=prev:e.which==KEY.RIGHT?selectedChoice=next.length?next:null:e.which===KEY.BACKSPACE?this.unselect(selected.first())&&(this.search.width(10),selectedChoice=prev.length?prev:next):e.which==KEY.DELETE?this.unselect(selected.first())&&(this.search.width(10),selectedChoice=next.length?next:null):e.which==KEY.ENTER&&(selectedChoice=null),this.selectChoice(selectedChoice),killEvent(e),void(selectedChoice&&selectedChoice.length||this.open())}if((e.which===KEY.BACKSPACE&&1==this.keydowns||e.which==KEY.LEFT)&&0==pos.offset&&!pos.length)return this.selectChoice(selection.find(".select2-search-choice:not(.select2-locked)").last()),void killEvent(e);if(this.selectChoice(null),this.opened())switch(e.which){case KEY.UP:case KEY.DOWN:return this.moveHighlight(e.which===KEY.UP?-1:1),void killEvent(e);case KEY.ENTER:return this.selectHighlighted(),void killEvent(e);case KEY.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case KEY.ESC:return this.cancel(e),void killEvent(e)}if(e.which!==KEY.TAB&&!KEY.isControl(e)&&!KEY.isFunctionKey(e)&&e.which!==KEY.BACKSPACE&&e.which!==KEY.ESC){if(e.which===KEY.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),e.which!==KEY.PAGE_UP&&e.which!==KEY.PAGE_DOWN||killEvent(e),e.which===KEY.ENTER&&killEvent(e)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger($.Event("select2-blur"))})),this.container.on("click",selector,this.bind(function(e){this.isInterfaceEnabled()&&($(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.on("focus",selector,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger($.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var self=this;this.opts.initSelection.call(null,this.opts.element,function(data){data!==undefined&&null!==data&&(self.updateSelection(data),self.close(),self.clearSearch())})}},clearSearch:function(){var placeholder=this.getPlaceholder(),maxWidth=this.getMaxSearchWidth();placeholder!==undefined&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(placeholder).addClass("select2-default"),this.search.width(maxWidth>0?maxWidth:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=undefined&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger($.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(data){var ids=[],filtered=[],self=this;$(data).each(function(){indexOf(self.id(this),ids)<0&&(ids.push(self.id(this)),filtered.push(this))}),data=filtered,this.selection.find(".select2-search-choice").remove(),$(data).each(function(){self.addSelectedChoice(this)}),self.postprocessResults()},tokenize:function(){var input=this.search.val();input=this.opts.tokenizer.call(this,input,this.data(),this.bind(this.onSelect),this.opts),null!=input&&input!=undefined&&(this.search.val(input),input.length>0&&this.open())},onSelect:function(data,options){this.triggerSelect(data)&&(this.addSelectedChoice(data),this.opts.element.trigger({type:"selected",val:this.id(data),choice:data}),this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(data,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=undefined&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:data}),options&&options.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(data){var formatted,cssClass,enableChoice=!data.locked,enabledItem=$("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),disabledItem=$("<li class='select2-search-choice select2-locked'><div></div></li>"),choice=enableChoice?enabledItem:disabledItem,id=this.id(data),val=this.getVal();formatted=this.opts.formatSelection(data,choice.find("div"),this.opts.escapeMarkup),formatted!=undefined&&choice.find("div").replaceWith("<div>"+formatted+"</div>"),cssClass=this.opts.formatSelectionCssClass(data,choice.find("div")),cssClass!=undefined&&choice.addClass(cssClass),enableChoice&&choice.find(".select2-search-choice-close").on("mousedown",killEvent).on("click dblclick",this.bind(function(e){this.isInterfaceEnabled()&&(this.unselect($(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),killEvent(e),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),choice.data("select2-data",data),choice.insertBefore(this.searchContainer),val.push(id),this.setVal(val)},unselect:function(selected){var data,index,val=this.getVal();if(selected=selected.closest(".select2-search-choice"),0===selected.length)throw"Invalid argument: "+selected+". Must be .select2-search-choice";if(data=selected.data("select2-data")){var evt=$.Event("select2-removing");if(evt.val=this.id(data),evt.choice=data,this.opts.element.trigger(evt),evt.isDefaultPrevented())return!1;for(;(index=indexOf(this.id(data),val))>=0;)val.splice(index,1),this.setVal(val),this.select&&this.postprocessResults();return selected.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(data),choice:data}),this.triggerChange({removed:data}),!0}},postprocessResults:function(data,initial,noHighlightUpdate){var val=this.getVal(),choices=this.results.find(".select2-result"),compound=this.results.find(".select2-result-with-children"),self=this;choices.each2(function(i,choice){var id=self.id(choice.data("select2-data"));indexOf(id,val)>=0&&(choice.addClass("select2-selected"),choice.find(".select2-result-selectable").addClass("select2-selected"))}),compound.each2(function(i,choice){choice.is(".select2-result-selectable")||0!==choice.find(".select2-result-selectable:not(.select2-selected)").length||choice.addClass("select2-selected")}),this.highlight()==-1&&noHighlightUpdate!==!1&&self.highlight(0),!this.opts.createSearchChoice&&!choices.filter(".select2-result:not(.select2-selected)").length>0&&(!data||data&&!data.more&&0===this.results.find(".select2-no-results").length)&&checkFormatter(self.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+evaluate(self.opts.formatNoMatches,self.opts.element,self.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-getSideBorderPadding(this.search)},resizeSearch:function(){var minimumWidth,left,maxWidth,containerLeft,searchWidth,sideBorderPadding=getSideBorderPadding(this.search);minimumWidth=measureTextWidth(this.search)+10,left=this.search.offset().left,maxWidth=this.selection.width(),containerLeft=this.selection.offset().left,searchWidth=maxWidth-(left-containerLeft)-sideBorderPadding,searchWidth<minimumWidth&&(searchWidth=maxWidth-sideBorderPadding),searchWidth<40&&(searchWidth=maxWidth-sideBorderPadding),searchWidth<=0&&(searchWidth=minimumWidth),this.search.width(Math.floor(searchWidth))},getVal:function(){var val;return this.select?(val=this.select.val(),null===val?[]:val):(val=this.opts.element.val(),splitVal(val,this.opts.separator))},setVal:function(val){var unique;this.select?this.select.val(val):(unique=[],$(val).each(function(){indexOf(this,unique)<0&&unique.push(this)}),this.opts.element.val(0===unique.length?"":unique.join(this.opts.separator)))},buildChangeDetails:function(old,current){for(var current=current.slice(0),old=old.slice(0),i=0;i<current.length;i++)for(var j=0;j<old.length;j++)equal(this.opts.id(current[i]),this.opts.id(old[j]))&&(current.splice(i,1),i>0&&i--,old.splice(j,1),j--);return{added:current,removed:old}},val:function(val,triggerChange){var oldData,self=this;if(0===arguments.length)return this.getVal();if(oldData=this.data(),oldData.length||(oldData=[]),!val&&0!==val)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(triggerChange&&this.triggerChange({added:this.data(),removed:oldData}));if(this.setVal(val),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),triggerChange&&this.triggerChange(this.buildChangeDetails(oldData,this.data()));else{if(this.opts.initSelection===undefined)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(data){var ids=$.map(data,self.id);self.setVal(ids),self.updateSelection(data),self.clearSearch(),triggerChange&&self.triggerChange(self.buildChangeDetails(oldData,self.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var val=[],self=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){val.push(self.opts.id($(this).data("select2-data")))}),this.setVal(val),this.triggerChange()},data:function(values,triggerChange){var ids,old,self=this;return 0===arguments.length?this.selection.children(".select2-search-choice").map(function(){return $(this).data("select2-data")}).get():(old=this.data(),values||(values=[]),ids=$.map(values,function(e){return self.opts.id(e)}),this.setVal(ids),this.updateSelection(values),this.clearSearch(),triggerChange&&this.triggerChange(this.buildChangeDetails(old,this.data())),void 0)}}),$.fn.select2=function(){var opts,select2,method,value,multiple,args=Array.prototype.slice.call(arguments,0),allowedMethods=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],valueMethods=["opened","isFocused","container","dropdown"],propertyMethods=["val","data"],methodsMap={search:"externalSearch"};return this.each(function(){if(0===args.length||"object"==typeof args[0])opts=0===args.length?{}:$.extend({},args[0]),opts.element=$(this),"select"===opts.element.get(0).tagName.toLowerCase()?multiple=opts.element.prop("multiple"):(multiple=opts.multiple||!1,"tags"in opts&&(opts.multiple=multiple=!0)),select2=multiple?new window.Select2["class"].multi:new window.Select2["class"].single,select2.init(opts);else{if("string"!=typeof args[0])throw"Invalid arguments to select2 plugin: "+args;if(indexOf(args[0],allowedMethods)<0)throw"Unknown method: "+args[0];if(value=undefined,select2=$(this).data("select2"),select2===undefined)return;if(method=args[0],"container"===method?value=select2.container:"dropdown"===method?value=select2.dropdown:(methodsMap[method]&&(method=methodsMap[method]),value=select2[method].apply(select2,args.slice(1))),indexOf(args[0],valueMethods)>=0||indexOf(args[0],propertyMethods)>=0&&1==args.length)return!1}}),value===undefined?this:value},$.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(result,container,query,escapeMarkup){var markup=[];return markMatch(result.text,query.term,markup,escapeMarkup),markup.join("")},formatSelection:function(data,container,escapeMarkup){return data?escapeMarkup(data.text):undefined},sortResults:function(results,container,query){return results},formatResultCssClass:function(data){return data.css},formatSelectionCssClass:function(data,container){return undefined},formatMatches:function(matches){return 1===matches?"One result is available, press enter to select it.":matches+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(input,min){var n=min-input.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(input,max){var n=input.length-max;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(limit){return"You can only select "+limit+" item"+(1==limit?"":"s")},formatLoadMore:function(pageNumber){return"Loading more results"},formatSearching:function(){return"Searching"},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==undefined?null:e.id},matcher:function(term,text){return stripDiacritics(""+text).toUpperCase().indexOf(stripDiacritics(""+term).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:defaultTokenizer,escapeMarkup:defaultEscapeMarkup,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(c){return c},adaptDropdownCssClass:function(c){return null},nextSearchTerm:function(selectedObject,currentSearchTerm){return undefined},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(instance){var supportsTouchEvents="ontouchstart"in window||navigator.msMaxTouchPoints>0;return!supportsTouchEvents||!(instance.opts.minimumResultsForSearch<0)}},$.fn.select2.ajaxDefaults={transport:$.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:ajax,local:local,tags:tags},util:{debounce:debounce,markMatch:markMatch,escapeMarkup:defaultEscapeMarkup,stripDiacritics:stripDiacritics},"class":{"abstract":AbstractSelect2,single:SingleSelect2,multi:MultiSelect2}}}}(jQuery),angular.module("ui.select2",[]).value("uiSelect2Config",{}).directive("uiSelect2",["uiSelect2Config","$timeout",function(uiSelect2Config,$timeout){var options={};return uiSelect2Config&&angular.extend(options,uiSelect2Config),{require:"ngModel",priority:1,compile:function(tElm,tAttrs){var watch,repeatOption,repeatAttr,isSelect=tElm.is("select"),isMultiple=angular.isDefined(tAttrs.multiple);return tElm.is("select")&&(repeatOption=tElm.find("optgroup[ng-repeat], optgroup[data-ng-repeat], option[ng-repeat], option[data-ng-repeat]"),repeatOption.length&&(repeatAttr=repeatOption.attr("ng-repeat")||repeatOption.attr("data-ng-repeat"),watch=jQuery.trim(repeatAttr.split("|")[0]).split(" ").pop())),function(scope,elm,attrs,controller){var opts=angular.extend({},options,scope.$eval(attrs.uiSelect2)),convertToAngularModel=function(select2_data){var model;return opts.simple_tags?(model=[],angular.forEach(select2_data,function(value,index){model.push(value.id)})):model=select2_data,model},convertToSelect2Model=function(angular_data){var model=[];return angular_data?(opts.simple_tags?(model=[],angular.forEach(angular_data,function(value,index){model.push({id:value,text:value})})):model=angular_data,model):model};if(isSelect?(delete opts.multiple,delete opts.initSelection):isMultiple&&(opts.multiple=!0),controller&&(scope.$watch(tAttrs.ngModel,function(current,old){current&&current!==old&&controller.$render()},!0),controller.$render=function(){if(isSelect)elm.select2("val",controller.$viewValue);else if(opts.multiple){var viewValue=controller.$viewValue;angular.isString(viewValue)&&(viewValue=viewValue.split(",")),elm.select2("data",convertToSelect2Model(viewValue))}else angular.isObject(controller.$viewValue)?elm.select2("data",controller.$viewValue):controller.$viewValue?elm.select2("val",controller.$viewValue):elm.select2("data",null)},watch&&scope.$watch(watch,function(newVal,oldVal,scope){angular.equals(newVal,oldVal)||$timeout(function(){elm.select2("val",controller.$viewValue),elm.trigger("change"),newVal&&!oldVal&&controller.$setPristine&&controller.$setPristine(!0)})}),controller.$parsers.push(function(value){var div=elm.prev();return div.toggleClass("ng-invalid",!controller.$valid).toggleClass("ng-valid",controller.$valid).toggleClass("ng-invalid-required",!controller.$valid).toggleClass("ng-valid-required",controller.$valid).toggleClass("ng-dirty",controller.$dirty).toggleClass("ng-pristine",controller.$pristine),value}),!isSelect&&(elm.bind("change",function(e){e.stopImmediatePropagation(),scope.$$phase||scope.$root.$$phase||scope.$apply(function(){controller.$setViewValue(convertToAngularModel(elm.select2("data")))})}),opts.initSelection))){var initSelection=opts.initSelection;opts.initSelection=function(element,callback){initSelection(element,function(value){var isPristine=controller.$pristine;controller.$setViewValue(convertToAngularModel(value)),callback(value),isPristine&&controller.$setPristine(),elm.prev().toggleClass("ng-pristine",controller.$pristine)})}}elm.bind("$destroy",function(){elm.select2("destroy")}),attrs.$observe("disabled",function(value){elm.select2("enable",!value)}),attrs.$observe("readonly",function(value){elm.select2("readonly",!!value)}),attrs.ngMultiple&&scope.$watch(attrs.ngMultiple,function(newVal){attrs.$set("multiple",!!newVal),elm.select2(opts)}),$timeout(function(){if(elm.select2(opts),elm.select2("data",controller.$modelValue),controller.$render(),!opts.initSelection&&!isSelect){var isPristine=controller.$pristine;controller.$setViewValue(convertToAngularModel(elm.select2("data"))),isPristine&&controller.$setPristine(),elm.prev().toggleClass("ng-pristine",controller.$pristine)}})}}}}]),function(){"use strict";angular.module("toolbarButtons",[]).directive("filterButton",["$compile",function($compile){return{restrict:"A",replace:!0,template:'<div class="dropdown btn-group">\n                            <button tooltip="{{tooltipText}}" class="btn btn-default btn-mini btn-toolbar filterBtn" data-toggle="dropdown">\n                                <a class="toolbar-icon filter"></a>\n                            </button>\n                            <ul class="dropdown-menu awk-df-form-dropdown-filter awk-df-form-dropdown pull-right" role="menu" >\n                                <li >\n                                    <form name="form" role="form" style="padding: 10px; ">\n                                        <div form-directive ></div>\n                                    </form>\n                                </li>\n                            </ul>\n                    </div>',scope:{tooltipText:"@",iconClass:"@",fieldVal:"@",submitLabel:"@",clearLabel:"@",submitFunc:"@",clearFunc:"@"},link:function(scope,elem,attrs){var childDir=elem.find("div");childDir.attr("filter-fields",scope.fieldVal),childDir.attr("filter-array-name",scope.fieldVal),childDir.attr("submit-label",scope.submitLabel),childDir.attr("clear-label",scope.clearLabel),childDir.attr("on-submit",scope.submitFunc),childDir.attr("on-clear",scope.clearFunc),elem.on("show.bs.dropdown",function(event){scope.$emit("filterDropDownOpened",{target:event.currentTarget})}),$compile(elem.contents())(scope.$parent)}}}]).directive("reportButton",["$compile",function($compile){return{restrict:"A",replace:!0,template:'<div class="dropdown btn-group">\n                            <button title="View report" class="btn btn-default btn-mini" data-toggle="dropdown" ng-click="action()">\n                                <i class="glyphicon glyphicon-stats"></i>\n                            </button>\n                            <ul class="dropdown-menu pull-right" role="menu">\n                                <div>\n                                    <img src="../app/assets/img/report.png"></img>\n                                 </div>\n                            </ul>\n                        </div>',scope:{action:"&"},link:function(scope,elem,attrs){}}}]).directive("createReportBtn",["$compile",function($compile){return console.log("in new directive"),{restrict:"A",replace:!0,template:'<div class="dropdown btn-group">\n                        <button tooltip="{{tooltipText}}" class="btn btn-default btn-mini btn-toolbar filterBtn" data-toggle="dropdown">\n                            <a class="toolbar-icon createReport"></a>\n                        </button>\n                        <ul class="dropdown-menu form-dropdown-filter toolbar-dropdown pull-right" role="menu">\n                            <li >\n                                <form name="form" role="form" class="form" style="padding: 10px; ">\n                                    <div form-directive ></div>\n                                </form>\n                            </li>\n                        </ul>\n                </div>',
scope:{tooltipText:"@",iconClass:"@",fieldVal:"@",submitLabel:"@",clearLabel:"@",submitFunc:"@",clearFunc:"@"},link:function(scope,elem,attrs){console.log("ff: ",scope.fieldVal),console.log("sf: ",scope.searchFunc);var childDir=elem.find("div");childDir.attr("filter-fields",scope.fieldVal),childDir.attr("filter-array-name",scope.fieldVal),childDir.attr("submit-label",scope.submitLabel),childDir.attr("clear-label",scope.clearLabel),childDir.attr("on-submit",scope.submitFunc),childDir.attr("on-clear",scope.clearFunc),$compile(elem.contents())(scope.$parent)}}}]).directive("resetButton",["$rootScope","$compile",function($rootScope,$compile){return{restrict:"A",replace:!0,template:'<div class="dropdown btn-group">\n                            <button tooltip="Refresh" class="btn btn-default btn-mini btn-toolbar" data-toggle="dropdown" ng-click="action()">\n                                <a class="toolbar-icon refresh"></a>\n                            </button>\n                        </div>',scope:{action:"&"}}}]).directive("toolbarButton",["$compile",function($compile){return{restrict:"A",replace:!0,template:'<div class="dropdown btn-group">\n                            <button tooltip="{{tooltipText}}" class="btn btn-default btn-mini btn-toolbar" data-toggle="dropdown" ng-click="action()">\n                                <a class="toolbar-icon {{iconClass}}"></a>\n                            </button>\n                        </div>',scope:{tooltipText:"@",iconClass:"@",action:"&"}}}]).directive("exportButton",["$compile","eventConstants",function($compile,eventConstants){return{restrict:"A",replace:!0,template:'<div class="dropdown btn-group">\n                            <button tooltip="Export" class="btn btn-default btn-mini btn-toolbar" data-toggle="dropdown" ng-click="action()">\n                                <a class="toolbar-icon export"></a>\n                            </button>\n                            <ul class="dropdown-menu toolbar-dropdown pull-right" role="menu">\n                                    <li><a href="#" ng-click="exportasXLS()"><img src="styles/img/toolbar_icons/spreadsheet.png"></img>  XLS</a></li>\n                            </ul>\n                        </div>',scope:{action:"&"},controller:["$scope",function($scope){$scope.exportasCSV=function(){$scope.$emit(eventConstants.EXPORT_AS_CSV)},$scope.exportasXLS=function(){$scope.$emit(eventConstants.EXPORT_AS_XLS)},$scope.exportasPDF=function(){$scope.$emit(eventConstants.EXPORT_AS_PDF)}}]}}]).directive("fileButton",["$compile","eventConstants",function($compile,eventConstants){return{restrict:"A",replace:!0,template:'<div class="dropdown btn-group" style="margin:0px;">\n                            <button tooltip="File Upload" class="btn btn-default btn-mini btn-toolbar filterBtn" data-toggle="dropdown" >\n                                <a class="toolbar-icon upload"></a>\n                            </button>\n                            <ul class="dropdown-menu toolbar-dropdown-filter pull-right" role="menu" style="padding:0px;">\n                                    <li>\n                                        <form class="fileUplaodBtn">\n                                            <div uploader ></div>\n                                        </form>\n                                    </li>\n                            </ul>\n                        </div>',scope:{action:"&",fileConfigUrl:"@",fileUploadUrl:"@",isMultipleFile:"@",userId:"@",monthList:"=",yearList:"="},link:function(scope,elem,attrs){$compile(elem.contents())(scope.$parent)}}}]).directive("saveButton",["$compile",function($compile){return{restrict:"A",replace:!0,template:'<div class="dropdown btn-group">\n                            <button tooltip="Save" class="btn btn-default btn-mini btn-toolbar" data-toggle="dropdown">\n                                <a class="toolbar-icon save"></a>\n                            </button>\n                            <ul class="dropdown-menu pull-right" role="menu">\n                                    <li><a href="#" ng-click="saveFunction()">1. Save</a></li>\n                                    <li><a href="#" ng-click="saveAsFunction()">2. Save as</a></li>\n                            </ul>\n                        </div>',scope:{saveFunction:"&",saveAsFunction:"&"}}}]).directive("uploadButton",["$compile",function($compile){return{restrict:"A",replace:!0,template:'<div class="dropdown btn-group">\n                            <button tooltip="Upload" class="btn btn-default btn-mini btn-toolbar" data-toggle="dropdown" ng-click="action()">\n                                <i class="toolbar-icon glyphicon glyphicon-upload"></i>\n                            </button>\n                            <ul class="dropdown-menu pull-right" role="menu">\n                                    <li><a href="#" onclick="uploadasXLS()">1. XLS</a></li>\n                                    <li><a href="#" onclick="uploadasCSV()">2. CSV</a></li>\n                                    <li><a href="#" onclick="uploadasDelimited()">3. Delimited</a></li>\n                            </ul>\n                        </div>',scope:{action:"&"},controller:["$scope",function($scope){$scope.uploadasCSV=function(){$rootScope.$broadcast(eventConstants.UPLOAD_AS_CSV)},$scope.uploadasXLS=function(){$rootScope.$broadcast(eventConstants.UPLOAD_AS_XLS)},$scope.uploadasDelimited=function(){$rootScope.$broadcast(eventConstants.UPLOAD_AS_DELIMITED)}}]}}])}(),function(){"use strict";angular.module("dashboard",[])}(),function(){"use strict";angular.module("shell",[])}(),function(){"use strict";angular.module("shell",[])}(),function(){angular.module("advApp").constant("appConstants",{APP_NAME:"MEAN STACK TO DO LIST"})}(),function(){angular.module("advApp").constant("eventConstants",{})}(),function(){angular.module("advApp").factory("sharedModel",["$rootScope","$templateCache","eventConstants",function($rootScope,$templateCache,eventConstants){var sharedModel={};return sharedModel}])}(),function(){angular.module("advApp").factory("authService",["$http","appConstants",function($http,appConstants){var authenticationService={};return authenticationService.loginUser=function(userId){return $http.defaults.useXDomain=!0,$http.post(appConstants.apiHost+appConstants.loginServiceURI)},authenticationService.checkSession=function(userId){return $http.defaults.useXDomain=!0,$http.get(appConstants.apiHost+appConstants.validateSessionURI+userId)},authenticationService.logoutUser=function(userId){return $http.defaults.useXDomain=!0,$http.get(appConstants.apiHost+appConstants.logoutServiceURI+userId)},authenticationService}])}(),function(){angular.module("advApp").factory("commonHttpService",["$http",function($http){var commonService={};return commonService.executeService=function(reqUrl,formData){return $http({method:"POST",url:reqUrl,data:formData})},commonService.downloadFileStream=function(reqUrl,formData){return $http({method:"POST",url:reqUrl,data:formData,responseType:"arraybuffer"})},commonService}])}(),function(){angular.module("advApp").factory("globalServiceDelegate",["$http","authService","commonHttpService",function($http,authService,commonHttpService){var service={};return service.loginUser=function(userId){return console.log("loginUser"),authService.loginUser(userId)},service.checkSession=function(userId){return console.log("checkSession"),authService.checkSession(userId)},service.logoutUser=function(userId){return console.log("logoutUser"),authService.logoutUser(userId)},service.executeService=function(reqUrl,reqData){return commonHttpService.executeService(reqUrl,reqData)},service.downloadFileStream=function(reqUrl,reqData){return commonHttpService.downloadFileStream(reqUrl,reqData)},service}])}(),function(){angular.module("advApp").factory("commonHttpInterceptor",["$q","$window","$rootScope","sharedModel","eventConstants","appConstants",function($q,$window,$rootScope,sharedModel,eventConstants,appConstants){var apiHost=appConstants.apiHost,updateServiceUri=apiHost+"update";return{request:function(config){if(config.url.match(apiHost)){var domainCode="undefined"!=typeof sharedModel.currentDomain?sharedModel.currentDomain.domainCode:sharedModel.defaultDomainCode,reqToken={domain:domainCode,soeId:$window.userId};config.data?config.data.requestToken=reqToken:config.data={requestToken:reqToken}}return config||$q.when(config)},requestError:function(rejection){return console.log("Got request error"),$q.reject(rejection)},response:function(response){return console.log("Interceptor response"),response.config.url.match(updateServiceUri)&&$rootScope.$broadcast(eventConstants.UPDATE_TICKER_COUNT),"SESSION_ERROR"==response.data.result&&(console.log("INVALID SESSION"),$rootScope.$broadcast(eventConstants.SESSION_INVALIDATED)),response||$q.when(response)},responseError:function(rejection){return console.log("Got response error"),$q.reject(rejection)}}}])}(),function(){angular.module("advApp").factory("downloadUtil",["$window",function($window){var downloadUtil={};return downloadUtil.oldExport=function(responseData,headerFunction){var headerArray=headerFunction();console.log("TYPE: ",typeof responseData);var dataUrl="data:application/vnd.ms-excel;utf-8,"+btoa(encode_utf8(responseData)),a=document.createElement("a");a.setAttribute("download",headerArray["x-filename"]),a.setAttribute("href",dataUrl),a.click()},downloadUtil.downloadToExcel=function(responseData,headerFunction){var headerArray=headerFunction(),blob=new Blob([responseData],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),objectUrl=URL.createObjectURL(blob),a=document.createElement("a");a.setAttribute("download",headerArray["x-filename"]),a.setAttribute("href",objectUrl),a.click()},downloadUtil.downloadToXML=function(responseData,headerFunction){var headerArray=headerFunction(),blob=new Blob([responseData],{type:"application/xml;charset=utf-8"}),dataUrl=URL.createObjectURL(blob),a=document.createElement("a");a.setAttribute("download",headerArray["x-filename"]),a.setAttribute("href",dataUrl),a.click()},downloadUtil}])}(),function(){angular.module("advApp").factory("GroupedDataGenerator",function(){function createFlatData(currentArray){for(var i=0;i<currentArray.length;i++){var obj=currentArray[i];setObjectMetadata(obj)}return currentArray}function setObjectMetadata(obj){obj.metadata={},obj.metadata.responseStatus="",obj.metadata.responseCode=""}function createGroupedData(data,groupingField,responseField){for(var currentArray=data,resultArray=[],i=0;i<currentArray.length;i++){var eObject={};setObjectMetadata(eObject),eObject.data=currentArray[i];var regResponse=eObject.data[responseField];if(eObject.group=!!(regResponse.hasOwnProperty(groupingField)&&regResponse[groupingField].length>1),eObject.type=eObject.group?"multiple":"single",void 0!=regResponse.affectedFields&&regResponse.affectedFields.length>1){for(var affectedFieldsArray=regResponse.affectedFields,childArr=[],j=0;j<affectedFieldsArray.length;j++){var newObject={};newObject.group=!1,newObject.type=eObject.type,newObject.data=affectedFieldsArray[j],childArr.push(newObject)}eObject.children=childArr}else void 0!=regResponse.affectedFields&&1==regResponse.affectedFields.length&&(eObject.data.fieldName=regResponse.affectedFields[0].fieldName,eObject.data.oldValue=regResponse.affectedFields[0].oldValue);resultArray.push(eObject)}return resultArray}var dataUtil={};return dataUtil.createGridData=function(data,isGrouped,groupingField,responseField){if("boolean"!=typeof isGrouped)throw"isGrouped should be boolean";return isGrouped?createGroupedData(data,groupingField,responseField):createFlatData(data)},dataUtil})}(),function(){angular.module("advApp").factory("RendererFactory",["$timeout","agGridUtils",function($timeout,agGridUtils){function getTextRenderer(params,html,editVar){var domElement=document.createElement("div");return(params.node.hasOwnProperty("parent")||"single"==params.node.type)&&(domElement.innerHTML=html,domElement.style.width="100%",domElement.style.height="100%",domElement.style.display="block",params.$scope.startEditing=function(){params.$scope[editVar]=!0,$timeout(function(){function onBlurEvent(event){console.log("blur ",event.target);$(event.target);"text"==event.target.type||null==event.relatedTarget?(params.$scope[editVar]=!1,params.refreshCell(),document.activeElement.removeEventListener("blur",onBlurEvent)):event.relatedTarget&&"DIV"===event.relatedTarget.tagName&&(params.$scope[editVar]=!1,params.refreshCell(),document.activeElement.removeEventListener("blur",onBlurEvent))}document.activeElement.addEventListener("blur",onBlurEvent);var input=domElement.querySelector("input");input.focus()},0)}),domElement}function getDateRenderer(params,html,editVar){var domElement=document.createElement("div");return(params.node.hasOwnProperty("parent")||"single"==params.node.type)&&(domElement.innerHTML=html,domElement.style.width="100%",domElement.style.height="100%",domElement.style.display="block",domElement.querySelector(".ng-pristine").addEventListener("click",function(){console.log("clicked")}),domElement.querySelector("#textspan").addEventListener("click",function(){console.log("clicked span")}),domElement.querySelector("#textspan").addEventListener("blur",function(){console.log("blur span")}),params.$scope.formats=["dd-MMMM-yyyy","yyyy/MM/dd","shortDate"],params.$scope.format=params.$scope.formats[0],params.$scope.opened=!1,params.$scope.disabled=function(date,mode){return"day"===mode&&(0===date.getDay()||6===date.getDay())},params.$scope.toggleMin=function(){params.$scope.minDate=params.$scope.minDate?null:new Date},params.$scope.toggleMin(),params.$scope.maxDate=new Date(2020,5,22),params.$scope.open=function($event){params.$scope.status.opened=!0,this.status.opened=!0},params.$scope.dateOptions={formatYear:"yy",startingDay:1},params.$scope.status={opened:!1},params.$scope.startEditing=function(event){params.$scope[editVar]=!0;var focusElement;$timeout(function(){function onBlurEvent(event){$(event.target);"text"==event.target.type||null==event.relatedTarget?(params.$scope[editVar]=!1,params.refreshCell(),params.$scope.status.opened=!1,document.activeElement.removeEventListener("blur",onBlurEvent),document.activeElement.removeEventListener("focus",onFocusEvent,!0)):event.relatedTarget&&"DIV"===event.relatedTarget.tagName&&(params.$scope[editVar]=!1,params.refreshCell(),document.activeElement.removeEventListener("blur",onBlurEvent))}function onFocusEvent(event){focusElement=event.target,"text"==event.target.type}document.activeElement.addEventListener("blur",onBlurEvent),document.activeElement.addEventListener("focus",onFocusEvent,!0)},0)}),domElement}function getComboBoxRenderer(params,html,editVar){var domElement=document.createElement("div");return(params.node.hasOwnProperty("parent")||"single"==params.node.type)&&(domElement.innerHTML=html,domElement.style.width="100%",domElement.style.height="100%",domElement.style.display="block",params.$scope.startEditing=function(){params.$scope[editVar]=!0,$timeout(function(){function onBlurEvent(event){console.log("blur ",event.target);$(event.target);"text"==event.target.type||null==event.relatedTarget?(params.$scope[editVar]=!1,params.refreshCell(),document.activeElement.removeEventListener("blur",onBlurEvent)):event.relatedTarget&&"DIV"===event.relatedTarget.tagName&&(params.$scope[editVar]=!1,params.refreshCell(),document.activeElement.removeEventListener("blur",onBlurEvent))}document.activeElement.addEventListener("blur",onBlurEvent);var select=domElement.querySelector("select");select.focus()},0)}),domElement}var rendererFactory={};return rendererFactory.getUISelectRenderer=function(params,html,editVar){var domElement=document.createElement("div");return(params.node.hasOwnProperty("parent")||"single"==params.node.type)&&(domElement.innerHTML=html,domElement.style.width="100%",domElement.style.height="100%",domElement.style.display="block",params.$scope.changeValue=function(){if(params.$scope[editVar]=!1,this.$select.selected&&this.$select.selected.length>0){var arr=this.$select.selected,item=arr[arr.length-1];arr=[],arr.push(item),"string"==typeof arr[0]?params.$scope.fieldValue=arr[0]:params.$scope.fieldValue=arr[0].text,this.$select.search=params.$scope.fieldValue,this.$select.searchInput[0].value=this.$select.search}params.$scope[editVar]=!1},params.$scope.$on("uis:blur",function(){console.log("parent blurred")}),params.$scope.$on("uis:close",function(event,value){console.log("parent closed CLOSE ",value),params.$scope[editVar]=!1,params.$scope.fieldValue=value,params.data.domainExceptions.comment=value}),params.$scope.$on("handlebackspace",function(event,value){console.log("parent closed BACKSPACE ",value),params.$scope[editVar]=!1,params.$scope.fieldValue=value,params.data.domainExceptions.comment=value}),params.$scope.$on("onEnter",function(event,value){console.log("parent onEnter ",value),params.$scope[editVar]=!1,params.$scope.fieldValue=value,params.data.domainExceptions.comment=value}),params.$scope.$on("focuslost",function(event,value){console.log("parent closed focus"),params.$scope[editVar]=!1,params.$scope.fieldValue=value,params.data.domainExceptions.comment=value}),params.$scope.$on("focuslostonopen",function(event,value){console.log("parent closed focuslostonopen ",value),params.$scope.fieldValue=value,params.data.domainExceptions.comment=value}),params.$scope.someFunction=function($item,$model){console.log("")},params.$scope.onBlur=function(){console.log("changed88888888888888888888"),params.$scope[editVar]=!1},params.$scope.$watch(params.$scope[editVar],function(newValue,oldValue){console.log("changed88888888888888888888")}),params.$scope.startEditingComments=function(){params.$scope[editVar]=!0,$timeout(function(){function onBlurEvent(event){console.log("blur ",event.target);$(event.target);"text"==event.target.type||null==event.relatedTarget?(params.$scope[editVar]=!1,params.refreshCell(),document.activeElement.removeEventListener("blur",onBlurEvent)):event.relatedTarget&&"DIV"===event.relatedTarget.tagName&&(params.$scope[editVar]=!1,params.refreshCell(),document.activeElement.removeEventListener("blur",onBlurEvent))}document.activeElement.addEventListener("blur",onBlurEvent);var select=domElement.querySelector("input");if(select){select.focus();var val=agGridUtils.nestedFieldValueGetter(params);"string"==typeof val?select.value=val&&val.length>0?val.replace(",",""):"":Array.isArray(val)&&(val&&val.length>0?(val=val.join(""),select.value=val):(console.log("select"),select.value="")),console.log("value",select.value)}},0)}),domElement},rendererFactory.gridCellRenderer=function(params,type,datasource){var editIndicator="editing"+params.data.fieldName,dataSourceName="dataSource"+params.data.fieldName;if(params.$scope[editIndicator]=!1,"dropdown"==type){params.$scope[dataSourceName]=datasource;var html='<span style="width:100%; display: block;" ng-show="!'+editIndicator+'" ng-click="startEditing()">{{data.'+params.colDef.field+'}}&nbsp;&nbsp;&nbsp;</span> <select ng-cloak  style="width:100%; height:100%; padding:0px;" ng-blur="'+editIndicator+'=false" ng-change="'+editIndicator+'=false" ng-show="'+editIndicator+'" ng-options="item for item in '+dataSourceName+'" ng-model="data.'+params.colDef.field+'">';return getComboBoxRenderer(params,html,editIndicator)}if("date"==type){var html='<span id="textspan" style="width:100%;  display: block;"  ng-show="!'+editIndicator+'" ng-click="startEditing(event)">{{data.'+params.colDef.field+'}}&nbsp;&nbsp;&nbsp;</span> <input ng-cloak style="width:100%; height:100%; padding:0px;" type="text" data="date" datepicker-popup="dd-MMMM-yyyy"  ng-model="dt" class="ng-pristine" ng-show="'+editIndicator+'"show-weeks="false" date-disabled="disabled(date, mode)" show-button-bar="true" close-text="Close" datepicker-append-to-body="true" ng-blur="'+editIndicator+'=false" ng-change="'+editIndicator+'=false"/>';return getDateRenderer(params,html,editIndicator)}var html='<span style="width:100%; display: block;" ng-show="!'+editIndicator+'" ng-click="startEditing()">{{data.'+params.colDef.field+'}}&nbsp;&nbsp;&nbsp;</span> <input ng-cloak  type="text" ng-blur="'+editIndicator+'=false" style="width:100%; height:100%; padding:0px;"  ng-show="'+editIndicator+'" ng-model="data.'+params.colDef.field+'">';return getTextRenderer(params,html,editIndicator)},rendererFactory}])}(),function(){angular.module("advApp").factory("sessionUtils",["$http","sharedModel","appConstants",function($http,sharedModel,appConstants){var sessionUtils={},sModel=sharedModel;return sessionUtils.authenticateUser=function(user){console.log("authenticate user");var resultFlag=!1,domains=user.domains;if(_.has(user,"domains")&&_.size(domains)>0){var domain=_.findWhere(user.domains,{domainCode:sharedModel.defaultDomainCode});if("undefined"!=typeof domain){sModel.setCurrentDomain(domain);var roles=domain.roles;if(_.has(domain,"roles")&&1==_.size(roles)){var role=roles[0],modules=role.modules;if(sModel.setCurrentRole(role),_.has(role,"modules")&&_.size(modules)>0){sModel.setModuleList(modules);for(var i=0;i<modules.length&&(resultFlag=_.has(modules[i],"privilege"),resultFlag);i++);}else console.log("No modules found for current user")}else console.log("No roles found for current user")}else console.log("No default domain found for current user")}return resultFlag?sModel.setCurrentUser(user):sModel.reset(),resultFlag},sessionUtils.getUserRole=function(codeVal){return _.findWhere(sModel.userRoles,{roleCode:codeVal})},sessionUtils.getPrivilegeByModule=function(moduleName){var result=void 0,module=_.findWhere(sharedModel.currentModules,{moduleCode:moduleName});return void 0!=module&&(result=module.privilege,console.log("PRIV: ",result[0].privilegeCode)),result[0]},sessionUtils.hasReadWritePermission=function(moduleName){return console.log("HRW: ",sessionUtils.getPrivilegeByModule(moduleName).privilegeCode==appConstants.readWrite),sessionUtils.getPrivilegeByModule(moduleName).privilegeCode==appConstants.readWrite},sessionUtils.isUserLoggedIn=function(){return null!==sModel.currentUser&&void 0!==sModel.currentUser},sessionUtils.isSessionValid=function(){return!1},sessionUtils}])}(),function(factory){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],factory);else if("object"==typeof exports)factory(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";factory(jQuery,moment)}}(function($,moment){"use strict";if(!moment)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var dateTimePicker=function(element,options){var input,use24Hours,actualFormat,parseFormats,currentViewMode,picker={},date=moment().startOf("d"),viewDate=date.clone(),unset=!0,component=!1,widget=!1,minViewModeNumber=0,datePickerModes=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10}],viewModes=["days","months","years"],verticalModes=["top","bottom","auto"],horizontalModes=["left","right","auto"],toolbarPlacements=["default","top","bottom"],keyMap={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},keyState={},isEnabled=function(granularity){if("string"!=typeof granularity||granularity.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(granularity){case"y":return actualFormat.indexOf("Y")!==-1;case"M":return actualFormat.indexOf("M")!==-1;case"d":return actualFormat.toLowerCase().indexOf("d")!==-1;case"h":case"H":return actualFormat.toLowerCase().indexOf("h")!==-1;case"m":return actualFormat.indexOf("m")!==-1;case"s":return actualFormat.indexOf("s")!==-1;default:return!1}},hasTime=function(){return isEnabled("h")||isEnabled("m")||isEnabled("s")},hasDate=function(){return isEnabled("y")||isEnabled("M")||isEnabled("d")},getDatePickerTemplate=function(){var headTemplate=$("<thead>").append($("<tr>").append($("<th>").addClass("prev").attr("data-action","previous").append($("<span>").addClass(options.icons.previous))).append($("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",options.calendarWeeks?"6":"5")).append($("<th>").addClass("next").attr("data-action","next").append($("<span>").addClass(options.icons.next)))),contTemplate=$("<tbody>").append($("<tr>").append($("<td>").attr("colspan",options.calendarWeeks?"8":"7")));return[$("<div>").addClass("datepicker-days").append($("<table>").addClass("table-condensed").append(headTemplate).append($("<tbody>"))),$("<div>").addClass("datepicker-months").append($("<table>").addClass("table-condensed").append(headTemplate.clone()).append(contTemplate.clone())),$("<div>").addClass("datepicker-years").append($("<table>").addClass("table-condensed").append(headTemplate.clone()).append(contTemplate.clone()))]},getTimePickerMainTemplate=function(){var topRow=$("<tr>"),middleRow=$("<tr>"),bottomRow=$("<tr>");return isEnabled("h")&&(topRow.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementHours").append($("<span>").addClass(options.icons.up)))),middleRow.append($("<td>").append($("<span>").addClass("timepicker-hour").attr("data-time-component","hours").attr("data-action","showHours"))),bottomRow.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementHours").append($("<span>").addClass(options.icons.down))))),isEnabled("m")&&(isEnabled("h")&&(topRow.append($("<td>").addClass("separator")),middleRow.append($("<td>").addClass("separator").html(":")),bottomRow.append($("<td>").addClass("separator"))),topRow.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementMinutes").append($("<span>").addClass(options.icons.up)))),middleRow.append($("<td>").append($("<span>").addClass("timepicker-minute").attr("data-time-component","minutes").attr("data-action","showMinutes"))),bottomRow.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementMinutes").append($("<span>").addClass(options.icons.down))))),isEnabled("s")&&(isEnabled("m")&&(topRow.append($("<td>").addClass("separator")),middleRow.append($("<td>").addClass("separator").html(":")),bottomRow.append($("<td>").addClass("separator"))),topRow.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementSeconds").append($("<span>").addClass(options.icons.up)))),middleRow.append($("<td>").append($("<span>").addClass("timepicker-second").attr("data-time-component","seconds").attr("data-action","showSeconds"))),bottomRow.append($("<td>").append($("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementSeconds").append($("<span>").addClass(options.icons.down))))),use24Hours||(topRow.append($("<td>").addClass("separator")),middleRow.append($("<td>").append($("<button>").addClass("btn btn-primary").attr("data-action","togglePeriod"))),bottomRow.append($("<td>").addClass("separator"))),$("<div>").addClass("timepicker-picker").append($("<table>").addClass("table-condensed").append([topRow,middleRow,bottomRow]))},getTimePickerTemplate=function(){var hoursView=$("<div>").addClass("timepicker-hours").append($("<table>").addClass("table-condensed")),minutesView=$("<div>").addClass("timepicker-minutes").append($("<table>").addClass("table-condensed")),secondsView=$("<div>").addClass("timepicker-seconds").append($("<table>").addClass("table-condensed")),ret=[getTimePickerMainTemplate()];return isEnabled("h")&&ret.push(hoursView),isEnabled("m")&&ret.push(minutesView),isEnabled("s")&&ret.push(secondsView),ret},getToolbar=function(){var row=[];return options.showTodayButton&&row.push($("<td>").append($("<a>").attr("data-action","today").append($("<span>").addClass(options.icons.today)))),!options.sideBySide&&hasDate()&&hasTime()&&row.push($("<td>").append($("<a>").attr("data-action","togglePicker").append($("<span>").addClass(options.icons.time)))),options.showClear&&row.push($("<td>").append($("<a>").attr("data-action","clear").append($("<span>").addClass(options.icons.clear)))),options.showClose&&row.push($("<td>").append($("<a>").attr("data-action","close").append($("<span>").addClass(options.icons.close)))),$("<table>").addClass("table-condensed").append($("<tbody>").append($("<tr>").append(row)))},getTemplate=function(){var template=$("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),dateView=$("<div>").addClass("datepicker").append(getDatePickerTemplate()),timeView=$("<div>").addClass("timepicker").append(getTimePickerTemplate()),content=$("<ul>").addClass("list-unstyled"),toolbar=$("<li>").addClass("picker-switch"+(options.collapse?" accordion-toggle":"")).append(getToolbar());return options.inline&&template.removeClass("dropdown-menu"),use24Hours&&template.addClass("usetwentyfour"),options.sideBySide&&hasDate()&&hasTime()?(template.addClass("timepicker-sbs"),template.append($("<div>").addClass("row").append(dateView.addClass("col-sm-6")).append(timeView.addClass("col-sm-6"))),template.append(toolbar),template):("top"===options.toolbarPlacement&&content.append(toolbar),hasDate()&&content.append($("<li>").addClass(options.collapse&&hasTime()?"collapse in":"").append(dateView)),"default"===options.toolbarPlacement&&content.append(toolbar),hasTime()&&content.append($("<li>").addClass(options.collapse&&hasDate()?"collapse":"").append(timeView)),"bottom"===options.toolbarPlacement&&content.append(toolbar),template.append(content))},dataToOptions=function(){var eData,dataOptions={};return eData=element.is("input")||options.inline?element.data():element.find("input").data(),eData.dateOptions&&eData.dateOptions instanceof Object&&(dataOptions=$.extend(!0,dataOptions,eData.dateOptions)),$.each(options,function(key){var attributeName="date"+key.charAt(0).toUpperCase()+key.slice(1);void 0!==eData[attributeName]&&(dataOptions[key]=eData[attributeName])}),dataOptions},place=function(){var parent,position=(component||element).position(),offset=(component||element).offset(),vertical=options.widgetPositioning.vertical,horizontal=options.widgetPositioning.horizontal;if(options.widgetParent)parent=options.widgetParent.append(widget);else if(element.is("input"))parent=element.parent().append(widget);else{if(options.inline)return void(parent=element.append(widget));parent=element,element.children().first().after(widget)}if("auto"===vertical&&(vertical=offset.top+1.5*widget.height()>=$(window).height()+$(window).scrollTop()&&widget.height()+element.outerHeight()<offset.top?"top":"bottom"),"auto"===horizontal&&(horizontal=parent.width()<offset.left+widget.outerWidth()/2&&offset.left+widget.outerWidth()>$(window).width()?"right":"left"),"top"===vertical?widget.addClass("top").removeClass("bottom"):widget.addClass("bottom").removeClass("top"),"right"===horizontal?widget.addClass("pull-right"):widget.removeClass("pull-right"),"relative"!==parent.css("position")&&(parent=parent.parents().filter(function(){return"relative"===$(this).css("position")}).first()),0===parent.length)throw new Error("datetimepicker component should be placed within a relative positioned container");widget.css({top:"top"===vertical?"auto":position.top+element.outerHeight(),bottom:"top"===vertical?position.top+element.outerHeight():"auto",left:"left"===horizontal?parent.css("padding-left"):"auto",right:"left"===horizontal?"auto":parent.width()-element.outerWidth()})},notifyEvent=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||element.trigger(e);
},showMode=function(dir){widget&&(dir&&(currentViewMode=Math.max(minViewModeNumber,Math.min(2,currentViewMode+dir))),widget.find(".datepicker > div").hide().filter(".datepicker-"+datePickerModes[currentViewMode].clsName).show())},fillDow=function(){var row=$("<tr>"),currentDate=viewDate.clone().startOf("w");for(options.calendarWeeks===!0&&row.append($("<th>").addClass("cw").text("#"));currentDate.isBefore(viewDate.clone().endOf("w"));)row.append($("<th>").addClass("dow").text(currentDate.format("dd"))),currentDate.add(1,"d");widget.find(".datepicker-days thead").append(row)},isInDisabledDates=function(testDate){return options.disabledDates[testDate.format("YYYY-MM-DD")]===!0},isInEnabledDates=function(testDate){return options.enabledDates[testDate.format("YYYY-MM-DD")]===!0},isValid=function(targetMoment,granularity){return!!targetMoment.isValid()&&((!options.disabledDates||!isInDisabledDates(targetMoment)||"M"===granularity)&&(!(options.enabledDates&&!isInEnabledDates(targetMoment)&&"M"!==granularity)&&((!options.minDate||!targetMoment.isBefore(options.minDate,granularity))&&((!options.maxDate||!targetMoment.isAfter(options.maxDate,granularity))&&("d"!==granularity||options.daysOfWeekDisabled.indexOf(targetMoment.day())===-1)))))},fillMonths=function(){for(var spans=[],monthsShort=viewDate.clone().startOf("y").hour(12);monthsShort.isSame(viewDate,"y");)spans.push($("<span>").attr("data-action","selectMonth").addClass("month").text(monthsShort.format("MMM"))),monthsShort.add(1,"M");widget.find(".datepicker-months td").empty().append(spans)},updateMonths=function(){var monthsView=widget.find(".datepicker-months"),monthsViewHeader=monthsView.find("th"),months=monthsView.find("tbody").find("span");monthsView.find(".disabled").removeClass("disabled"),isValid(viewDate.clone().subtract(1,"y"),"y")||monthsViewHeader.eq(0).addClass("disabled"),monthsViewHeader.eq(1).text(viewDate.year()),isValid(viewDate.clone().add(1,"y"),"y")||monthsViewHeader.eq(2).addClass("disabled"),months.removeClass("active"),date.isSame(viewDate,"y")&&months.eq(date.month()).addClass("active"),months.each(function(index){isValid(viewDate.clone().month(index),"M")||$(this).addClass("disabled")})},updateYears=function(){var yearsView=widget.find(".datepicker-years"),yearsViewHeader=yearsView.find("th"),startYear=viewDate.clone().subtract(5,"y"),endYear=viewDate.clone().add(6,"y"),html="";for(yearsView.find(".disabled").removeClass("disabled"),options.minDate&&options.minDate.isAfter(startYear,"y")&&yearsViewHeader.eq(0).addClass("disabled"),yearsViewHeader.eq(1).text(startYear.year()+"-"+endYear.year()),options.maxDate&&options.maxDate.isBefore(endYear,"y")&&yearsViewHeader.eq(2).addClass("disabled");!startYear.isAfter(endYear,"y");)html+='<span data-action="selectYear" class="year'+(startYear.isSame(date,"y")?" active":"")+(isValid(startYear,"y")?"":" disabled")+'">'+startYear.year()+"</span>",startYear.add(1,"y");yearsView.find("td").html(html)},fillDate=function(){var currentDate,row,clsName,daysView=widget.find(".datepicker-days"),daysViewHeader=daysView.find("th"),html=[];if(hasDate()){for(daysView.find(".disabled").removeClass("disabled"),daysViewHeader.eq(1).text(viewDate.format(options.dayViewHeaderFormat)),isValid(viewDate.clone().subtract(1,"M"),"M")||daysViewHeader.eq(0).addClass("disabled"),isValid(viewDate.clone().add(1,"M"),"M")||daysViewHeader.eq(2).addClass("disabled"),currentDate=viewDate.clone().startOf("M").startOf("week");!viewDate.clone().endOf("M").endOf("w").isBefore(currentDate,"d");)0===currentDate.weekday()&&(row=$("<tr>"),options.calendarWeeks&&row.append('<td class="cw">'+currentDate.week()+"</td>"),html.push(row)),clsName="",currentDate.isBefore(viewDate,"M")&&(clsName+=" old"),currentDate.isAfter(viewDate,"M")&&(clsName+=" new"),currentDate.isSame(date,"d")&&!unset&&(clsName+=" active"),isValid(currentDate,"d")||(clsName+=" disabled"),currentDate.isSame(moment(),"d")&&(clsName+=" today"),0!==currentDate.day()&&6!==currentDate.day()||(clsName+=" weekend"),row.append('<td data-action="selectDay" class="day'+clsName+'">'+currentDate.date()+"</td>"),currentDate.add(1,"d");daysView.find("tbody").empty().append(html),updateMonths(),updateYears()}},fillHours=function(){var table=widget.find(".timepicker-hours table"),currentHour=viewDate.clone().startOf("d"),html=[],row=$("<tr>");for(viewDate.hour()>11&&!use24Hours&&currentHour.hour(12);currentHour.isSame(viewDate,"d")&&(use24Hours||viewDate.hour()<12&&currentHour.hour()<12||viewDate.hour()>11);)currentHour.hour()%4===0&&(row=$("<tr>"),html.push(row)),row.append('<td data-action="selectHour" class="hour'+(isValid(currentHour,"h")?"":" disabled")+'">'+currentHour.format(use24Hours?"HH":"hh")+"</td>"),currentHour.add(1,"h");table.empty().append(html)},fillMinutes=function(){for(var table=widget.find(".timepicker-minutes table"),currentMinute=viewDate.clone().startOf("h"),html=[],row=$("<tr>"),step=1===options.stepping?5:options.stepping;viewDate.isSame(currentMinute,"h");)currentMinute.minute()%(4*step)===0&&(row=$("<tr>"),html.push(row)),row.append('<td data-action="selectMinute" class="minute'+(isValid(currentMinute,"m")?"":" disabled")+'">'+currentMinute.format("mm")+"</td>"),currentMinute.add(step,"m");table.empty().append(html)},fillSeconds=function(){for(var table=widget.find(".timepicker-seconds table"),currentSecond=viewDate.clone().startOf("m"),html=[],row=$("<tr>");viewDate.isSame(currentSecond,"m");)currentSecond.second()%20===0&&(row=$("<tr>"),html.push(row)),row.append('<td data-action="selectSecond" class="second'+(isValid(currentSecond,"s")?"":" disabled")+'">'+currentSecond.format("ss")+"</td>"),currentSecond.add(5,"s");table.empty().append(html)},fillTime=function(){var timeComponents=widget.find(".timepicker span[data-time-component]");use24Hours||widget.find(".timepicker [data-action=togglePeriod]").text(date.format("A")),timeComponents.filter("[data-time-component=hours]").text(date.format(use24Hours?"HH":"hh")),timeComponents.filter("[data-time-component=minutes]").text(date.format("mm")),timeComponents.filter("[data-time-component=seconds]").text(date.format("ss")),fillHours(),fillMinutes(),fillSeconds()},update=function(){widget&&(fillDate(),fillTime())},setValue=function(targetMoment){var oldDate=unset?null:date;return targetMoment?(targetMoment=targetMoment.clone().locale(options.locale),1!==options.stepping&&targetMoment.minutes(Math.round(targetMoment.minutes()/options.stepping)*options.stepping%60).seconds(0),void(isValid(targetMoment)?(date=targetMoment,viewDate=date.clone(),input.val(date.format(actualFormat)),element.data("date",date.format(actualFormat)),update(),unset=!1,notifyEvent({type:"dp.change",date:date.clone(),oldDate:oldDate})):(options.keepInvalid||input.val(unset?"":date.format(actualFormat)),notifyEvent({type:"dp.error",date:targetMoment})))):(unset=!0,input.val(""),element.data("date",""),notifyEvent({type:"dp.change",date:null,oldDate:oldDate}),void update())},hide=function(){var transitioning=!1;return widget?(widget.find(".collapse").each(function(){var collapseData=$(this).data("collapse");return!collapseData||!collapseData.transitioning||(transitioning=!0,!1)}),transitioning?picker:(component&&component.hasClass("btn")&&component.toggleClass("active"),widget.hide(),$(window).off("resize",place),widget.off("click","[data-action]"),widget.off("mousedown",!1),widget.remove(),widget=!1,notifyEvent({type:"dp.hide",date:date.clone()}),picker)):picker},clear=function(){setValue(null)},actions={next:function(){viewDate.add(datePickerModes[currentViewMode].navStep,datePickerModes[currentViewMode].navFnc),fillDate()},previous:function(){viewDate.subtract(datePickerModes[currentViewMode].navStep,datePickerModes[currentViewMode].navFnc),fillDate()},pickerSwitch:function(){showMode(1)},selectMonth:function(e){var month=$(e.target).closest("tbody").find("span").index($(e.target));viewDate.month(month),currentViewMode===minViewModeNumber?(setValue(date.clone().year(viewDate.year()).month(viewDate.month())),options.inline||hide()):(showMode(-1),fillDate())},selectYear:function(e){var year=parseInt($(e.target).text(),10)||0;viewDate.year(year),currentViewMode===minViewModeNumber?(setValue(date.clone().year(viewDate.year())),options.inline||hide()):(showMode(-1),fillDate())},selectDay:function(e){var day=viewDate.clone();$(e.target).is(".old")&&day.subtract(1,"M"),$(e.target).is(".new")&&day.add(1,"M"),setValue(day.date(parseInt($(e.target).text(),10))),hasTime()||options.keepOpen||options.inline||hide()},incrementHours:function(){setValue(date.clone().add(1,"h"))},incrementMinutes:function(){setValue(date.clone().add(options.stepping,"m"))},incrementSeconds:function(){setValue(date.clone().add(1,"s"))},decrementHours:function(){setValue(date.clone().subtract(1,"h"))},decrementMinutes:function(){setValue(date.clone().subtract(options.stepping,"m"))},decrementSeconds:function(){setValue(date.clone().subtract(1,"s"))},togglePeriod:function(){setValue(date.clone().add(date.hours()>=12?-12:12,"h"))},togglePicker:function(e){var collapseData,$this=$(e.target),$parent=$this.closest("ul"),expanded=$parent.find(".in"),closed=$parent.find(".collapse:not(.in)");if(expanded&&expanded.length){if(collapseData=expanded.data("collapse"),collapseData&&collapseData.transitioning)return;expanded.collapse?(expanded.collapse("hide"),closed.collapse("show")):(expanded.removeClass("in"),closed.addClass("in")),$this.is("span")?$this.toggleClass(options.icons.time+" "+options.icons.date):$this.find("span").toggleClass(options.icons.time+" "+options.icons.date)}},showPicker:function(){widget.find(".timepicker > div:not(.timepicker-picker)").hide(),widget.find(".timepicker .timepicker-picker").show()},showHours:function(){widget.find(".timepicker .timepicker-picker").hide(),widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){widget.find(".timepicker .timepicker-picker").hide(),widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){widget.find(".timepicker .timepicker-picker").hide(),widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var hour=parseInt($(e.target).text(),10);use24Hours||(date.hours()>=12?12!==hour&&(hour+=12):12===hour&&(hour=0)),setValue(date.clone().hours(hour)),actions.showPicker.call(picker)},selectMinute:function(e){setValue(date.clone().minutes(parseInt($(e.target).text(),10))),actions.showPicker.call(picker)},selectSecond:function(e){setValue(date.clone().seconds(parseInt($(e.target).text(),10))),actions.showPicker.call(picker)},clear:clear,today:function(){setValue(moment())},close:hide},doAction=function(e){return!$(e.currentTarget).is(".disabled")&&(actions[$(e.currentTarget).data("action")].apply(picker,arguments),!1)},show=function(){var currentMoment,useCurrentGranularity={year:function(m){return m.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(m){return m.date(1).hours(0).seconds(0).minutes(0)},day:function(m){return m.hours(0).seconds(0).minutes(0)},hour:function(m){return m.seconds(0).minutes(0)},minute:function(m){return m.seconds(0)}};return input.prop("disabled")||!options.ignoreReadonly&&input.prop("readonly")||widget?picker:(options.useCurrent&&unset&&(input.is("input")&&0===input.val().trim().length||options.inline)&&(currentMoment=moment(),"string"==typeof options.useCurrent&&(currentMoment=useCurrentGranularity[options.useCurrent](currentMoment)),setValue(currentMoment)),widget=getTemplate(),fillDow(),fillMonths(),widget.find(".timepicker-hours").hide(),widget.find(".timepicker-minutes").hide(),widget.find(".timepicker-seconds").hide(),update(),showMode(),$(window).on("resize",place),widget.on("click","[data-action]",doAction),widget.on("mousedown",!1),component&&component.hasClass("btn")&&component.toggleClass("active"),widget.show(),place(),input.is(":focus")||input.focus(),notifyEvent({type:"dp.show"}),picker)},toggle=function(){return widget?hide():show()},parseInputDate=function(inputDate){return inputDate=moment.isMoment(inputDate)||inputDate instanceof Date?moment(inputDate):moment(inputDate,parseFormats,options.useStrict),inputDate.locale(options.locale),inputDate},keydown=function(e){var index,index2,keyBindKeys,allModifiersPressed,handler=null,pressedKeys=[],pressedModifiers={},currentKey=e.which,pressed="p";keyState[currentKey]=pressed;for(index in keyState)keyState.hasOwnProperty(index)&&keyState[index]===pressed&&(pressedKeys.push(index),parseInt(index,10)!==currentKey&&(pressedModifiers[index]=!0));for(index in options.keyBinds)if(options.keyBinds.hasOwnProperty(index)&&"function"==typeof options.keyBinds[index]&&(keyBindKeys=index.split(" "),keyBindKeys.length===pressedKeys.length&&keyMap[currentKey]===keyBindKeys[keyBindKeys.length-1])){for(allModifiersPressed=!0,index2=keyBindKeys.length-2;index2>=0;index2--)if(!(keyMap[keyBindKeys[index2]]in pressedModifiers)){allModifiersPressed=!1;break}if(allModifiersPressed){handler=options.keyBinds[index];break}}handler&&(handler.call(picker,widget),e.stopPropagation(),e.preventDefault())},keyup=function(e){keyState[e.which]="r",e.stopPropagation(),e.preventDefault()},change=function(e){var val=$(e.target).val().trim(),parsedDate=val?parseInputDate(val):null;return setValue(parsedDate),e.stopImmediatePropagation(),!1},attachDatePickerElementEvents=function(){input.on({change:change,blur:options.debug?"":hide,keydown:keydown,keyup:keyup}),element.is("input")?input.on({focus:show}):component&&(component.on("click",toggle),component.on("mousedown",!1))},detachDatePickerElementEvents=function(){input.off({change:change,blur:hide,keydown:keydown,keyup:keyup}),element.is("input")?input.off({focus:show}):component&&(component.off("click",toggle),component.off("mousedown",!1))},indexGivenDates=function(givenDatesArray){var givenDatesIndexed={};return $.each(givenDatesArray,function(){var dDate=parseInputDate(this);dDate.isValid()&&(givenDatesIndexed[dDate.format("YYYY-MM-DD")]=!0)}),!!Object.keys(givenDatesIndexed).length&&givenDatesIndexed},initFormatting=function(){var format=options.format||"L LT";actualFormat=format.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(formatInput){var newinput=date.localeData().longDateFormat(formatInput)||formatInput;return newinput.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(formatInput2){return date.localeData().longDateFormat(formatInput2)||formatInput2})}),parseFormats=options.extraFormats?options.extraFormats.slice():[],parseFormats.indexOf(format)<0&&parseFormats.indexOf(actualFormat)<0&&parseFormats.push(actualFormat),use24Hours=actualFormat.toLowerCase().indexOf("a")<1&&actualFormat.indexOf("h")<1,isEnabled("y")&&(minViewModeNumber=2),isEnabled("M")&&(minViewModeNumber=1),isEnabled("d")&&(minViewModeNumber=0),currentViewMode=Math.max(minViewModeNumber,currentViewMode),unset||setValue(date)};if(picker.destroy=function(){hide(),detachDatePickerElementEvents(),element.removeData("DateTimePicker"),element.removeData("date")},picker.toggle=toggle,picker.show=show,picker.hide=hide,picker.disable=function(){return hide(),component&&component.hasClass("btn")&&component.addClass("disabled"),input.prop("disabled",!0),picker},picker.enable=function(){return component&&component.hasClass("btn")&&component.removeClass("disabled"),input.prop("disabled",!1),picker},picker.ignoreReadonly=function(ignoreReadonly){if(0===arguments.length)return options.ignoreReadonly;if("boolean"!=typeof ignoreReadonly)throw new TypeError("ignoreReadonly () expects a boolean parameter");return options.ignoreReadonly=ignoreReadonly,picker},picker.options=function(newOptions){if(0===arguments.length)return $.extend(!0,{},options);if(!(newOptions instanceof Object))throw new TypeError("options() options parameter should be an object");return $.extend(!0,options,newOptions),$.each(options,function(key,value){if(void 0===picker[key])throw new TypeError("option "+key+" is not recognized!");picker[key](value)}),picker},picker.date=function(newDate){if(0===arguments.length)return unset?null:date.clone();if(!(null===newDate||"string"==typeof newDate||moment.isMoment(newDate)||newDate instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return setValue(null===newDate?null:parseInputDate(newDate)),picker},picker.format=function(newFormat){if(0===arguments.length)return options.format;if("string"!=typeof newFormat&&("boolean"!=typeof newFormat||newFormat!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+newFormat);return options.format=newFormat,actualFormat&&initFormatting(),picker},picker.dayViewHeaderFormat=function(newFormat){if(0===arguments.length)return options.dayViewHeaderFormat;if("string"!=typeof newFormat)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return options.dayViewHeaderFormat=newFormat,picker},picker.extraFormats=function(formats){if(0===arguments.length)return options.extraFormats;if(formats!==!1&&!(formats instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return options.extraFormats=formats,parseFormats&&initFormatting(),picker},picker.disabledDates=function(dates){if(0===arguments.length)return options.disabledDates?$.extend({},options.disabledDates):options.disabledDates;if(!dates)return options.disabledDates=!1,update(),picker;if(!(dates instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return options.disabledDates=indexGivenDates(dates),options.enabledDates=!1,update(),picker},picker.enabledDates=function(dates){if(0===arguments.length)return options.enabledDates?$.extend({},options.enabledDates):options.enabledDates;if(!dates)return options.enabledDates=!1,update(),picker;if(!(dates instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return options.enabledDates=indexGivenDates(dates),options.disabledDates=!1,update(),picker},picker.daysOfWeekDisabled=function(daysOfWeekDisabled){if(0===arguments.length)return options.daysOfWeekDisabled.splice(0);if(!(daysOfWeekDisabled instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");return options.daysOfWeekDisabled=daysOfWeekDisabled.reduce(function(previousValue,currentValue){return currentValue=parseInt(currentValue,10),currentValue>6||currentValue<0||isNaN(currentValue)?previousValue:(previousValue.indexOf(currentValue)===-1&&previousValue.push(currentValue),previousValue)},[]).sort(),update(),picker},picker.maxDate=function(maxDate){if(0===arguments.length)return options.maxDate?options.maxDate.clone():options.maxDate;if("boolean"==typeof maxDate&&maxDate===!1)return options.maxDate=!1,update(),picker;"string"==typeof maxDate&&("now"!==maxDate&&"moment"!==maxDate||(maxDate=moment()));var parsedDate=parseInputDate(maxDate);if(!parsedDate.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+maxDate);if(options.minDate&&parsedDate.isBefore(options.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+parsedDate.format(actualFormat));return options.maxDate=parsedDate,options.maxDate.isBefore(maxDate)&&setValue(options.maxDate),viewDate.isAfter(parsedDate)&&(viewDate=parsedDate.clone()),update(),picker},picker.minDate=function(minDate){if(0===arguments.length)return options.minDate?options.minDate.clone():options.minDate;if("boolean"==typeof minDate&&minDate===!1)return options.minDate=!1,update(),picker;"string"==typeof minDate&&("now"!==minDate&&"moment"!==minDate||(minDate=moment()));var parsedDate=parseInputDate(minDate);if(!parsedDate.isValid())throw new TypeError("minDate() Could not parse date parameter: "+minDate);if(options.maxDate&&parsedDate.isAfter(options.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+parsedDate.format(actualFormat));return options.minDate=parsedDate,options.minDate.isAfter(minDate)&&setValue(options.minDate),viewDate.isBefore(parsedDate)&&(viewDate=parsedDate.clone()),update(),picker},picker.defaultDate=function(defaultDate){if(0===arguments.length)return options.defaultDate?options.defaultDate.clone():options.defaultDate;if(!defaultDate)return options.defaultDate=!1,picker;"string"==typeof defaultDate&&("now"!==defaultDate&&"moment"!==defaultDate||(defaultDate=moment()));var parsedDate=parseInputDate(defaultDate);if(!parsedDate.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+defaultDate);if(!isValid(parsedDate))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return options.defaultDate=parsedDate,options.defaultDate&&""===input.val().trim()&&void 0===input.attr("placeholder")&&setValue(options.defaultDate),picker},picker.locale=function(locale){if(0===arguments.length)return options.locale;if(!moment.localeData(locale))throw new TypeError("locale() locale "+locale+" is not loaded from moment locales!");return options.locale=locale,date.locale(options.locale),viewDate.locale(options.locale),actualFormat&&initFormatting(),widget&&(hide(),show()),picker},picker.stepping=function(stepping){return 0===arguments.length?options.stepping:(stepping=parseInt(stepping,10),(isNaN(stepping)||stepping<1)&&(stepping=1),options.stepping=stepping,picker)},picker.useCurrent=function(useCurrent){var useCurrentOptions=["year","month","day","hour","minute"];if(0===arguments.length)return options.useCurrent;if("boolean"!=typeof useCurrent&&"string"!=typeof useCurrent)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof useCurrent&&useCurrentOptions.indexOf(useCurrent.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+useCurrentOptions.join(", "));return options.useCurrent=useCurrent,picker},picker.collapse=function(collapse){if(0===arguments.length)return options.collapse;if("boolean"!=typeof collapse)throw new TypeError("collapse() expects a boolean parameter");return options.collapse===collapse?picker:(options.collapse=collapse,widget&&(hide(),show()),picker)},picker.icons=function(icons){if(0===arguments.length)return $.extend({},options.icons);if(!(icons instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return $.extend(options.icons,icons),widget&&(hide(),show()),picker},picker.useStrict=function(useStrict){if(0===arguments.length)return options.useStrict;if("boolean"!=typeof useStrict)throw new TypeError("useStrict() expects a boolean parameter");return options.useStrict=useStrict,picker},picker.sideBySide=function(sideBySide){if(0===arguments.length)return options.sideBySide;if("boolean"!=typeof sideBySide)throw new TypeError("sideBySide() expects a boolean parameter");return options.sideBySide=sideBySide,widget&&(hide(),show()),picker},picker.viewMode=function(viewMode){if(0===arguments.length)return options.viewMode;if("string"!=typeof viewMode)throw new TypeError("viewMode() expects a string parameter");if(viewModes.indexOf(viewMode)===-1)throw new TypeError("viewMode() parameter must be one of ("+viewModes.join(", ")+") value");return options.viewMode=viewMode,currentViewMode=Math.max(viewModes.indexOf(viewMode),minViewModeNumber),showMode(),picker},picker.toolbarPlacement=function(toolbarPlacement){if(0===arguments.length)return options.toolbarPlacement;if("string"!=typeof toolbarPlacement)throw new TypeError("toolbarPlacement() expects a string parameter");if(toolbarPlacements.indexOf(toolbarPlacement)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+toolbarPlacements.join(", ")+") value");return options.toolbarPlacement=toolbarPlacement,widget&&(hide(),show()),picker},picker.widgetPositioning=function(widgetPositioning){if(0===arguments.length)return $.extend({},options.widgetPositioning);if("[object Object]"!=={}.toString.call(widgetPositioning))throw new TypeError("widgetPositioning() expects an object variable");if(widgetPositioning.horizontal){if("string"!=typeof widgetPositioning.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(widgetPositioning.horizontal=widgetPositioning.horizontal.toLowerCase(),horizontalModes.indexOf(widgetPositioning.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+horizontalModes.join(", ")+")");options.widgetPositioning.horizontal=widgetPositioning.horizontal}if(widgetPositioning.vertical){if("string"!=typeof widgetPositioning.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(widgetPositioning.vertical=widgetPositioning.vertical.toLowerCase(),verticalModes.indexOf(widgetPositioning.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+verticalModes.join(", ")+")");options.widgetPositioning.vertical=widgetPositioning.vertical}return update(),picker},picker.calendarWeeks=function(calendarWeeks){if(0===arguments.length)return options.calendarWeeks;if("boolean"!=typeof calendarWeeks)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return options.calendarWeeks=calendarWeeks,update(),picker},picker.showTodayButton=function(showTodayButton){if(0===arguments.length)return options.showTodayButton;if("boolean"!=typeof showTodayButton)throw new TypeError("showTodayButton() expects a boolean parameter");return options.showTodayButton=showTodayButton,widget&&(hide(),show()),picker},picker.showClear=function(showClear){if(0===arguments.length)return options.showClear;if("boolean"!=typeof showClear)throw new TypeError("showClear() expects a boolean parameter");return options.showClear=showClear,widget&&(hide(),show()),picker},picker.widgetParent=function(widgetParent){if(0===arguments.length)return options.widgetParent;if("string"==typeof widgetParent&&(widgetParent=$(widgetParent)),null!==widgetParent&&"string"!=typeof widgetParent&&!(widgetParent instanceof $))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return options.widgetParent=widgetParent,widget&&(hide(),show()),picker},picker.keepOpen=function(keepOpen){if(0===arguments.length)return options.keepOpen;if("boolean"!=typeof keepOpen)throw new TypeError("keepOpen() expects a boolean parameter");return options.keepOpen=keepOpen,picker},picker.inline=function(inline){if(0===arguments.length)return options.inline;if("boolean"!=typeof inline)throw new TypeError("inline() expects a boolean parameter");return options.inline=inline,picker},picker.clear=function(){return clear(),picker},picker.keyBinds=function(keyBinds){return options.keyBinds=keyBinds,picker},picker.debug=function(debug){if("boolean"!=typeof debug)throw new TypeError("debug() expects a boolean parameter");return options.debug=debug,picker},picker.showClose=function(showClose){if(0===arguments.length)return options.showClose;if("boolean"!=typeof showClose)throw new TypeError("showClose() expects a boolean parameter");return options.showClose=showClose,picker},picker.keepInvalid=function(keepInvalid){if(0===arguments.length)return options.keepInvalid;if("boolean"!=typeof keepInvalid)throw new TypeError("keepInvalid() expects a boolean parameter");return options.keepInvalid=keepInvalid,picker},picker.datepickerInput=function(datepickerInput){if(0===arguments.length)return options.datepickerInput;if("string"!=typeof datepickerInput)throw new TypeError("datepickerInput() expects a string parameter");return options.datepickerInput=datepickerInput,picker},element.is("input"))input=element;else if(input=element.find(options.datepickerInput),0===input.size())input=element.find("input");else if(!input.is("input"))throw new Error('CSS class "'+options.datepickerInput+'" cannot be applied to non input element');if(element.hasClass("input-group")&&(component=0===element.find(".datepickerbutton").size()?element.find('[class^="input-group-"]'):element.find(".datepickerbutton")),!options.inline&&!input.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return $.extend(!0,options,dataToOptions()),picker.options(options),initFormatting(),attachDatePickerElementEvents(),input.prop("disabled")&&picker.disable(),input.is("input")&&0!==input.val().trim().length?setValue(parseInputDate(input.val().trim())):options.defaultDate&&void 0===input.attr("placeholder")&&setValue(options.defaultDate),options.inline&&show(),picker};$.fn.datetimepicker=function(options){return this.each(function(){var $this=$(this);$this.data("DateTimePicker")||(options=$.extend(!0,{},$.fn.datetimepicker.defaults,options),$this.data("DateTimePicker",dateTimePicker($this,options)))})},$.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:moment.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:[],calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(widget){if(widget){var d=this.date()||moment();widget.find(".datepicker").is(":visible")?this.date(d.clone().subtract(7,"d")):this.date(d.clone().add(1,"m"))}},down:function(widget){if(!widget)return void this.show();var d=this.date()||moment();widget.find(".datepicker").is(":visible")?this.date(d.clone().add(7,"d")):this.date(d.clone().subtract(1,"m"))},"control up":function(widget){if(widget){var d=this.date()||moment();widget.find(".datepicker").is(":visible")?this.date(d.clone().subtract(1,"y")):this.date(d.clone().add(1,"h"))}},"control down":function(widget){if(widget){var d=this.date()||moment();widget.find(".datepicker").is(":visible")?this.date(d.clone().add(1,"y")):this.date(d.clone().subtract(1,"h"))}},left:function(widget){if(widget){var d=this.date()||moment();widget.find(".datepicker").is(":visible")&&this.date(d.clone().subtract(1,"d"))}},right:function(widget){if(widget){var d=this.date()||moment();widget.find(".datepicker").is(":visible")&&this.date(d.clone().add(1,"d"))}},pageUp:function(widget){if(widget){var d=this.date()||moment();widget.find(".datepicker").is(":visible")&&this.date(d.clone().subtract(1,"M"))}},pageDown:function(widget){if(widget){var d=this.date()||moment();widget.find(".datepicker").is(":visible")&&this.date(d.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(widget){widget.find(".timepicker").is(":visible")&&widget.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(moment())},"delete":function(){this.clear()}},debug:!1}}),function($){function escapeRegExp(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function padLeft(s,l,c){return l<s.length?s:Array(l-s.length+1).join(c||" ")+s}function getTemplate(timeIcon,pickDate,pickTime,is12Hours,showSeconds,collapse){return pickDate&&pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><ul><li'+(collapse?' class="collapse in"':"")+'><div class="datepicker">'+DPGlobal.template+'</div></li><li class="picker-switch accordion-toggle"><a><i class="'+timeIcon+'"></i></a></li><li'+(collapse?' class="collapse"':"")+'><div class="timepicker">'+TPGlobal.getTemplate(is12Hours,showSeconds)+"</div></li></ul></div>":pickTime?'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="timepicker">'+TPGlobal.getTemplate(is12Hours,showSeconds)+"</div></div>":'<div class="bootstrap-datetimepicker-widget dropdown-menu"><div class="datepicker">'+DPGlobal.template+"</div></div>";
}function UTCDate(){return new Date(Date.UTC.apply(Date,arguments))}var DateTimePicker=(void 0!=window.orientation,function(element,options){this.id=dpgId++,this.init(element,options)});DateTimePicker.prototype={constructor:DateTimePicker,init:function(element,options){var icon;if(!options.pickTime&&!options.pickDate)throw new Error("Must choose at least one picker");if(this.options=options,this.$element=$(element),this.language=options.language in dates?options.language:"en",this.pickDate=options.pickDate,this.pickTime=options.pickTime,this.isInput=this.$element.is("input"),this.component=!1,(this.$element.find(".input-append")||this.$element.find(".input-prepend"))&&(this.component=this.$element.find(".add-on")),this.format=options.format,this.format||(this.isInput?this.format=this.$element.data("format"):this.format=this.$element.find("input").data("format"),this.format||(this.format="MM/dd/yyyy")),this._compileFormat(),this.component&&(icon=this.component.find("i")),this.pickTime&&(icon&&icon.length&&(this.timeIcon=icon.data("time-icon")),this.timeIcon||(this.timeIcon="icon-time"),icon.addClass(this.timeIcon)),this.pickDate&&(icon&&icon.length&&(this.dateIcon=icon.data("date-icon")),this.dateIcon||(this.dateIcon="icon-calendar"),icon.removeClass(this.timeIcon),icon.addClass(this.dateIcon)),this.widget=$(getTemplate(this.timeIcon,options.pickDate,options.pickTime,options.pick12HourFormat,options.pickSeconds,options.collapse)).appendTo("body"),this.minViewMode=options.minViewMode||this.$element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=options.viewMode||this.$element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=options.weekStart||this.$element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.setStartDate(options.startDate||this.$element.data("date-startdate")),this.setEndDate(options.endDate||this.$element.data("date-enddate")),this.fillDow(),this.fillMonths(),this.fillHours(),this.fillMinutes(),this.fillSeconds(),this.update(),this.showMode(),this._attachDatePickerEvents()},show:function(e){this.widget.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),this.$element.trigger({type:"show",date:this._date}),this._attachDatePickerGlobalEvents(),e&&(e.stopPropagation(),e.preventDefault())},disable:function(){this.$element.find("input").prop("disabled",!0),this._detachDatePickerEvents()},enable:function(){this.$element.find("input").prop("disabled",!1),this._attachDatePickerEvents()},hide:function(){for(var collapse=this.widget.find(".collapse"),i=0;i<collapse.length;i++){var collapseData=collapse.eq(i).data("collapse");if(collapseData&&collapseData.transitioning)return}this.widget.hide(),this.viewMode=this.startViewMode,this.showMode(),this.set(),this.$element.trigger({type:"hide",date:this._date}),this._detachDatePickerGlobalEvents()},set:function(){var formatted="";if(this._unset||(formatted=this.formatDate(this._date)),this.isInput)this.$element.val(formatted),this._resetMaskPos(this.$element);else{if(this.component){var input=this.$element.find("input");input.val(formatted),this._resetMaskPos(input)}this.$element.data("date",formatted)}},setValue:function(newDate){newDate?this._unset=!1:this._unset=!0,"string"==typeof newDate?this._date=this.parseDate(newDate):newDate&&(this._date=new Date(newDate)),this.set(),this.viewDate=UTCDate(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},getDate:function(){return this._unset?null:new Date(this._date.valueOf())},setDate:function(date){date?this.setValue(date.valueOf()):this.setValue(null)},setStartDate:function(date){date instanceof Date?this.startDate=date:"string"==typeof date?(this.startDate=new UTCDate(date),this.startDate.getUTCFullYear()||(this.startDate=-(1/0))):this.startDate=-(1/0),this.viewDate&&this.update()},setEndDate:function(date){date instanceof Date?this.endDate=date:"string"==typeof date?(this.endDate=new UTCDate(date),this.endDate.getUTCFullYear()||(this.endDate=1/0)):this.endDate=1/0,this.viewDate&&this.update()},getLocalDate:function(){if(this._unset)return null;var d=this._date;return new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())},setLocalDate:function(localDate){localDate?this.setValue(Date.UTC(localDate.getFullYear(),localDate.getMonth(),localDate.getDate(),localDate.getHours(),localDate.getMinutes(),localDate.getSeconds(),localDate.getMilliseconds())):this.setValue(null)},place:function(){var position="absolute",offset=this.component?this.component.offset():this.$element.offset();this.width=this.component?this.component.outerWidth():this.$element.outerWidth(),offset.top=offset.top+this.height;var $window=$(window);void 0!=this.options.width&&this.widget.width(this.options.width),"left"==this.options.orientation&&(this.widget.addClass("left-oriented"),offset.left=offset.left-this.widget.width()+20),this._isInFixed()&&(position="fixed",offset.top-=$window.scrollTop(),offset.left-=$window.scrollLeft()),$window.width()<offset.left+this.widget.outerWidth()?(offset.right=$window.width()-offset.left-this.width,offset.left="auto",this.widget.addClass("pull-right")):(offset.right="auto",this.widget.removeClass("pull-right")),this.widget.css({position:position,top:offset.top,left:offset.left,right:offset.right})},notifyChange:function(){this.$element.trigger({type:"changeDate",date:this.getDate(),localDate:this.getLocalDate()})},update:function(newDate){var dateStr=newDate;if(!dateStr&&(dateStr=this.isInput?this.$element.val():this.$element.find("input").val(),dateStr&&(this._date=this.parseDate(dateStr)),!this._date)){var tmp=new Date;this._date=UTCDate(tmp.getFullYear(),tmp.getMonth(),tmp.getDate(),tmp.getHours(),tmp.getMinutes(),tmp.getSeconds(),tmp.getMilliseconds())}this.viewDate=UTCDate(this._date.getUTCFullYear(),this._date.getUTCMonth(),1,0,0,0,0),this.fillDate(),this.fillTime()},fillDow:function(){for(var dowCnt=this.weekStart,html=$("<tr>");dowCnt<this.weekStart+7;)html.append('<th class="dow">'+dates[this.language].daysMin[dowCnt++%7]+"</th>");this.widget.find(".datepicker-days thead").append(html)},fillMonths:function(){for(var html="",i=0;i<12;)html+='<span class="month">'+dates[this.language].monthsShort[i++]+"</span>";this.widget.find(".datepicker-months td").append(html)},fillDate:function(){var year=this.viewDate.getUTCFullYear(),month=this.viewDate.getUTCMonth(),currentDate=UTCDate(this._date.getUTCFullYear(),this._date.getUTCMonth(),this._date.getUTCDate(),0,0,0,0),startYear="object"==typeof this.startDate?this.startDate.getUTCFullYear():-(1/0),startMonth="object"==typeof this.startDate?this.startDate.getUTCMonth():-1,endYear="object"==typeof this.endDate?this.endDate.getUTCFullYear():1/0,endMonth="object"==typeof this.endDate?this.endDate.getUTCMonth():12;this.widget.find(".datepicker-days").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-months").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-years").find(".disabled").removeClass("disabled"),this.widget.find(".datepicker-days th:eq(1)").text(dates[this.language].months[month]+" "+year);var prevMonth=UTCDate(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(),prevMonth.getUTCMonth());prevMonth.setUTCDate(day),prevMonth.setUTCDate(day-(prevMonth.getUTCDay()-this.weekStart+7)%7),(year==startYear&&month<=startMonth||year<startYear)&&this.widget.find(".datepicker-days th:eq(0)").addClass("disabled"),(year==endYear&&month>=endMonth||year>endYear)&&this.widget.find(".datepicker-days th:eq(2)").addClass("disabled");var nextMonth=new Date(prevMonth.valueOf());nextMonth.setUTCDate(nextMonth.getUTCDate()+42),nextMonth=nextMonth.valueOf();for(var row,clsName,html=[];prevMonth.valueOf()<nextMonth;)prevMonth.getUTCDay()===this.weekStart&&(row=$("<tr>"),html.push(row)),clsName="",prevMonth.getUTCFullYear()<year||prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()<month?clsName+=" old":(prevMonth.getUTCFullYear()>year||prevMonth.getUTCFullYear()==year&&prevMonth.getUTCMonth()>month)&&(clsName+=" new"),prevMonth.valueOf()===currentDate.valueOf()&&(clsName+=" active"),prevMonth.valueOf()+864e5<=this.startDate&&(clsName+=" disabled"),prevMonth.valueOf()>this.endDate&&(clsName+=" disabled"),row.append('<td class="day'+clsName+'">'+prevMonth.getUTCDate()+"</td>"),prevMonth.setUTCDate(prevMonth.getUTCDate()+1);this.widget.find(".datepicker-days tbody").empty().append(html);var currentYear=this._date.getUTCFullYear(),months=this.widget.find(".datepicker-months").find("th:eq(1)").text(year).end().find("span").removeClass("active");currentYear===year&&months.eq(this._date.getUTCMonth()).addClass("active"),currentYear-1<startYear&&this.widget.find(".datepicker-months th:eq(0)").addClass("disabled"),currentYear+1>endYear&&this.widget.find(".datepicker-months th:eq(2)").addClass("disabled");for(var i=0;i<12;i++)year==startYear&&startMonth>i||year<startYear?$(months[i]).addClass("disabled"):(year==endYear&&endMonth<i||year>endYear)&&$(months[i]).addClass("disabled");html="",year=10*parseInt(year/10,10);var yearCont=this.widget.find(".datepicker-years").find("th:eq(1)").text(year+"-"+(year+9)).end().find("td");this.widget.find(".datepicker-years").find("th").removeClass("disabled"),startYear>year&&this.widget.find(".datepicker-years").find("th:eq(0)").addClass("disabled"),endYear<year+9&&this.widget.find(".datepicker-years").find("th:eq(2)").addClass("disabled"),year-=1;for(var i=-1;i<11;i++)html+='<span class="year'+(i===-1||10===i?" old":"")+(currentYear===year?" active":"")+(year<startYear||year>endYear?" disabled":"")+'">'+year+"</span>",year+=1;yearCont.html(html)},fillHours:function(){var table=this.widget.find(".timepicker .timepicker-hours table");table.parent().hide();var html="";if(this.options.pick12HourFormat)for(var current=1,i=0;i<3;i+=1){html+="<tr>";for(var j=0;j<4;j+=1){var c=current.toString();html+='<td class="hour">'+padLeft(c,2,"0")+"</td>",current++}html+="</tr>"}else for(var current=0,i=0;i<6;i+=1){html+="<tr>";for(var j=0;j<4;j+=1){var c=current.toString();html+='<td class="hour">'+padLeft(c,2,"0")+"</td>",current++}html+="</tr>"}table.html(html)},fillMinutes:function(){var table=this.widget.find(".timepicker .timepicker-minutes table");table.parent().hide();for(var html="",current=0,i=0;i<5;i++){html+="<tr>";for(var j=0;j<4;j+=1){var c=current.toString();html+='<td class="minute">'+padLeft(c,2,"0")+"</td>",current+=3}html+="</tr>"}table.html(html)},fillSeconds:function(){var table=this.widget.find(".timepicker .timepicker-seconds table");table.parent().hide();for(var html="",current=0,i=0;i<5;i++){html+="<tr>";for(var j=0;j<4;j+=1){var c=current.toString();html+='<td class="second">'+padLeft(c,2,"0")+"</td>",current+=3}html+="</tr>"}table.html(html)},fillTime:function(){if(this._date){var timeComponents=this.widget.find(".timepicker span[data-time-component]"),is12HourFormat=(timeComponents.closest("table"),this.options.pick12HourFormat),hour=this._date.getUTCHours(),period="AM";is12HourFormat&&(hour>=12&&(period="PM"),0===hour?hour=12:12!=hour&&(hour%=12),this.widget.find(".timepicker [data-action=togglePeriod]").text(period)),hour=padLeft(hour.toString(),2,"0");var minute=padLeft(this._date.getUTCMinutes().toString(),2,"0"),second=padLeft(this._date.getUTCSeconds().toString(),2,"0");timeComponents.filter("[data-time-component=hours]").text(hour),timeComponents.filter("[data-time-component=minutes]").text(minute),timeComponents.filter("[data-time-component=seconds]").text(second)}},click:function(e){e.stopPropagation(),e.preventDefault(),this._unset=!1;var target=$(e.target).closest("span, td, th");if(1===target.length&&!target.is(".disabled"))switch(target[0].nodeName.toLowerCase()){case"th":switch(target[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var vd=this.viewDate,navFnc=DPGlobal.modes[this.viewMode].navFnc,step=DPGlobal.modes[this.viewMode].navStep;"prev"===target[0].className&&(step*=-1),vd["set"+navFnc](vd["get"+navFnc]()+step),this.fillDate(),this.set()}break;case"span":if(target.is(".month")){var month=target.parent().find("span").index(target);this.viewDate.setUTCMonth(month)}else{var year=parseInt(target.text(),10)||0;this.viewDate.setUTCFullYear(year)}0!==this.viewMode&&(this._date=UTCDate(this.viewDate.getUTCFullYear(),this.viewDate.getUTCMonth(),this.viewDate.getUTCDate(),this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.notifyChange()),this.showMode(-1),this.fillDate(),this.set();break;case"td":if(target.is(".day")){var day=parseInt(target.text(),10)||1,month=this.viewDate.getUTCMonth(),year=this.viewDate.getUTCFullYear();target.is(".old")?0===month?(month=11,year-=1):month-=1:target.is(".new")&&(11==month?(month=0,year+=1):month+=1),this._date=UTCDate(year,month,day,this._date.getUTCHours(),this._date.getUTCMinutes(),this._date.getUTCSeconds(),this._date.getUTCMilliseconds()),this.viewDate=UTCDate(year,month,Math.min(28,day),0,0,0,0),this.fillDate(),this.set(),this.notifyChange()}}},actions:{incrementHours:function(e){this._date.setUTCHours(this._date.getUTCHours()+1)},incrementMinutes:function(e){this._date.setUTCMinutes(this._date.getUTCMinutes()+1)},incrementSeconds:function(e){this._date.setUTCSeconds(this._date.getUTCSeconds()+1)},decrementHours:function(e){this._date.setUTCHours(this._date.getUTCHours()-1)},decrementMinutes:function(e){this._date.setUTCMinutes(this._date.getUTCMinutes()-1)},decrementSeconds:function(e){this._date.setUTCSeconds(this._date.getUTCSeconds()-1)},togglePeriod:function(e){var hour=this._date.getUTCHours();hour>=12?hour-=12:hour+=12,this._date.setUTCHours(hour)},showPicker:function(){this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show()},showHours:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show()},showMinutes:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var tgt=$(e.target),value=parseInt(tgt.text(),10);if(this.options.pick12HourFormat){var current=this._date.getUTCHours();current>=12?12!=value&&(value=(value+12)%24):12===value?value=0:value%=12}this._date.setUTCHours(value),this.actions.showPicker.call(this)},selectMinute:function(e){var tgt=$(e.target),value=parseInt(tgt.text(),10);this._date.setUTCMinutes(value),this.actions.showPicker.call(this)},selectSecond:function(e){var tgt=$(e.target),value=parseInt(tgt.text(),10);this._date.setUTCSeconds(value),this.actions.showPicker.call(this)}},doAction:function(e){e.stopPropagation(),e.preventDefault(),this._date||(this._date=UTCDate(1970,0,0,0,0,0,0));var action=$(e.currentTarget).data("action"),rv=this.actions[action].apply(this,arguments);return this.set(),this.fillTime(),this.notifyChange(),rv},stopEvent:function(e){e.stopPropagation(),e.preventDefault()},keydown:function(e){var self=this,k=e.which,input=$(e.target);8!=k&&46!=k||setTimeout(function(){self._resetMaskPos(input)})},keypress:function(e){var k=e.which;if(8!=k&&46!=k){var input=$(e.target),c=String.fromCharCode(k),val=input.val()||"";val+=c;var mask=this._mask[this._maskPos];if(!mask)return!1;if(mask.end==val.length){if(!mask.pattern.test(val.slice(mask.start))){for(val=val.slice(0,val.length-1);(mask=this._mask[this._maskPos])&&mask.character;)val+=mask.character,this._maskPos++;return val+=c,mask.end!=val.length?(input.val(val),!1):mask.pattern.test(val.slice(mask.start))?(input.val(val),this._maskPos++,!1):(input.val(val.slice(0,mask.start)),!1)}this._maskPos++}}},change:function(e){var input=$(e.target),val=input.val();this._formatPattern.test(val)?(this.update(),this.setValue(this._date.getTime()),this.notifyChange(),this.set()):val&&val.trim()?(this.setValue(this._date.getTime()),this._date?this.set():input.val("")):this._date&&(this.setValue(null),this.notifyChange(),this._unset=!0),this._resetMaskPos(input)},showMode:function(dir){dir&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+dir))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+DPGlobal.modes[this.viewMode].clsName).show()},destroy:function(){this._detachDatePickerEvents(),this._detachDatePickerGlobalEvents(),this.widget.remove(),this.$element.removeData("datetimepicker"),this.component.removeData("datetimepicker")},formatDate:function(d){return this.format.replace(formatReplacer,function(match){var methodName,property,rv,len=match.length;if("ms"===match&&(len=1),property=dateFormatComponents[match].property,"Hours12"===property)rv=d.getUTCHours(),0===rv?rv=12:12!==rv&&(rv%=12);else{if("Period12"===property)return d.getUTCHours()>=12?"PM":"AM";methodName="get"+property,rv=d[methodName]()}return"getUTCMonth"===methodName&&(rv+=1),"getUTCYear"===methodName&&(rv=rv+1900-2e3),padLeft(rv.toString(),len,"0")})},parseDate:function(str){var match,i,property,value,parsed={};if(!(match=this._formatPattern.exec(str)))return null;for(i=1;i<match.length;i++)property=this._propertiesByIndex[i],property&&(value=match[i],/^\d+$/.test(value)&&(value=parseInt(value,10)),parsed[property]=value);return this._finishParsingDate(parsed)},_resetMaskPos:function(input){for(var val=input.val(),i=0;i<this._mask.length;i++){if(this._mask[i].end>val.length){this._maskPos=i;break}if(this._mask[i].end===val.length){this._maskPos=i+1;break}}},_finishParsingDate:function(parsed){var year,month,date,hours,minutes,seconds,milliseconds;return year=parsed.UTCFullYear,parsed.UTCYear&&(year=2e3+parsed.UTCYear),year||(year=1970),month=parsed.UTCMonth?parsed.UTCMonth-1:0,date=parsed.UTCDate||1,hours=parsed.UTCHours||0,minutes=parsed.UTCMinutes||0,seconds=parsed.UTCSeconds||0,milliseconds=parsed.UTCMilliseconds||0,parsed.Hours12&&(hours=parsed.Hours12),parsed.Period12&&(/pm/i.test(parsed.Period12)?12!=hours&&(hours=(hours+12)%24):hours%=12),UTCDate(year,month,date,hours,minutes,seconds,milliseconds)},_compileFormat:function(){for(var match,component,components=[],mask=[],str=this.format,propertiesByIndex={},i=0,pos=0;match=formatComponent.exec(str);)component=match[0],component in dateFormatComponents?(i++,propertiesByIndex[i]=dateFormatComponents[component].property,components.push("\\s*"+dateFormatComponents[component].getPattern(this)+"\\s*"),mask.push({pattern:new RegExp(dateFormatComponents[component].getPattern(this)),property:dateFormatComponents[component].property,start:pos,end:pos+=component.length})):(components.push(escapeRegExp(component)),mask.push({pattern:new RegExp(escapeRegExp(component)),character:component,start:pos,end:++pos})),str=str.slice(component.length);this._mask=mask,this._maskPos=0,this._formatPattern=new RegExp("^\\s*"+components.join("")+"\\s*$"),this._propertiesByIndex=propertiesByIndex},_attachDatePickerEvents:function(){var self=this;this.widget.on("click",".datepicker *",$.proxy(this.click,this)),this.widget.on("click","[data-action]",$.proxy(this.doAction,this)),this.widget.on("mousedown",$.proxy(this.stopEvent,this)),this.pickDate&&this.pickTime&&this.widget.on("click.togglePicker",".accordion-toggle",function(e){e.stopPropagation();var $this=$(this),$parent=$this.closest("ul"),expanded=$parent.find(".in"),closed=$parent.find(".collapse:not(.in)");if(expanded&&expanded.length){var collapseData=expanded.data("collapse");if(collapseData&&collapseData.transitioning)return;expanded.collapse("hide"),closed.collapse("show"),$this.find("i").toggleClass(self.timeIcon+" "+self.dateIcon),self.$element.find(".add-on i").toggleClass(self.timeIcon+" "+self.dateIcon)}}),this.isInput?(this.$element.on({focus:$.proxy(this.show,this),change:$.proxy(this.change,this)}),this.options.maskInput&&this.$element.on({keydown:$.proxy(this.keydown,this),keypress:$.proxy(this.keypress,this)})):(this.$element.on({change:$.proxy(this.change,this)},"input"),this.options.maskInput&&this.$element.on({keydown:$.proxy(this.keydown,this),keypress:$.proxy(this.keypress,this)},"input"),this.component?this.component.on("click",$.proxy(this.show,this)):this.$element.on("click",$.proxy(this.show,this)))},_attachDatePickerGlobalEvents:function(){$(window).on("resize.datetimepicker"+this.id,$.proxy(this.place,this)),this.isInput||$(document).on("mousedown.datetimepicker"+this.id,$.proxy(this.hide,this))},_detachDatePickerEvents:function(){this.widget.off("click",".datepicker *",this.click),this.widget.off("click","[data-action]"),this.widget.off("mousedown",this.stopEvent),this.pickDate&&this.pickTime&&this.widget.off("click.togglePicker"),this.isInput?(this.$element.off({focus:this.show,change:this.change}),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress})):(this.$element.off({change:this.change},"input"),this.options.maskInput&&this.$element.off({keydown:this.keydown,keypress:this.keypress},"input"),this.component?this.component.off("click",this.show):this.$element.off("click",this.show))},_detachDatePickerGlobalEvents:function(){$(window).off("resize.datetimepicker"+this.id),this.isInput||$(document).off("mousedown.datetimepicker"+this.id)},_isInFixed:function(){if(this.$element){for(var parents=this.$element.parents(),inFixed=!1,i=0;i<parents.length;i++)if("fixed"==$(parents[i]).css("position")){inFixed=!0;break}return inFixed}return!1}},$.fn.datetimepicker=function(option,val){return this.each(function(){var $this=$(this),data=$this.data("datetimepicker"),options="object"==typeof option&&option;data||$this.data("datetimepicker",data=new DateTimePicker(this,$.extend({},$.fn.datetimepicker.defaults,options))),"string"==typeof option&&data[option](val)})},$.fn.datetimepicker.defaults={maskInput:!1,pickDate:!0,pickTime:!0,pick12HourFormat:!1,pickSeconds:!0,startDate:-(1/0),endDate:1/0,collapse:!0},$.fn.datetimepicker.Constructor=DateTimePicker;var dpgId=0,dates=$.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}},dateFormatComponents={dd:{property:"UTCDate",getPattern:function(){return"(0?[1-9]|[1-2][0-9]|3[0-1])\\b"}},MM:{property:"UTCMonth",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},yy:{property:"UTCYear",getPattern:function(){return"(\\d{2})\\b"}},yyyy:{property:"UTCFullYear",getPattern:function(){return"(\\d{4})\\b"}},hh:{property:"UTCHours",getPattern:function(){return"(0?[0-9]|1[0-9]|2[0-3])\\b"}},mm:{property:"UTCMinutes",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ss:{property:"UTCSeconds",getPattern:function(){return"(0?[0-9]|[1-5][0-9])\\b"}},ms:{property:"UTCMilliseconds",getPattern:function(){return"([0-9]{1,3})\\b"}},HH:{property:"Hours12",getPattern:function(){return"(0?[1-9]|1[0-2])\\b"}},PP:{property:"Period12",getPattern:function(){return"(AM|PM|am|pm|Am|aM|Pm|pM)\\b"}}},keys=[];for(var k in dateFormatComponents)keys.push(k);keys[keys.length-1]+="\\b",keys.push(".");var formatComponent=new RegExp(keys.join("\\b|"));keys.pop();var formatReplacer=new RegExp(keys.join("\\b|"),"g"),DPGlobal={modes:[{clsName:"days",navFnc:"UTCMonth",navStep:1},{clsName:"months",navFnc:"UTCFullYear",navStep:1},{clsName:"years",navFnc:"UTCFullYear",navStep:10}],isLeapYear:function(year){return year%4===0&&year%100!==0||year%400===0},getDaysInMonth:function(year,month){return[31,DPGlobal.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};DPGlobal.template='<div class="datepicker-days"><table class="table-condensed">'+DPGlobal.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+DPGlobal.headTemplate+DPGlobal.contTemplate+"</table></div>";var TPGlobal={hourTemplate:'<span data-action="showHours" data-time-component="hours" class="timepicker-hour"></span>',minuteTemplate:'<span data-action="showMinutes" data-time-component="minutes" class="timepicker-minute"></span>',secondTemplate:'<span data-action="showSeconds" data-time-component="seconds" class="timepicker-second"></span>'};TPGlobal.getTemplate=function(is12Hours,showSeconds){return'<div class="timepicker-picker"><table class="table-condensed"'+(is12Hours?' data-hour-format="12"':"")+'><tr><td><a href="#" class="btn" data-action="incrementHours"><i class="icon-chevron-up"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="incrementMinutes"><i class="icon-chevron-up"></i></a></td>'+(showSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="incrementSeconds"><i class="icon-chevron-up"></i></a></td>':"")+(is12Hours?'<td class="separator"></td>':"")+"</tr><tr><td>"+TPGlobal.hourTemplate+'</td> <td class="separator">:</td><td>'+TPGlobal.minuteTemplate+"</td> "+(showSeconds?'<td class="separator">:</td><td>'+TPGlobal.secondTemplate+"</td>":"")+(is12Hours?'<td class="separator"></td><td><button type="button" class="btn btn-primary" data-action="togglePeriod"></button></td>':"")+'</tr><tr><td><a href="#" class="btn" data-action="decrementHours"><i class="icon-chevron-down"></i></a></td><td class="separator"></td><td><a href="#" class="btn" data-action="decrementMinutes"><i class="icon-chevron-down"></i></a></td>'+(showSeconds?'<td class="separator"></td><td><a href="#" class="btn" data-action="decrementSeconds"><i class="icon-chevron-down"></i></a></td>':"")+(is12Hours?'<td class="separator"></td>':"")+'</tr></table></div><div class="timepicker-hours" data-action="selectHour"><table class="table-condensed"></table></div><div class="timepicker-minutes" data-action="selectMinute"><table class="table-condensed"></table></div>'+(showSeconds?'<div class="timepicker-seconds" data-action="selectSecond"><table class="table-condensed"></table></div>':"")}}(window.jQuery);var wj,__extends,wijmo;!function(wj){var interop;!function(interop){function isSimpleType(type){return type<=PropertyType.Enum}var PropDescBase,PropertyType,BindingMode,EventDescBase,ComplexPropDescBase,MetaDataBase,ControlMetaFactory=function(){function ControlMetaFactory(){}return ControlMetaFactory.CreateProp=function(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority){return new PropDescBase(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority)},ControlMetaFactory.CreateEvent=function(eventName,isPropChanged){return new EventDescBase(eventName,isPropChanged)},ControlMetaFactory.CreateComplexProp=function(propertyName,isArray,ownsObject){return new ComplexPropDescBase(propertyName,isArray,ownsObject)},ControlMetaFactory.findProp=function(propName,props){return this.findInArr(props,"propertyName",propName)},ControlMetaFactory.findEvent=function(eventName,events){return this.findInArr(events,"eventName",eventName)},ControlMetaFactory.findComplexProp=function(propName,props){return this.findInArr(props,"propertyName",propName)},ControlMetaFactory.getMetaData=function(metaDataId){switch(metaDataId){case wijmo.Control:return new MetaDataBase([this.CreateProp("disabled",PropertyType.Boolean)],[this.CreateEvent("gotFocus"),this.CreateEvent("lostFocus")]);case wijmo.input&&wijmo.input.DropDown:return this.getMetaData(wijmo.Control).add([this.CreateProp("isDroppedDown",PropertyType.Boolean,"isDroppedDownChanged"),this.CreateProp("showDropDownButton",PropertyType.Boolean),this.CreateProp("autoExpandSelection",PropertyType.Boolean),this.CreateProp("placeholder",PropertyType.String),this.CreateProp("dropDownCssClass",PropertyType.String),this.CreateProp("text",PropertyType.String,"textChanged",null,!0,1e3)],[this.CreateEvent("isDroppedDownChanging"),this.CreateEvent("isDroppedDownChanged",!0),this.CreateEvent("textChanged",!0)]);case wijmo.input&&wijmo.input.ComboBox:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp("displayMemberPath",PropertyType.String),this.CreateProp("selectedValuePath",PropertyType.String),this.CreateProp("headerPath",PropertyType.String),this.CreateProp("isContentHtml",PropertyType.Boolean),this.CreateProp("isEditable",PropertyType.Boolean),this.CreateProp("required",PropertyType.Boolean),this.CreateProp("maxDropDownHeight",PropertyType.Number),this.CreateProp("maxDropDownWidth",PropertyType.Number),this.CreateProp("itemFormatter",PropertyType.Function),this.CreateProp("itemsSource",PropertyType.Any,"",null,!0,900),this.CreateProp("selectedIndex",PropertyType.Number,"selectedIndexChanged",null,!0,1e3),this.CreateProp("selectedItem",PropertyType.Any,"selectedIndexChanged",null,!0,1e3),this.CreateProp("selectedValue",PropertyType.Any,"selectedIndexChanged",null,!0,1e3)],[this.CreateEvent("selectedIndexChanged",!0)]).addOptions({ngModelProperty:"selectedValue"});case wijmo.input&&wijmo.input.AutoComplete:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp("delay",PropertyType.Number),this.CreateProp("maxItems",PropertyType.Number),this.CreateProp("minLength",PropertyType.Number),this.CreateProp("cssMatch",PropertyType.String),this.CreateProp("itemsSourceFunction",PropertyType.Function)]);case wijmo.input&&wijmo.input.Calendar:return this.getMetaData(wijmo.Control).add([this.CreateProp("monthView",PropertyType.Boolean),this.CreateProp("showHeader",PropertyType.Boolean),this.CreateProp("itemFormatter",PropertyType.Function),this.CreateProp("itemValidator",PropertyType.Function),this.CreateProp("displayMonth",PropertyType.Date,"displayMonthChanged"),this.CreateProp("firstDayOfWeek",PropertyType.Number),this.CreateProp("max",PropertyType.Date),this.CreateProp("min",PropertyType.Date),this.CreateProp("value",PropertyType.Date,"valueChanged")],[this.CreateEvent("valueChanged",!0),this.CreateEvent("displayMonthChanged",!0),this.CreateEvent("formatItem",!1)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.ColorPicker:return this.getMetaData(wijmo.Control).add([this.CreateProp("showAlphaChannel",PropertyType.Boolean),this.CreateProp("showColorString",PropertyType.Boolean),this.CreateProp("palette",PropertyType.Any),this.CreateProp("value",PropertyType.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.ListBox:return this.getMetaData(wijmo.Control).add([this.CreateProp("isContentHtml",PropertyType.Boolean),this.CreateProp("maxHeight",PropertyType.Number),this.CreateProp("selectedValuePath",PropertyType.String),this.CreateProp("itemFormatter",PropertyType.Function),this.CreateProp("displayMemberPath",PropertyType.String),this.CreateProp("checkedMemberPath",PropertyType.String),this.CreateProp("itemsSource",PropertyType.Any),this.CreateProp("selectedIndex",PropertyType.Number,"selectedIndexChanged"),this.CreateProp("selectedItem",PropertyType.Any,"selectedIndexChanged"),this.CreateProp("selectedValue",PropertyType.Any,"selectedIndexChanged")],[this.CreateEvent("formatItem",!1),this.CreateEvent("itemsChanged",!0),this.CreateEvent("itemChecked",!0),this.CreateEvent("selectedIndexChanged",!0)]).addOptions({
ngModelProperty:"selectedValue"});case"ItemTemplate":return new MetaDataBase([],[],[],(void 0),(void 0),(void 0),"owner");case wijmo.input&&wijmo.input.Menu:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp("header",PropertyType.String),this.CreateProp("commandParameterPath",PropertyType.String),this.CreateProp("commandPath",PropertyType.String),this.CreateProp("isButton",PropertyType.Boolean),this.CreateProp("value",PropertyType.Any,"selectedIndexChanged",null,!1,1e3)],[this.CreateEvent("itemClicked")]);case"MenuItem":return new MetaDataBase([this.CreateProp("value",PropertyType.Any,""),this.CreateProp("cmd",PropertyType.Any,""),this.CreateProp("cmdParam",PropertyType.Any,"")],[],[],"itemsSource",(!0));case"MenuSeparator":return new MetaDataBase([],[],[],"itemsSource",(!0));case wijmo.input&&wijmo.input.InputDate:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp("required",PropertyType.Boolean),this.CreateProp("format",PropertyType.String),this.CreateProp("mask",PropertyType.String),this.CreateProp("max",PropertyType.Date),this.CreateProp("min",PropertyType.Date),this.CreateProp("inputType",PropertyType.String),this.CreateProp("value",PropertyType.Date,"valueChanged",null,!0,1e3),this.CreateProp("itemValidator",PropertyType.Function),this.CreateProp("itemFormatter",PropertyType.Function)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputDateTime:return this.getMetaData(wijmo.input.InputDate).add([this.CreateProp("timeMax",PropertyType.Date),this.CreateProp("timeMin",PropertyType.Date),this.CreateProp("timeStep",PropertyType.Number),this.CreateProp("timeFormat",PropertyType.String)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputNumber:return this.getMetaData(wijmo.Control).add([this.CreateProp("showSpinner",PropertyType.Boolean),this.CreateProp("max",PropertyType.Number),this.CreateProp("min",PropertyType.Number),this.CreateProp("step",PropertyType.Number),this.CreateProp("required",PropertyType.Boolean),this.CreateProp("placeholder",PropertyType.String),this.CreateProp("inputType",PropertyType.String),this.CreateProp("format",PropertyType.String),this.CreateProp("value",PropertyType.Number,"valueChanged"),this.CreateProp("text",PropertyType.String,"textChanged")],[this.CreateEvent("valueChanged",!0),this.CreateEvent("textChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputMask:return this.getMetaData(wijmo.Control).add([this.CreateProp("mask",PropertyType.String),this.CreateProp("promptChar",PropertyType.String),this.CreateProp("placeholder",PropertyType.String),this.CreateProp("rawValue",PropertyType.String,"valueChanged"),this.CreateProp("value",PropertyType.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputTime:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp("max",PropertyType.Date),this.CreateProp("min",PropertyType.Date),this.CreateProp("step",PropertyType.Number),this.CreateProp("format",PropertyType.String),this.CreateProp("mask",PropertyType.String),this.CreateProp("inputType",PropertyType.String),this.CreateProp("value",PropertyType.Date,"valueChanged",null,!0,1e3)],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.InputColor:return this.getMetaData(wijmo.input.DropDown).add([this.CreateProp("required",PropertyType.Boolean),this.CreateProp("showAlphaChannel",PropertyType.Boolean),this.CreateProp("value",PropertyType.String,"valueChanged")],[this.CreateEvent("valueChanged",!0)]).addOptions({ngModelProperty:"value"});case wijmo.input&&wijmo.input.Popup:return this.getMetaData(wijmo.Control).add([this.CreateProp("owner",PropertyType.String),this.CreateProp("showTrigger",PropertyType.Enum,"",wijmo.input.PopupTrigger),this.CreateProp("hideTrigger",PropertyType.Enum,"",wijmo.input.PopupTrigger),this.CreateProp("fadeIn",PropertyType.Boolean),this.CreateProp("fadeOut",PropertyType.Boolean),this.CreateProp("dialogResultEnter",PropertyType.String),this.CreateProp("modal",PropertyType.Boolean)],[this.CreateEvent("showing"),this.CreateEvent("shown"),this.CreateEvent("hiding"),this.CreateEvent("hidden")]);case wijmo.input&&wijmo.input.MultiSelect:return this.getMetaData(wijmo.input.ComboBox).add([this.CreateProp("checkedMemberPath",PropertyType.String),this.CreateProp("maxHeaderItems",PropertyType.Number),this.CreateProp("headerFormat",PropertyType.String),this.CreateProp("headerFormatter",PropertyType.Function),this.CreateProp("checkedItems",PropertyType.Any,"checkedItemsChanged",BindingMode.TwoWay,!0,950)],[this.CreateEvent("checkedItemsChanged",!0)]);case"CollectionViewNavigator":return new MetaDataBase([this.CreateProp("cv",PropertyType.Any)]);case"CollectionViewPager":return new MetaDataBase([this.CreateProp("cv",PropertyType.Any)]);case wijmo.grid&&wijmo.grid.FlexGrid:return this.getMetaData(wijmo.Control).add([this.CreateProp("allowAddNew",PropertyType.Boolean),this.CreateProp("allowDelete",PropertyType.Boolean),this.CreateProp("allowDragging",PropertyType.Enum,"",wijmo.grid.AllowDragging),this.CreateProp("allowMerging",PropertyType.Enum,"",wijmo.grid.AllowMerging),this.CreateProp("allowResizing",PropertyType.Enum,"",wijmo.grid.AllowResizing),this.CreateProp("allowSorting",PropertyType.Boolean),this.CreateProp("autoSizeMode",PropertyType.Enum,"",wijmo.grid.AutoSizeMode),this.CreateProp("autoGenerateColumns",PropertyType.Boolean),this.CreateProp("childItemsPath",PropertyType.Any),this.CreateProp("groupHeaderFormat",PropertyType.String),this.CreateProp("headersVisibility",PropertyType.Enum,"",wijmo.grid.HeadersVisibility),this.CreateProp("showSelectedHeaders",PropertyType.Enum,"",wijmo.grid.HeadersVisibility),this.CreateProp("showMarquee",PropertyType.Boolean),this.CreateProp("itemFormatter",PropertyType.Function),this.CreateProp("isReadOnly",PropertyType.Boolean),this.CreateProp("imeEnabled",PropertyType.Boolean),this.CreateProp("mergeManager",PropertyType.Any),this.CreateProp("selectionMode",PropertyType.Enum,"",wijmo.grid.SelectionMode),this.CreateProp("showGroups",PropertyType.Boolean),this.CreateProp("showSort",PropertyType.Boolean),this.CreateProp("showAlternatingRows",PropertyType.Boolean),this.CreateProp("treeIndent",PropertyType.Number),this.CreateProp("itemsSource",PropertyType.Any),this.CreateProp("autoClipboard",PropertyType.Boolean),this.CreateProp("frozenRows",PropertyType.Number),this.CreateProp("frozenColumns",PropertyType.Number),this.CreateProp("deferResizing",PropertyType.Boolean),this.CreateProp("sortRowIndex",PropertyType.Number),this.CreateProp("stickyHeaders",PropertyType.Boolean),this.CreateProp("preserveSelection",PropertyType.Boolean),this.CreateProp("preserveOutlineState",PropertyType.Boolean)],[this.CreateEvent("beginningEdit"),this.CreateEvent("cellEditEnded"),this.CreateEvent("cellEditEnding"),this.CreateEvent("prepareCellForEdit"),this.CreateEvent("formatItem"),this.CreateEvent("resizingColumn"),this.CreateEvent("resizedColumn"),this.CreateEvent("autoSizingColumn"),this.CreateEvent("autoSizedColumn"),this.CreateEvent("draggingColumn"),this.CreateEvent("draggedColumn"),this.CreateEvent("sortingColumn"),this.CreateEvent("sortedColumn"),this.CreateEvent("resizingRow"),this.CreateEvent("resizedRow"),this.CreateEvent("autoSizingRow"),this.CreateEvent("autoSizedRow"),this.CreateEvent("draggingRow"),this.CreateEvent("draggedRow"),this.CreateEvent("deletingRow"),this.CreateEvent("loadingRows"),this.CreateEvent("loadedRows"),this.CreateEvent("rowEditEnded"),this.CreateEvent("rowEditEnding"),this.CreateEvent("rowAdded"),this.CreateEvent("groupCollapsedChanged"),this.CreateEvent("groupCollapsedChanging"),this.CreateEvent("itemsSourceChanged",!0),this.CreateEvent("selectionChanging"),this.CreateEvent("selectionChanged",!0),this.CreateEvent("scrollPositionChanged",!1),this.CreateEvent("updatingView"),this.CreateEvent("updatedView"),this.CreateEvent("updatingLayout"),this.CreateEvent("updatedLayout"),this.CreateEvent("pasting"),this.CreateEvent("pasted"),this.CreateEvent("copying"),this.CreateEvent("copied")]);case wijmo.grid&&wijmo.grid.Column:return new MetaDataBase([this.CreateProp("name",PropertyType.String),this.CreateProp("dataMap",PropertyType.Any),this.CreateProp("dataType",PropertyType.Enum,"",wijmo.DataType),this.CreateProp("binding",PropertyType.String),this.CreateProp("sortMemberPath",PropertyType.String),this.CreateProp("format",PropertyType.String),this.CreateProp("header",PropertyType.String),this.CreateProp("width",PropertyType.Number),this.CreateProp("minWidth",PropertyType.Number),this.CreateProp("maxWidth",PropertyType.Number),this.CreateProp("align",PropertyType.String),this.CreateProp("allowDragging",PropertyType.Boolean),this.CreateProp("allowSorting",PropertyType.Boolean),this.CreateProp("allowResizing",PropertyType.Boolean),this.CreateProp("allowMerging",PropertyType.Boolean),this.CreateProp("aggregate",PropertyType.Enum,"",wijmo.Aggregate),this.CreateProp("isReadOnly",PropertyType.Boolean),this.CreateProp("cssClass",PropertyType.String),this.CreateProp("isContentHtml",PropertyType.Boolean),this.CreateProp("isSelected",PropertyType.Boolean,"grid.selectionChanged"),this.CreateProp("visible",PropertyType.Boolean),this.CreateProp("wordWrap",PropertyType.Boolean),this.CreateProp("mask",PropertyType.String),this.CreateProp("inputType",PropertyType.String),this.CreateProp("required",PropertyType.Boolean),this.CreateProp("showDropDown",PropertyType.Boolean),this.CreateProp("dropDownCssClass",PropertyType.String)],[],[],"columns",(!0));case"FlexGridCellTemplate":return new MetaDataBase([this.CreateProp("cellType",PropertyType.String,"",null,!1),this.CreateProp("cellOverflow",PropertyType.String,"")],[],[],(void 0),(void 0),(void 0),"owner");case wijmo.grid&&wijmo.grid.filter&&wijmo.grid.filter.FlexGridFilter:return new MetaDataBase([this.CreateProp("showFilterIcons",PropertyType.Boolean),this.CreateProp("showSortButtons",PropertyType.Boolean),this.CreateProp("defaultFilterType",PropertyType.Enum,"",wijmo.grid.filter.FilterType),this.CreateProp("filterColumns",PropertyType.Any)],[this.CreateEvent("filterChanging"),this.CreateEvent("filterChanged"),this.CreateEvent("filterApplied")],[],(void 0),(void 0),(void 0),"");case wijmo.grid&&wijmo.grid.grouppanel&&wijmo.grid.grouppanel.GroupPanel:return this.getMetaData(wijmo.Control).add([this.CreateProp("hideGroupedColumns",PropertyType.Boolean),this.CreateProp("maxGroups",PropertyType.Number),this.CreateProp("placeholder",PropertyType.String),this.CreateProp("grid",PropertyType.Any)]);case wijmo.grid&&wijmo.grid.detail&&wijmo.grid.detail.FlexGridDetailProvider:return new MetaDataBase([this.CreateProp("maxHeight",PropertyType.Number),this.CreateProp("detailVisibilityMode",PropertyType.Enum,"",wijmo.grid.detail.DetailVisibilityMode),this.CreateProp("rowHasDetail",PropertyType.Function)],[],[],(void 0),(void 0),(void 0),"");case wijmo.grid&&wijmo.grid.sheet&&wijmo.grid.sheet.FlexSheet:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp("isTabHolderVisible",PropertyType.Boolean),this.CreateProp("selectedSheetIndex",PropertyType.Number,"selectedSheetChanged")],[this.CreateEvent("selectedSheetChanged",!0),this.CreateEvent("draggingRowColumn"),this.CreateEvent("droppingRowColumn"),this.CreateEvent("loaded")]);case wijmo.grid&&wijmo.grid.sheet&&wijmo.grid.sheet.Sheet:return new MetaDataBase([this.CreateProp("name",PropertyType.String),this.CreateProp("itemsSource",PropertyType.Any),this.CreateProp("visible",PropertyType.Boolean),this.CreateProp("rowCount",PropertyType.Number,"",null,!1),this.CreateProp("columnCount",PropertyType.Number,"",null,!1)],[this.CreateEvent("nameChanged")]).addOptions({parentReferenceProperty:""});case wijmo.grid&&wijmo.grid.multirow&&wijmo.grid.multirow.MultiRow:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp("layoutDefinition",PropertyType.Any),this.CreateProp("centerHeadersVertically",PropertyType.Boolean),this.CreateProp("collapsedHeaders",PropertyType.Boolean),this.CreateProp("showHeaderCollapseButton",PropertyType.Boolean)]);case wijmo.chart&&wijmo.chart.FlexChartBase:return this.getMetaData(wijmo.Control).add([this.CreateProp("binding",PropertyType.String),this.CreateProp("footer",PropertyType.String),this.CreateProp("header",PropertyType.String),this.CreateProp("selectionMode",PropertyType.Enum,"",wijmo.chart.SelectionMode),this.CreateProp("palette",PropertyType.Any),this.CreateProp("plotMargin",PropertyType.Any),this.CreateProp("footerStyle",PropertyType.Any),this.CreateProp("headerStyle",PropertyType.Any),this.CreateProp("tooltipContent",PropertyType.String,"",null,!1),this.CreateProp("itemsSource",PropertyType.Any)],[this.CreateEvent("rendering"),this.CreateEvent("rendered")]);case wijmo.chart&&wijmo.chart.FlexChartCore:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp("bindingX",PropertyType.String),this.CreateProp("interpolateNulls",PropertyType.Boolean),this.CreateProp("legendToggle",PropertyType.Boolean),this.CreateProp("symbolSize",PropertyType.Number),this.CreateProp("options",PropertyType.Any),this.CreateProp("selection",PropertyType.Any,"selectionChanged"),this.CreateProp("itemFormatter",PropertyType.Function),this.CreateProp("labelContent",PropertyType.String,"",null,!1)],[this.CreateEvent("seriesVisibilityChanged"),this.CreateEvent("selectionChanged",!0)],[this.CreateComplexProp("axisX",!1,!1),this.CreateComplexProp("axisY",!1,!1),this.CreateComplexProp("axes",!0),this.CreateComplexProp("plotAreas",!0)]);case wijmo.chart&&wijmo.chart.FlexChart:return this.getMetaData(wijmo.chart.FlexChartCore).add([this.CreateProp("chartType",PropertyType.Enum,"",wijmo.chart.ChartType),this.CreateProp("rotated",PropertyType.Boolean),this.CreateProp("stacking",PropertyType.Enum,"",wijmo.chart.Stacking)]);case wijmo.chart&&wijmo.chart.FlexPie:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp("bindingName",PropertyType.String),this.CreateProp("innerRadius",PropertyType.Number),this.CreateProp("isAnimated",PropertyType.Boolean),this.CreateProp("offset",PropertyType.Number),this.CreateProp("reversed",PropertyType.Boolean),this.CreateProp("startAngle",PropertyType.Number),this.CreateProp("selectedItemPosition",PropertyType.Enum,"",wijmo.chart.Position),this.CreateProp("selectedItemOffset",PropertyType.Number),this.CreateProp("itemFormatter",PropertyType.Function),this.CreateProp("labelContent",PropertyType.String,"",null,!1)]);case wijmo.chart&&wijmo.chart.FlexPie&&wijmo.chart.hierarchical&&wijmo.chart.hierarchical.Sunburst:return this.getMetaData(wijmo.chart.FlexChartBase).add([this.CreateProp("bindingName",PropertyType.Any),this.CreateProp("innerRadius",PropertyType.Number),this.CreateProp("isAnimated",PropertyType.Boolean),this.CreateProp("offset",PropertyType.Number),this.CreateProp("reversed",PropertyType.Boolean),this.CreateProp("startAngle",PropertyType.Number),this.CreateProp("selectedItemPosition",PropertyType.Enum,"",wijmo.chart.Position),this.CreateProp("selectedItemOffset",PropertyType.Number),this.CreateProp("itemFormatter",PropertyType.Function),this.CreateProp("labelContent",PropertyType.String,"",null,!1),this.CreateProp("childItemsPath",PropertyType.Any)]);case wijmo.chart&&wijmo.chart.Axis:return new MetaDataBase([this.CreateProp("axisLine",PropertyType.Boolean),this.CreateProp("format",PropertyType.String),this.CreateProp("labels",PropertyType.Boolean),this.CreateProp("majorGrid",PropertyType.Boolean),this.CreateProp("majorTickMarks",PropertyType.Enum,"",wijmo.chart.TickMark),this.CreateProp("majorUnit",PropertyType.Number),this.CreateProp("max",PropertyType.Number),this.CreateProp("min",PropertyType.Number),this.CreateProp("position",PropertyType.Enum,"",wijmo.chart.Position),this.CreateProp("reversed",PropertyType.Boolean),this.CreateProp("title",PropertyType.String),this.CreateProp("labelAngle",PropertyType.Number),this.CreateProp("minorGrid",PropertyType.Boolean),this.CreateProp("minorTickMarks",PropertyType.Enum,"",wijmo.chart.TickMark),this.CreateProp("minorUnit",PropertyType.Number),this.CreateProp("origin",PropertyType.Number),this.CreateProp("logBase",PropertyType.Number),this.CreateProp("plotArea",PropertyType.Any),this.CreateProp("labelAlign",PropertyType.String),this.CreateProp("name",PropertyType.String),this.CreateProp("overlappingLabels",PropertyType.Enum,"",wijmo.chart.OverlappingLabels),this.CreateProp("labelPadding",PropertyType.Number),this.CreateProp("itemFormatter",PropertyType.Function),this.CreateProp("itemsSource",PropertyType.Any),this.CreateProp("binding",PropertyType.String)],[this.CreateEvent("rangeChanged")],[],"axes",(!0));case wijmo.chart&&wijmo.chart.Legend:return new MetaDataBase([this.CreateProp("position",PropertyType.Enum,"",wijmo.chart.Position)],[],[],"legend",(!1),(!1));case wijmo.chart&&wijmo.chart.DataLabelBase:return new MetaDataBase([this.CreateProp("content",PropertyType.Any,""),this.CreateProp("border",PropertyType.Boolean)],[],[],"dataLabel",(!1),(!1));case wijmo.chart&&wijmo.chart.DataLabel:return this.getMetaData(wijmo.chart.DataLabelBase).add([this.CreateProp("position",PropertyType.Enum,"",wijmo.chart.LabelPosition)]);case wijmo.chart&&wijmo.chart.PieDataLabel:return this.getMetaData(wijmo.chart.DataLabelBase).add([this.CreateProp("position",PropertyType.Enum,"",wijmo.chart.PieLabelPosition)]);case wijmo.chart&&wijmo.chart.SeriesBase:return new MetaDataBase([this.CreateProp("axisX",PropertyType.Any),this.CreateProp("axisY",PropertyType.Any),this.CreateProp("binding",PropertyType.String),this.CreateProp("bindingX",PropertyType.String),this.CreateProp("cssClass",PropertyType.String),this.CreateProp("name",PropertyType.String),this.CreateProp("style",PropertyType.Any),this.CreateProp("altStyle",PropertyType.Any),this.CreateProp("symbolMarker",PropertyType.Enum,"",wijmo.chart.Marker),this.CreateProp("symbolSize",PropertyType.Number),this.CreateProp("symbolStyle",PropertyType.Any),this.CreateProp("visibility",PropertyType.Enum,"chart.seriesVisibilityChanged",wijmo.chart.SeriesVisibility),this.CreateProp("itemsSource",PropertyType.Any)],[],[this.CreateComplexProp("axisX",!1,!0),this.CreateComplexProp("axisY",!1,!0)],"series",(!0));case wijmo.chart&&wijmo.chart.Series:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("chartType",PropertyType.Enum,"",wijmo.chart.ChartType)]);case wijmo.chart&&wijmo.chart.LineMarker:return new MetaDataBase([this.CreateProp("isVisible",PropertyType.Boolean),this.CreateProp("seriesIndex",PropertyType.Number),this.CreateProp("horizontalPosition",PropertyType.Number),this.CreateProp("content",PropertyType.Function),this.CreateProp("verticalPosition",PropertyType.Number),this.CreateProp("alignment",PropertyType.Enum,"",wijmo.chart.LineMarkerAlignment),this.CreateProp("lines",PropertyType.Enum,"",wijmo.chart.LineMarkerLines),this.CreateProp("interaction",PropertyType.Enum,"",wijmo.chart.LineMarkerInteraction),this.CreateProp("dragLines",PropertyType.Boolean),this.CreateProp("dragThreshold",PropertyType.Number),this.CreateProp("dragContent",PropertyType.Boolean)],[this.CreateEvent("positionChanged")],[],(void 0),(void 0),(void 0),"");case wijmo.chart&&wijmo.chart.DataPoint:return new MetaDataBase([this.CreateProp("x",PropertyType.AnyPrimitive),this.CreateProp("y",PropertyType.AnyPrimitive)],[],[],"");case wijmo.chart&&wijmo.chart.annotation&&wijmo.chart.annotation.AnnotationLayer:return new MetaDataBase([],[],[],(void 0),(void 0),(void 0),"");case"FlexChartAnnotation":return new MetaDataBase([this.CreateProp("type",PropertyType.String,"",null,!1),this.CreateProp("attachment",PropertyType.Enum,"",wijmo.chart.annotation.AnnotationAttachment),this.CreateProp("position",PropertyType.Enum,"",wijmo.chart.annotation.AnnotationPosition),this.CreateProp("point",PropertyType.Any),this.CreateProp("seriesIndex",PropertyType.Number),this.CreateProp("pointIndex",PropertyType.Number),this.CreateProp("offset",PropertyType.Any),this.CreateProp("style",PropertyType.Any),this.CreateProp("isVisible",PropertyType.Boolean),this.CreateProp("tooltip",PropertyType.String),this.CreateProp("text",PropertyType.String),this.CreateProp("content",PropertyType.String),this.CreateProp("name",PropertyType.String),this.CreateProp("width",PropertyType.Number),this.CreateProp("height",PropertyType.Number),this.CreateProp("start",PropertyType.Any),this.CreateProp("end",PropertyType.Any),this.CreateProp("radius",PropertyType.Number),this.CreateProp("length",PropertyType.Number),this.CreateProp("href",PropertyType.String)],[],[this.CreateComplexProp("point",!1,!0),this.CreateComplexProp("start",!1,!0),this.CreateComplexProp("end",!1,!0),this.CreateComplexProp("points",!0)],"items",(!0));case wijmo.chart&&wijmo.chart.interaction&&wijmo.chart.interaction.RangeSelector:return new MetaDataBase([this.CreateProp("isVisible",PropertyType.Boolean),this.CreateProp("min",PropertyType.Number),this.CreateProp("max",PropertyType.Number),this.CreateProp("orientation",PropertyType.Enum,"",wijmo.chart.interaction.Orientation),this.CreateProp("seamless",PropertyType.Boolean),this.CreateProp("minScale",PropertyType.Number),this.CreateProp("maxScale",PropertyType.Number)],[this.CreateEvent("rangeChanged")],[],(void 0),(void 0),(void 0),"");case wijmo.chart&&wijmo.chart.interaction&&wijmo.chart.interaction.ChartGestures:return new MetaDataBase([this.CreateProp("mouseAction",PropertyType.Enum,"",wijmo.chart.interaction.MouseAction),this.CreateProp("interactiveAxes",PropertyType.Enum,"",wijmo.chart.interaction.InteractiveAxes),this.CreateProp("enable",PropertyType.Boolean),this.CreateProp("scaleX",PropertyType.Number),this.CreateProp("scaleY",PropertyType.Number),this.CreateProp("posX",PropertyType.Number),this.CreateProp("posY",PropertyType.Number)],[],[],(void 0),(void 0),(void 0),"");case wijmo.chart&&wijmo.chart.animation&&wijmo.chart.animation.ChartAnimation:return new MetaDataBase([this.CreateProp("animationMode",PropertyType.Enum,"",wijmo.chart.animation.AnimationMode),this.CreateProp("easing",PropertyType.Enum,"",wijmo.chart.animation.Easing),this.CreateProp("duration",PropertyType.Number),this.CreateProp("axisAnimation",PropertyType.Boolean)],[],[],(void 0),(void 0),(void 0),"");case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.FinancialChart:return this.getMetaData(wijmo.chart.FlexChartCore).add([this.CreateProp("chartType",PropertyType.Enum,"",wijmo.chart.finance.FinancialChartType)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.FinancialSeries:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("chartType",PropertyType.Enum,"",wijmo.chart.finance.FinancialChartType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.TrendLineBase:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("sampleCount",PropertyType.Number)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.TrendLine:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp("order",PropertyType.Number),this.CreateProp("fitType",PropertyType.Enum,"",wijmo.chart.analytics.TrendLineFitType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.MovingAverage:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp("period",PropertyType.Number),this.CreateProp("type",PropertyType.Enum,"",wijmo.chart.analytics.MovingAverageType)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.FunctionSeries:return this.getMetaData(wijmo.chart.analytics.TrendLineBase).add([this.CreateProp("min",PropertyType.Number),this.CreateProp("max",PropertyType.Number)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.YFunctionSeries:return this.getMetaData(wijmo.chart.analytics.FunctionSeries).add([this.CreateProp("func",PropertyType.Function)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.ParametricFunctionSeries:return this.getMetaData(wijmo.chart.analytics.FunctionSeries).add([this.CreateProp("func",PropertyType.Function),this.CreateProp("xFunc",PropertyType.Function),this.CreateProp("yFunc",PropertyType.Function)]);case wijmo.chart&&wijmo.chart.analytics&&wijmo.chart.analytics.Waterfall:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("relativeData",PropertyType.Boolean),this.CreateProp("start",PropertyType.Number),this.CreateProp("startLabel",PropertyType.String),this.CreateProp("showTotal",PropertyType.Boolean),this.CreateProp("totalLabel",PropertyType.String),this.CreateProp("showIntermediateTotal",PropertyType.Boolean),this.CreateProp("intermediateTotalPositions",PropertyType.Any),this.CreateProp("intermediateTotalLabels",PropertyType.Any),this.CreateProp("connectorLines",PropertyType.Boolean),this.CreateProp("styles",PropertyType.Any)]);case wijmo.chart&&wijmo.chart.PlotArea:return new MetaDataBase([this.CreateProp("column",PropertyType.Number),this.CreateProp("height",PropertyType.String),this.CreateProp("name",PropertyType.String),this.CreateProp("row",PropertyType.Number),this.CreateProp("style",PropertyType.Any),this.CreateProp("width",PropertyType.String)],[],[],"plotAreas",(!0));case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Fibonacci:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("high",PropertyType.Number),this.CreateProp("low",PropertyType.Number),this.CreateProp("labelPosition",PropertyType.Enum,"",wijmo.chart.LabelPosition),this.CreateProp("levels",PropertyType.Any),this.CreateProp("minX",PropertyType.AnyPrimitive),this.CreateProp("maxX",PropertyType.AnyPrimitive),this.CreateProp("uptrend",PropertyType.Boolean)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciTimeZones:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("startX",PropertyType.Any),this.CreateProp("endX",PropertyType.Any),this.CreateProp("labelPosition",PropertyType.Enum,"",wijmo.chart.LabelPosition),this.CreateProp("levels",PropertyType.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciArcs:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.FibonacciFans:return this.getMetaData(wijmo.chart.SeriesBase).add([this.CreateProp("start",PropertyType.Any),this.CreateProp("end",PropertyType.Any),this.CreateProp("labelPosition",PropertyType.Enum,"",wijmo.chart.LabelPosition),this.CreateProp("levels",PropertyType.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.OverlayIndicatorBase:return this.getMetaData(wijmo.chart.SeriesBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.SingleOverlayIndicatorBase:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",PropertyType.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.MacdBase:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("fastPeriod",PropertyType.Number),this.CreateProp("slowPeriod",PropertyType.Number),this.CreateProp("smoothingPeriod",PropertyType.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Macd:return this.getMetaData(wijmo.chart.finance.analytics.MacdBase).add([this.CreateProp("styles",PropertyType.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.MacdHistogram:return this.getMetaData(wijmo.chart.finance.analytics.MacdBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.ATR:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.RSI:case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.WilliamsR:return this.getMetaData(wijmo.chart.finance.analytics.SingleOverlayIndicatorBase);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.CCI:return this.getMetaData(wijmo.chart.finance.analytics.SingleOverlayIndicatorBase).add([this.CreateProp("constant",PropertyType.Number)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Stochastic:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("dPeriod",PropertyType.Number),this.CreateProp("kPeriod",PropertyType.Number),this.CreateProp("smoothingPeriod",PropertyType.Number),this.CreateProp("styles",PropertyType.Any)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.Envelopes:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",PropertyType.Number),this.CreateProp("size",PropertyType.Number),this.CreateProp("type",PropertyType.Enum,"",wijmo.chart.finance.analytics.MovingAverageType)]);case wijmo.chart&&wijmo.chart.finance&&wijmo.chart.finance.analytics&&wijmo.chart.finance.analytics.BollingerBands:return this.getMetaData(wijmo.chart.finance.analytics.OverlayIndicatorBase).add([this.CreateProp("period",PropertyType.Number),this.CreateProp("multiplier",PropertyType.Number)]);case wijmo.gauge&&wijmo.gauge.Gauge:return this.getMetaData(wijmo.Control).add([this.CreateProp("value",PropertyType.Number,"valueChanged"),this.CreateProp("min",PropertyType.Number),this.CreateProp("max",PropertyType.Number),this.CreateProp("origin",PropertyType.Number),this.CreateProp("isReadOnly",PropertyType.Boolean),this.CreateProp("step",PropertyType.Number),this.CreateProp("format",PropertyType.String),this.CreateProp("thickness",PropertyType.Number),this.CreateProp("hasShadow",PropertyType.Boolean),this.CreateProp("isAnimated",PropertyType.Boolean),this.CreateProp("showText",PropertyType.Enum,"",wijmo.gauge.ShowText),this.CreateProp("showRanges",PropertyType.Boolean),this.CreateProp("thumbSize",PropertyType.Number),this.CreateProp("getText",PropertyType.Function)],[this.CreateEvent("valueChanged",!0)],[this.CreateComplexProp("ranges",!0),this.CreateComplexProp("pointer",!1,!1),this.CreateComplexProp("face",!1,!1)]).addOptions({ngModelProperty:"value"});case wijmo.gauge&&wijmo.gauge.LinearGauge:return this.getMetaData(wijmo.gauge.Gauge).add([this.CreateProp("direction",PropertyType.Enum,"",wijmo.gauge.GaugeDirection)]);case wijmo.gauge&&wijmo.gauge.BulletGraph:return this.getMetaData(wijmo.gauge.LinearGauge).add([this.CreateProp("target",PropertyType.Number),this.CreateProp("good",PropertyType.Number),this.CreateProp("bad",PropertyType.Number)]);case wijmo.gauge&&wijmo.gauge.RadialGauge:return this.getMetaData(wijmo.gauge.Gauge).add([this.CreateProp("autoScale",PropertyType.Boolean),this.CreateProp("startAngle",PropertyType.Number),this.CreateProp("sweepAngle",PropertyType.Number)]);case wijmo.gauge&&wijmo.gauge.Range:return new MetaDataBase([this.CreateProp("color",PropertyType.String),this.CreateProp("min",PropertyType.Number),this.CreateProp("max",PropertyType.Number),this.CreateProp("name",PropertyType.String),this.CreateProp("thickness",PropertyType.Number)],[],[],"ranges",(!0));case wijmo.olap&&wijmo.olap.PivotGrid:return this.getMetaData(wijmo.grid.FlexGrid).add([this.CreateProp("showDetailOnDoubleClick",PropertyType.Boolean),this.CreateProp("customContextMenu",PropertyType.Boolean),this.CreateProp("collapsibleSubtotals",PropertyType.Boolean),this.CreateProp("centerHeadersVertically",PropertyType.Boolean)]);case wijmo.olap&&wijmo.olap.PivotChart:return new MetaDataBase([this.CreateProp("chartType",PropertyType.Enum,"",wijmo.olap.PivotChartType),this.CreateProp("showHierarchicalAxes",PropertyType.Boolean),this.CreateProp("showTotals",PropertyType.Boolean),this.CreateProp("stacking",PropertyType.Enum,"",wijmo.chart.Stacking),this.CreateProp("maxSeries",PropertyType.Number),this.CreateProp("maxPoints",PropertyType.Number),this.CreateProp("itemsSource",PropertyType.Any)]);
case wijmo.olap&&wijmo.olap.PivotPanel:return new MetaDataBase([this.CreateProp("autoGenerateFields",PropertyType.Boolean),this.CreateProp("viewDefinition",PropertyType.String),this.CreateProp("engine",PropertyType.Any),this.CreateProp("itemsSource",PropertyType.Any)],[this.CreateEvent("itemsSourceChanged"),this.CreateEvent("viewDefinitionChanged"),this.CreateEvent("updatingView"),this.CreateEvent("updatedView")]);case wijmo.olap&&wijmo.olap.PivotField:return new MetaDataBase([this.CreateProp("binding",PropertyType.String),this.CreateProp("header",PropertyType.String),this.CreateProp("dataType",PropertyType.Enum,"",wijmo.DataType)],[],[],"",(!0),(!0),"")}return new MetaDataBase([])},ControlMetaFactory.getClassName=function(classRef){return(classRef.toString().match(/function (.+?)\(/)||[,""])[1]},ControlMetaFactory.toCamelCase=function(s){return s.toLowerCase().replace(/-(.)/g,function(match,group1){return group1.toUpperCase()})},ControlMetaFactory.findInArr=function(arr,propName,value){for(var i in arr)if(arr[i][propName]===value)return arr[i];return null},ControlMetaFactory}();interop.ControlMetaFactory=ControlMetaFactory,PropDescBase=function(){function PropDescBase(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority){void 0===isNativeControlProperty&&(isNativeControlProperty=!0),void 0===priority&&(priority=0),this._priority=0,this._propertyName=propertyName,this._propertyType=propertyType,this._changeEvent=changeEvent,this._enumType=enumType,this._isNativeControlProperty=isNativeControlProperty,this._priority=priority}return Object.defineProperty(PropDescBase.prototype,"propertyName",{get:function(){return this._propertyName},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"propertyType",{get:function(){return this._propertyType},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"changeEvent",{get:function(){return this._changeEvent},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"enumType",{get:function(){return this._enumType},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"bindingMode",{get:function(){return this.changeEvent?BindingMode.TwoWay:BindingMode.OneWay},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"isNativeControlProperty",{get:function(){return this._isNativeControlProperty},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"priority",{get:function(){return this._priority},enumerable:!0,configurable:!0}),Object.defineProperty(PropDescBase.prototype,"shouldUpdateSource",{get:function(){return this.bindingMode===BindingMode.TwoWay&&this.propertyType!=PropertyType.EventHandler},enumerable:!0,configurable:!0}),PropDescBase.prototype.initialize=function(options){wijmo.copy(this,options)},PropDescBase.prototype.castValueToType=function(value){var type,pt,castVal;if(void 0==value)return value;if(type=this.propertyType,pt=PropertyType,type===pt.AnyPrimitive){if(!wijmo.isString(value))return value;if("true"!==value&&"false"!==value)return castVal=+value,isNaN(castVal)?(castVal=this._parseDate(value),wijmo.isString(castVal)?value:castVal):castVal;type=pt.Boolean}switch(type){case pt.Number:if("string"==typeof value){if(value.indexOf("*")>=0)return value;if(""===value.trim())return null}return+value;case pt.Boolean:return"true"===value||"false"!==value&&!!value;case pt.String:return value+"";case pt.Date:return this._parseDate(value);case pt.Enum:return"number"==typeof value?value:this.enumType[value];default:return value}},PropDescBase.prototype._parseDate=function(value){if(value&&wijmo.isString(value)){value=value.replace(/["']/g,"");var dt=wijmo.changeType(value,wijmo.DataType.Date,"r");if(wijmo.isDate(dt))return dt}return value},PropDescBase}(),interop.PropDescBase=PropDescBase,function(PropertyType){PropertyType[PropertyType.Boolean=0]="Boolean",PropertyType[PropertyType.Number=1]="Number",PropertyType[PropertyType.Date=2]="Date",PropertyType[PropertyType.String=3]="String",PropertyType[PropertyType.AnyPrimitive=4]="AnyPrimitive",PropertyType[PropertyType.Enum=5]="Enum",PropertyType[PropertyType.Function=6]="Function",PropertyType[PropertyType.EventHandler=7]="EventHandler",PropertyType[PropertyType.Any=8]="Any"}(interop.PropertyType||(interop.PropertyType={})),PropertyType=interop.PropertyType,interop.isSimpleType=isSimpleType,function(BindingMode){BindingMode[BindingMode.OneWay=0]="OneWay",BindingMode[BindingMode.TwoWay=1]="TwoWay"}(interop.BindingMode||(interop.BindingMode={})),BindingMode=interop.BindingMode,EventDescBase=function(){function EventDescBase(eventName,isPropChanged){this._eventName=eventName,this._isPropChanged=isPropChanged}return Object.defineProperty(EventDescBase.prototype,"eventName",{get:function(){return this._eventName},enumerable:!0,configurable:!0}),Object.defineProperty(EventDescBase.prototype,"isPropChanged",{get:function(){return this._isPropChanged===!0},enumerable:!0,configurable:!0}),EventDescBase}(),interop.EventDescBase=EventDescBase,ComplexPropDescBase=function(){function ComplexPropDescBase(propertyName,isArray,ownsObject){void 0===ownsObject&&(ownsObject=!1),this.isArray=!1,this._ownsObject=!1,this.propertyName=propertyName,this.isArray=isArray,this._ownsObject=ownsObject}return Object.defineProperty(ComplexPropDescBase.prototype,"ownsObject",{get:function(){return this.isArray||this._ownsObject},enumerable:!0,configurable:!0}),ComplexPropDescBase}(),interop.ComplexPropDescBase=ComplexPropDescBase,MetaDataBase=function(){function MetaDataBase(props,events,complexProps,parentProperty,isParentPropertyArray,ownsObject,parentReferenceProperty,ngModelProperty){this._props=[],this._events=[],this._complexProps=[],this.props=props,this.events=events,this.complexProps=complexProps,this.parentProperty=parentProperty,this.isParentPropertyArray=isParentPropertyArray,this.ownsObject=ownsObject,this.parentReferenceProperty=parentReferenceProperty,this.ngModelProperty=ngModelProperty}return Object.defineProperty(MetaDataBase.prototype,"props",{get:function(){return this._props},set:function(value){this._props=value||[]},enumerable:!0,configurable:!0}),Object.defineProperty(MetaDataBase.prototype,"events",{get:function(){return this._events},set:function(value){this._events=value||[]},enumerable:!0,configurable:!0}),Object.defineProperty(MetaDataBase.prototype,"complexProps",{get:function(){return this._complexProps},set:function(value){this._complexProps=value||[]},enumerable:!0,configurable:!0}),MetaDataBase.prototype.add=function(props,events,complexProps,parentProperty,isParentPropertyArray,ownsObject,parentReferenceProperty,ngModelProperty){return this.addOptions({props:props,events:events,complexProps:complexProps,parentProperty:parentProperty,isParentPropertyArray:isParentPropertyArray,ownsObject:ownsObject,parentReferenceProperty:parentReferenceProperty,ngModelProperty:ngModelProperty})},MetaDataBase.prototype.addOptions=function(options){var prop,thisValue,optionsValue;for(prop in options)thisValue=this[prop],optionsValue=options[prop],thisValue instanceof Array?this[prop]=thisValue.concat(optionsValue||[]):void 0!==optionsValue&&(this[prop]=optionsValue);return this},MetaDataBase.prototype.prepare=function(){var baseArr=[].concat(this._props);this._props.sort(function(a,b){var ret=a.priority-b.priority;return ret||(ret=baseArr.indexOf(a)-baseArr.indexOf(b)),ret})},MetaDataBase}(),interop.MetaDataBase=MetaDataBase}(interop=wj.interop||(wj.interop={}))}(wj||(wj={})),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;!function(angular){var PropDesc,EventDesc,ComplexPropDesc,MetaFactory=function(_super){function MetaFactory(){_super.apply(this,arguments)}return __extends(MetaFactory,_super),MetaFactory.CreateProp=function(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority){return new PropDesc(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority)},MetaFactory.CreateEvent=function(eventName,isPropChanged){return new EventDesc(eventName,isPropChanged)},MetaFactory.CreateComplexProp=function(propertyName,isArray,ownsObject){return new ComplexPropDesc(propertyName,isArray,ownsObject)},MetaFactory.findProp=function(propName,props){return wj.interop.ControlMetaFactory.findProp(propName,props)},MetaFactory.findEvent=function(eventName,events){return wj.interop.ControlMetaFactory.findEvent(eventName,events)},MetaFactory.findComplexProp=function(propName,props){return wj.interop.ControlMetaFactory.findComplexProp(propName,props)},MetaFactory}(wj.interop.ControlMetaFactory);angular.MetaFactory=MetaFactory,PropDesc=function(_super){function PropDesc(propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority){_super.call(this,propertyName,propertyType,changeEvent,enumType,isNativeControlProperty,priority),this._scopeBindingMode=this.propertyType===wj.interop.PropertyType.EventHandler?"&":this.bindingMode==wj.interop.BindingMode.OneWay&&wj.interop.isSimpleType(this.propertyType)?"@":"="}return __extends(PropDesc,_super),Object.defineProperty(PropDesc.prototype,"scopeBindingMode",{get:function(){return this._scopeBindingMode},set:function(value){this._scopeBindingMode=value},enumerable:!0,configurable:!0}),Object.defineProperty(PropDesc.prototype,"customHandler",{get:function(){return this._customHandler},set:function(value){this._customHandler=value},enumerable:!0,configurable:!0}),PropDesc}(wj.interop.PropDescBase),angular.PropDesc=PropDesc,EventDesc=function(_super){function EventDesc(){_super.apply(this,arguments)}return __extends(EventDesc,_super),EventDesc}(wj.interop.EventDescBase),angular.EventDesc=EventDesc,ComplexPropDesc=function(_super){function ComplexPropDesc(){_super.apply(this,arguments)}return __extends(ComplexPropDesc,_super),ComplexPropDesc}(wj.interop.ComplexPropDescBase),angular.ComplexPropDesc=ComplexPropDesc}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),function(wijmo){var angular;!function(angular){var WjLink,WjDirective=function(){function WjDirective(){this.replace=!0,this.restrict="E",this.template="<div />",this.transclude=!1,this._props=[],this._events=[],this._complexProps=[];var self=this;this._dirId=++WjDirective._dirIdCounter+"",this.link=this._postLinkFn(),this.controller=["$scope","$parse","$element",function($scope,$parse,$element){self._$parse=$parse,this[WjDirective._cntrlScopeProp]=$scope,$scope[WjDirective._scopeChildrenProp]=[],self._controllerImpl(this,$scope,$element)}],this._initDirective()}return Object.defineProperty(WjDirective.prototype,"_controlConstructor",{get:function(){throw"Abstract method call"},enumerable:!0,configurable:!0}),WjDirective.prototype._getMetaDataId=function(){return this._controlConstructor},WjDirective.prototype._getMetaData=function(){return angular.MetaFactory.getMetaData(this._getMetaDataId())},WjDirective.prototype._initDirective=function(){this._initSharedMeta(),this._prepareProps(),this._initEvents(),this._initScopeEvents(),this._initScopeDescription()},WjDirective.prototype._initSharedMeta=function(){var prop,idx,propDesc,meta=this._getMetaData();this._props=meta.props,this._events=meta.events,this._complexProps=meta.complexProps,this._property=meta.parentProperty,this._isPropertyArray=meta.isParentPropertyArray,this._ownObject=meta.ownsObject,this._parentReferenceProperty=meta.parentReferenceProperty,this._ngModelProperty=meta.ngModelProperty,prop=angular.MetaFactory.findProp("required",this._props),prop&&(idx=this._props.indexOf(prop),idx>-1&&(propDesc=new angular.PropDesc("wjRequired",wj.interop.PropertyType.Boolean),propDesc.customHandler=function(scope,control,value){control.required=value},this._props.splice(idx+1,0,propDesc)))},WjDirective.prototype._initProps=function(){},WjDirective.prototype._initEvents=function(){},WjDirective.prototype._createLink=function(){return new WjLink},WjDirective.prototype._controllerImpl=function(){},WjDirective.prototype._initControl=function(element){try{var controlConstructor=this._controlConstructor;return new controlConstructor(element)}catch(e){return}},WjDirective.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},WjDirective.prototype._isParentInitializer=function(){return void 0!=this._property},WjDirective.prototype._isParentReferencer=function(){return void 0!=this._parentReferenceProperty},WjDirective.prototype._scopeToAttrName=function(scopeName){var bindMarkLen,aliasLen,alias=this.scope[scopeName];return alias?(bindMarkLen=1,aliasLen=alias.length,aliasLen<2?scopeName:("?"===alias.charAt(1)&&(bindMarkLen=2),aliasLen===bindMarkLen?scopeName:alias.substr(bindMarkLen))):scopeName},WjDirective.prototype._getComplexPropDesc=function(propName){return angular.MetaFactory.findComplexProp(propName,this._complexProps)},WjDirective.prototype._initScopeEvents=function(){var i,event;for(i in this._events)event=this._events[i],this._props.push(new angular.PropDesc(event.eventName,wj.interop.PropertyType.EventHandler))},WjDirective.prototype._initScopeDescription=function(){var prop,i,props=this._props,scope={},byRefMark=WjDirective._optionalAttr?"=?":"=";if(null!=props){for(i=0;i<props.length;i++)prop=props[i],scope[prop.propertyName]=prop.scopeBindingMode,WjDirective._optionalAttr&&"="==prop.scopeBindingMode&&(scope[prop.propertyName]="=?");scope.required&&(scope.wjRequired=scope.required)}scope.control=byRefMark,scope[WjDirective._initPropAttr]=byRefMark,scope[WjDirective._initEventAttr]="&",scope[WjDirective._parPropAttr]="@",scope[WjDirective._wjModelPropAttr]="@",this.scope=scope},WjDirective.prototype._postLinkFn=function(){var self=this;return function(scope,tElement,tAttrs,controller){var i,curCntrl,link=self._createLink();if(link.directive=self,link.scope=scope,link.tElement=tElement,link.tAttrs=tAttrs,wijmo.isArray(controller)){var parEl=tElement.parent(),scopeFunc=parEl.isolateScope||parEl.scope,parScope=scopeFunc.call(parEl);for(i in controller)if(curCntrl=controller[i],void 0!=curCntrl&&(curCntrl[WjDirective._cntrlScopeProp]===scope&&(curCntrl=tElement.parent().controller(self._stripRequire(+i))),curCntrl&&curCntrl[WjDirective._cntrlScopeProp]===parScope)){link.controller=curCntrl;break}}else link.controller=controller;link.ngModel=tElement.controller("ngModel"),link._link()}},WjDirective.prototype._prepareProps=function(){this._initProps();var baseArr=[].concat(this._props);this._props.sort(function(a,b){var ret=a.priority-b.priority;return ret||(ret=baseArr.indexOf(a)-baseArr.indexOf(b)),ret})},WjDirective.prototype._stripRequire=function(index){if(this._stripReq||(this._stripReq=[],this._stripReq.length=this.require.length),!this._stripReq[index]){var res=/^[^A-Za-z]*(.*)/.exec(this.require[index]);this._stripReq[index]=res?res[1]:""}return this._stripReq[index]},WjDirective.prototype._getId=function(){return this._dirId},WjDirective._versionOk=function(minVer){var i,angVer=window.angular.version,angVerParts=[angVer.major,angVer.minor,angVer.dot],verParts=minVer.split(".");if(verParts.length!==angVerParts.length)throw"Unrecognizable version number.";for(i=0;i<verParts.length;i++){if(angVerParts[i]<verParts[i])return!1;if(angVerParts[i]>verParts[i])return!0}return!0},WjDirective._removeTransclude=function(html){var root,transNodes;return html?(root=document.createElement("div"),root.innerHTML=html,transNodes=root.querySelectorAll("[ng-transclude]"),[].forEach.call(transNodes,function(elem){elem.removeAttribute("ng-transclude")}),root.innerHTML):html},WjDirective._parPropAttr="wjProperty",WjDirective._wjModelPropAttr="wjModelProperty",WjDirective._initPropAttr="isInitialized",WjDirective._initEventAttr="initialized",WjDirective._cntrlScopeProp="_cntrlScope",WjDirective._cntrlLinkProp="$_thisLink",WjDirective._scopeChildrenProp="$_childLinks",WjDirective._dirIdAttr="wj-directive-id",WjDirective._optionalAttr=WjDirective._versionOk("1.1.4"),WjDirective._dynaTemplates=WjDirective._optionalAttr,WjDirective._angStripPrefixes=["data","x"],WjDirective._dirIdCounter=0,WjDirective}();angular.WjDirective=WjDirective,WjLink=function(){function WjLink(){this._nonAssignable={},this._definedProps={},this._definedEvents={},this._oldValues={},this._isInitialized=!1,this._hasTriggeredInitialized=!1,this._isNgModelInitialized=!1,this._scopeSuspend=0,this._suspendedEvents=[],this._areChlildrenReady=!1,this._isDestroyed=!1,this._isAppliedToParent=!1}return WjLink.prototype._link=function(){var parentScope,parentLink,dir=this.directive,self=this;this.tElement[0].setAttribute(WjDirective._dirIdAttr,dir._getId()),this.directiveTemplateElement=dir.replace?this.tElement:window.angular.element(this.tElement.children()[0]),this._initNonAssignable(),this._isChild()?(this._parentPropDesc=new angular.ComplexPropDesc(dir._property,dir._isPropertyArray,dir._ownObject),this.controller[WjDirective._cntrlScopeProp][WjDirective._scopeChildrenProp].push(this),parentScope=this.controller[WjDirective._cntrlScopeProp],parentLink=parentScope[WjDirective._cntrlLinkProp],parentLink&&parentLink._areChlildrenReady&&this._parentReady(parentLink)):(this._createInstance(),this._notifyReady(),this._prepareControl()),this._destroyEhUnreg=this.scope.$on("$destroy",function(){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];self._destroy()})},WjLink.prototype._onChildrenReady=function(){},WjLink.prototype._createInstance=function(){this.control=this._initControl(),this._safeApply(this.scope,"control",this.control)},WjLink.prototype._parentReady=function(parentLink){var self,parProp,parPropDescOverride;if(this._isChild()){if(self=this,this._isAttrDefined(WjDirective._parPropAttr)&&!this.scope[WjDirective._parPropAttr])return void this.scope.$watch(WjDirective._parPropAttr,function(){self._parentReady(parentLink)});parProp=this._getParentProp(),parPropDescOverride=parentLink.directive._getComplexPropDesc(parProp),parPropDescOverride?this._parentPropDesc=parPropDescOverride:this._parentPropDesc.propertyName=parProp,this.parent=parentLink,this._useParentObj()?(this.control=parentLink.control[parProp],this._safeApply(this.scope,"control",this.control)):this._createInstance(),this._notifyReady(),this._prepareControl(),this._initParent(),this.directiveTemplateElement[0].style.display="none",this._appliedToParent()}},WjLink.prototype._initParent=function(){var parArr,linkIdx,self;if(!this._useParentObj()){var propName=(this.directive,this._getParentProp()),parCtrl=this.parent.control,ctrl=this.control;this._isParentInitializer()&&(this._isParentArray()?(parArr=parCtrl[propName],linkIdx=this._getIndex(),(linkIdx<0||linkIdx>=parArr.length)&&(linkIdx=parArr.length),parArr.splice(linkIdx,0,ctrl),self=this,this._siblingInsertedEH=this._siblingInserted.bind(this),this.tElement[0].addEventListener("DOMNodeInserted",this._siblingInsertedEH)):parCtrl[propName]=ctrl),this._isParentReferencer()&&!this._parentInCtor()&&(ctrl[this._getParentReferenceProperty()]=parCtrl)}},WjLink.prototype._destroy=function(){var control,parControl,parProp,parArr,idx;this._isDestroyed||(this._isDestroyed=!0,control=this.control,this._destroyEhUnreg&&(this._destroyEhUnreg=null),this._siblingInsertedEH&&this.tElement[0].removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isParentArray()&&!this.parent._isDestroyed&&(parControl=this.parent.control,parProp=this._getParentProp(),parControl&&parProp&&control&&(parArr=parControl[parProp],parArr&&(idx=parArr.indexOf(control),idx>=0&&parArr.splice(idx,1)))),control instanceof wijmo.Control&&setTimeout(function(){control.hostElement&&control.dispose()},0))},WjLink.prototype._siblingInserted=function(e){if(e.target===this.tElement[0]){var lIdx=this._getIndex(),parArr=this.parent.control[this._getParentProp()],ctrl=this.control,arrIdx=parArr.indexOf(ctrl);lIdx>=0&&arrIdx>=0&&lIdx!==arrIdx&&(parArr.splice(arrIdx,1),lIdx=Math.min(lIdx,parArr.length),parArr.splice(lIdx,0,ctrl))}},WjLink.prototype._notifyReady=function(){var childLinks,i;for(this.scope[WjDirective._cntrlLinkProp]=this,childLinks=[].concat(this.scope[WjDirective._scopeChildrenProp]),i=0;i<childLinks.length;i++)childLinks[i]._parentReady(this);this._areChlildrenReady=!0,this._onChildrenReady()},WjLink.prototype._initControl=function(){return this.directive._initControl(this._parentInCtor()?this.parent.control:this.directiveTemplateElement[0])},WjLink.prototype._prepareControl=function(){this._addEventHandlers(),this._addWatchers()},WjLink.prototype._setupScopeWithControlProperties=function(){for(var isFunction,isEventHandler,prop,name,scopeValue,controlValue,control=this.control,scope=this.scope,props=this.directive._props,i=0;i<props.length;i++)prop=props[i],"="===prop.scopeBindingMode&&prop.isNativeControlProperty&&prop.shouldUpdateSource&&(name=prop.propertyName,scopeValue=scope[name],controlValue=control[name],isFunction=prop.propertyType==wj.interop.PropertyType.Function,isEventHandler=prop.propertyType==wj.interop.PropertyType.EventHandler,!this._canApply(scope,prop.propertyName)||controlValue==scopeValue||isFunction||isEventHandler||(scope[prop.propertyName]=controlValue));scope.$root.$$phase||scope.$apply()},WjLink.prototype._initNonAssignable=function(){var binding,parse=this.directive._$parse,scopeDef=this.directive.scope;for(var name in scopeDef)"="===scopeDef[name].charAt(0)&&(binding=this.tAttrs[this.directive._scopeToAttrName(name)],(void 0===binding||void 0==parse(binding).assign)&&(this._nonAssignable[name]=!0))},WjLink.prototype._suspendScope=function(){this._scopeSuspend++},WjLink.prototype._resumeScope=function(){this._scopeSuspend>0&&0==--this._scopeSuspend&&this._suspendedEvents.length>0&&this._updateScope()},WjLink.prototype._isScopeSuspended=function(){return this._scopeSuspend>0},WjLink.prototype._isAttrDefined=function(name){return null!=this.tAttrs.$attr[this.directive._scopeToAttrName(name)]},WjLink.prototype._childInitialized=function(child){var childLinks=this.scope[WjDirective._scopeChildrenProp],idx=childLinks.indexOf(child);idx>=0&&(childLinks.splice(idx,1),this._checkRaiseInitialized())},WjLink.prototype._thisInitialized=function(){this._checkRaiseInitialized()},WjLink.prototype._initialized=function(){},WjLink.prototype._appliedToParent=function(){this._isAppliedToParent=!0,this._checkRaiseInitialized()},WjLink.prototype._checkRaiseInitialized=function(){if(!this._hasTriggeredInitialized&&0===this.scope[WjDirective._scopeChildrenProp].length&&this._isInitialized&&(!this._isChild()||this._isAppliedToParent)){this._hasTriggeredInitialized=!0,this._initialized(),this._safeApply(this.scope,WjDirective._initPropAttr,!0);var handler=this.scope[WjDirective._initEventAttr],self=this;handler&&setTimeout(function(){handler({s:self.control,e:void 0})},0),this._isChild()&&this.parent&&this.parent._childInitialized(this)}},WjLink.prototype._addWatchers=function(){var ngModel,i,name,prop,control,self=this,props=this.directive._props,scope=this.scope;if(props){for(this.ngModel&&(ngModel=this.ngModel,ngModel.$pristine&&wijmo.addClass(this.tElement[0],"ng-pristine"),ngModel.$valid&&wijmo.addClass(this.tElement[0],"ng-valid"),ngModel.$untouched&&wijmo.addClass(this.tElement[0],"ng-untouched"),ngModel.$render=this._ngModelRender.bind(this),this._updateNgModelPropDesc(),this._isAttrDefined(WjDirective._wjModelPropAttr)&&scope.$watch(WjDirective._wjModelPropAttr,function(){self._updateNgModelPropDesc(),self._ngModelRender()})),i=0;i<props.length;i++)prop=props[i],name=prop.propertyName,prop.propertyType!==wj.interop.PropertyType.EventHandler&&this._isAttrDefined(name)&&(this._definedProps[name]=prop);control=this.control,scope.$watch(function(scope){var assignValues,name,newVal,oldVal,handled;if(!self._isDestroyed)try{assignValues={};for(name in self._definedProps)scope[name]!==self._oldValues[name]&&(assignValues[name]=scope[name]);for(name in assignValues)if(newVal=assignValues[name],oldVal=self._oldValues[name],newVal!==oldVal&&(self._oldValues[name]=newVal,self._isInitialized||void 0!==newVal)){var prop=self._definedProps[name],value=self._nullOrValue(self._castValueToType(newVal,prop)),oldCtrlVal=control[name];oldCtrlVal!=value&&(handled=!1,null!=prop.customHandler&&(handled=prop.customHandler(scope,control,value,oldCtrlVal,self)),prop.isNativeControlProperty&&handled!==!0&&(control[name]=value))}}finally{self._isInitialized||(self._isNgModelInitialized=!0,self.ngModel&&(void 0!==self.ngModel.$viewValue?self._ngModelRender():self._ngModelPropDesc&&(self.ngModel.$setViewValue(control[self._ngModelPropDesc.propertyName]),self.ngModel.$setPristine())),self._isInitialized=!0,self._setupScopeWithControlProperties(),self._thisInitialized())}})}},WjLink.prototype._addEventHandlers=function(){for(var event,evList=this.directive._events,i=0;i<evList.length;i++)event=evList[i],this._addEventHandler(event)},WjLink.prototype._addEventHandler=function(eventDesc){var isDefined,self=this,eventName=eventDesc.eventName,controlEvent=this.control[eventName];if(null==controlEvent)throw'Event "'+eventName+'" not found in '+self.constructor.name;if(isDefined=this._isAttrDefined(eventName))this._definedEvents[eventName]=eventDesc;else if(!eventDesc.isPropChanged)return;var control=(this.scope,this.directive._props,this.control);controlEvent.addHandler(function(s,e){var eventInfo={eventDesc:eventDesc,s:s,e:e};self._isScopeSuspended()?self._suspendedEvents.push(eventInfo):self._updateScope(eventInfo)},control)},WjLink.prototype._updateScope=function(eventInfo){var update,self,props,i,p,name,value,raiseEvents,dispose;if(void 0===eventInfo&&(eventInfo=null),!this._isDestroyed){if(update=eventInfo?eventInfo.eventDesc.isPropChanged:this._suspendedEvents.some(function(value){return value.eventDesc.isPropChanged}),self=this,update)for(props=this.directive._props,i=0;i<props.length;i++)p=props[i],"="==p.scopeBindingMode&&p.isNativeControlProperty&&p.shouldUpdateSource&&(name=p.propertyName,value=this.control[name],this._shouldApply(this.scope,name,value)&&(this.scope[name]=value,this.directive._$parse(this.tAttrs[this.directive._scopeToAttrName(name)]).assign(this.scope.$parent,value)),this._ngModelPropDesc&&this._isInitialized&&this._ngModelPropDesc.propertyName==name&&this.ngModel.$viewValue!==value&&this.ngModel.$setViewValue(value));raiseEvents=function(){for(var suspEvArr=eventInfo?[eventInfo]:this._suspendedEvents,i=0;i<suspEvArr.length;i++){var suspInfo=suspEvArr[i],eventName=suspInfo.eventDesc.eventName,scopeHandler=this.scope[eventName];self._definedEvents[eventName]&&scopeHandler&&scopeHandler({s:suspInfo.s,e:suspInfo.e})}eventInfo||(this._suspendedEvents.length=0)}.bind(this),update&&(this.scope.$root.$$phase?dispose=this.scope.$watch("value",function(){dispose()}):this.scope.$apply()),raiseEvents()}},WjLink.prototype._ngModelRender=function(){var viewValue,propDesc,value;this._isNgModelInitialized&&(viewValue=this.ngModel.$viewValue,propDesc=this._ngModelPropDesc,propDesc&&(void 0!==viewValue||this._isInitialized))&&(value=this._nullOrValue(this._castValueToType(viewValue,propDesc)),viewValue!==this.control[propDesc.propertyName]&&(this.control[propDesc.propertyName]=viewValue))},WjLink.prototype._castValueToType=function(value,prop){return prop.castValueToType(value)},WjLink.prototype._isChild=function(){return this.directive._isChild()},WjLink.prototype._isParentInitializer=function(){return this.directive._isParentInitializer()},WjLink.prototype._isParentReferencer=function(){return this.directive._isParentReferencer()},WjLink.prototype._getParentProp=function(){return this._isParentInitializer()?this.scope[WjDirective._parPropAttr]||this.directive._property:void 0},WjLink.prototype._getParentReferenceProperty=function(){return this.directive._parentReferenceProperty},WjLink.prototype._useParentObj=function(){return!this._isParentReferencer()&&this._isParentInitializer()&&!this._parentPropDesc.isArray&&!this._parentPropDesc.ownsObject},WjLink.prototype._isParentArray=function(){return this._isParentInitializer()&&this._parentPropDesc.isArray},WjLink.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},WjLink.prototype._getNgModelProperty=function(){return this.scope[WjDirective._wjModelPropAttr]||this.directive._ngModelProperty},WjLink.prototype._updateNgModelPropDesc=function(){var ngModelProp=this._getNgModelProperty();this._ngModelPropDesc=wijmo.isNullOrWhiteSpace(ngModelProp)?null:angular.MetaFactory.findProp(ngModelProp,this.directive._props)},WjLink.prototype._safeApply=function(scope,name,value){this._shouldApply(scope,name,value)&&(scope[name]=value,scope.$root.$$phase||scope.$apply())},WjLink.prototype._shouldApply=function(scope,name,value){return this._canApply(scope,name)&&value!=scope[name]},WjLink.prototype._canApply=function(scope,name){return!this._nonAssignable[name]},WjLink.prototype._nullOrValue=function(value){return void 0!=value?value:null},WjLink.prototype._getIndex=function(){var i,curEl,thisEl=this.tElement[0],parEl=thisEl.parentElement;if(!parEl)return-1;var siblings=parEl.childNodes,idx=-1,dirId=this.directive._getId();for(i=0;i<siblings.length;i++)if(curEl=siblings[i],1==curEl.nodeType&&curEl.getAttribute(WjDirective._dirIdAttr)==dirId&&(++idx,curEl===thisEl))return idx;return-1},WjLink}(),angular.WjLink=WjLink}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;!function(angular){var wijmoContainers=window.angular.module("wj.container",[]);wijmoContainers.directive("wjTooltip",[function(){return new WjTooltip}]),wijmoContainers.directive("wjValidationError",[function(){return new WjValidationError}]);var WjTooltip=function(_super){function WjTooltip(){_super.call(this),this.restrict="A",this.template=""}return __extends(WjTooltip,_super),Object.defineProperty(WjTooltip.prototype,"_controlConstructor",{get:function(){return wijmo.Tooltip},enumerable:!0,configurable:!0}),WjTooltip.prototype._initControl=function(){return new wijmo.Tooltip},WjTooltip.prototype._createLink=function(){return new WjTooltipLink},WjTooltip}(angular.WjDirective),WjTooltipLink=function(_super){function WjTooltipLink(){_super.apply(this,arguments)}return __extends(WjTooltipLink,_super),WjTooltipLink.prototype._link=function(){_super.prototype._link.call(this);var tt=this.control,self=this;this.tAttrs.$observe("wjTooltip",function(value){tt.setTooltip(self.tElement[0],value)})},WjTooltipLink}(angular.WjLink),WjValidationError=function(_super){function WjValidationError(){_super.call(this),this.restrict="A",this.template="",this.require="ngModel",this.scope=!1}return __extends(WjValidationError,_super),WjValidationError.prototype._postLinkFn=function(){return function(scope,tElement,tAttrs,controller){var dn="wjValidationError";scope.$watch(tAttrs[dn],function(errorMsg){var e="INPUT"==tElement[0].tagName?tElement[0]:tElement[0].querySelector("input");"boolean"==typeof errorMsg&&(errorMsg=errorMsg?"error":""),e&&e.setCustomValidity&&e.setCustomValidity(errorMsg),controller&&controller.$setValidity(dn,!errorMsg)})}},WjValidationError.prototype._getMetaDataId=function(){return"ValidationError"},WjValidationError}(angular.WjDirective)}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;!function(angular){var wijmoInput=window.angular.module("wj.input",[]);wijmo.input&&wijmo.input.InputNumber&&(wijmoInput.directive("wjAutoComplete",["$compile",function($compile){
return new WjAutoComplete($compile)}]),wijmoInput.directive("wjCalendar",[function(){return new WjCalendar}]),wijmoInput.directive("wjColorPicker",[function(){return new WjColorPicker}]),wijmoInput.directive("wjComboBox",["$compile",function($compile){return new WjComboBox($compile)}]),wijmoInput.directive("wjInputDate",[function(){return new WjInputDate}]),wijmoInput.directive("wjInputDateTime",[function(){return new WjInputDateTime}]),wijmoInput.directive("wjInputNumber",[function(){return new WjInputNumber}]),wijmoInput.directive("wjInputMask",[function(){return new WjInputMask}]),wijmoInput.directive("wjInputTime",["$compile",function($compile){return new WjInputTime($compile)}]),wijmoInput.directive("wjInputColor",[function(){return new WjInputColor}]),wijmoInput.directive("wjListBox",[function(){return new WjListBox}]),wijmoInput.directive("wjItemTemplate",["$compile",function($compile){return new WjItemTemplate($compile)}]),wijmoInput.directive("wjMenu",["$compile",function($compile){return new WjMenu($compile)}]),wijmoInput.directive("wjMenuItem",[function(){return new WjMenuItem}]),wijmoInput.directive("wjMenuSeparator",[function(){return new WjMenuSeparator}]),wijmoInput.directive("wjContextMenu",[function(){return new WjContextMenu}]),wijmoInput.directive("wjCollectionViewNavigator",[function(){return new WjCollectionViewNavigator}]),wijmoInput.directive("wjCollectionViewPager",[function(){return new WjCollectionViewPager}]),wijmoInput.directive("wjPopup",[function(){return new WjPopup}]),wijmoInput.directive("wjMultiSelect",["$compile",function($compile){return new WjMultiSelect($compile)}]));var WjDropDown=function(_super){function WjDropDown(){_super.apply(this,arguments)}return __extends(WjDropDown,_super),Object.defineProperty(WjDropDown.prototype,"_controlConstructor",{get:function(){return wijmo.input.DropDown},enumerable:!0,configurable:!0}),WjDropDown}(angular.WjDirective),WjComboBox=function(_super){function WjComboBox($compile){_super.call(this),this._$compile=$compile,this.template="<div ng-transclude />",this.transclude=!0}return __extends(WjComboBox,_super),Object.defineProperty(WjComboBox.prototype,"_controlConstructor",{get:function(){return wijmo.input.ComboBox},enumerable:!0,configurable:!0}),WjComboBox}(WjDropDown),WjAutoComplete=function(_super){function WjAutoComplete($compile){_super.call(this,$compile)}return __extends(WjAutoComplete,_super),Object.defineProperty(WjAutoComplete.prototype,"_controlConstructor",{get:function(){return wijmo.input.AutoComplete},enumerable:!0,configurable:!0}),WjAutoComplete}(WjComboBox),WjCalendar=function(_super){function WjCalendar(){_super.apply(this,arguments)}return __extends(WjCalendar,_super),Object.defineProperty(WjCalendar.prototype,"_controlConstructor",{get:function(){return wijmo.input.Calendar},enumerable:!0,configurable:!0}),WjCalendar}(angular.WjDirective),WjColorPicker=function(_super){function WjColorPicker(){_super.apply(this,arguments)}return __extends(WjColorPicker,_super),Object.defineProperty(WjColorPicker.prototype,"_controlConstructor",{get:function(){return wijmo.input.ColorPicker},enumerable:!0,configurable:!0}),WjColorPicker}(angular.WjDirective),WjListBox=function(_super){function WjListBox(){_super.call(this),this.transclude=!0,this.template="<div ng-transclude />"}return __extends(WjListBox,_super),Object.defineProperty(WjListBox.prototype,"_controlConstructor",{get:function(){return wijmo.input.ListBox},enumerable:!0,configurable:!0}),WjListBox}(angular.WjDirective),WjItemTemplate=function(_super){function WjItemTemplate($compile){_super.call(this),this._$compile=$compile,this.require=["?^wjListBox","?^wjMenu"],this.terminal=!0,angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjItemTemplate._itemTemplateProp]=tElement[0].innerHTML,"<div />"}):(this.transclude=!0,this.template="<div ng-transclude/>")}return __extends(WjItemTemplate,_super),WjItemTemplate.prototype._initControl=function(){return{}},WjItemTemplate.prototype._createLink=function(){return new WjItemTemplateLink},WjItemTemplate.prototype._getMetaDataId=function(){return"ItemTemplate"},WjItemTemplate._itemTemplateProp="$__wjItemTemplate",WjItemTemplate._itemScopeProp="$_itemScope",WjItemTemplate}(angular.WjDirective),WjItemTemplateLink=function(_super){function WjItemTemplateLink(){_super.apply(this,arguments)}return __extends(WjItemTemplateLink,_super),WjItemTemplateLink.prototype._initParent=function(){_super.prototype._initParent.call(this);var dynaTempl=this.tAttrs[WjItemTemplate._itemTemplateProp],ownerControl=this.parent.control,listBox=this._getListBox();this.itemTemplate=null!=dynaTempl?dynaTempl:angular.WjDirective._removeTransclude(this.tElement[0].innerHTML),listBox.formatItem.addHandler(this._fmtItem,this),listBox.loadingItems.addHandler(this._loadingItems,this),this.parent._isInitialized&&ownerControl.invalidate()},WjItemTemplateLink.prototype._destroy=function(){var ownerControl=this.parent&&this.parent.control,listBox=this._getListBox();listBox&&(listBox.formatItem.removeHandler(this._fmtItem,this),listBox.loadingItems.removeHandler(this._loadingItems,this)),_super.prototype._destroy.call(this),this._tmplLink=null,ownerControl&&ownerControl.invalidate()},WjItemTemplateLink.prototype._loadingItems=function(s){for(var itemEl,itemScope,items=s.hostElement.getElementsByClassName("wj-listbox-item"),i=items.length-1;i>=0;i--)itemEl=items[i],itemScope=itemEl[WjItemTemplate._itemScopeProp],itemScope&&(itemEl[WjItemTemplate._itemScopeProp]=null,itemScope.$destroy())},WjItemTemplateLink.prototype._fmtItem=function(s,e){var itemEl,itemScope,clonedElement,lag;this._tmplLink||(this._tmplLink=this.directive._$compile("<div>"+this.itemTemplate+"</div>")),itemEl=e.item,itemScope=this.scope.$parent.$new(),itemEl[WjItemTemplate._itemScopeProp]=itemScope,itemScope.$control=s,itemScope.$item=e.data,itemScope.$itemIndex=e.index,clonedElement=this._tmplLink(itemScope,function(){})[0],1===itemEl.childNodes.length?itemEl.replaceChild(clonedElement,itemEl.firstChild):(itemEl.textContent="",itemEl.appendChild(clonedElement)),lag=40,clearTimeout(this._closingApplyTimeOut),this._closingApplyTimeOut=setTimeout(function(){itemScope.$root.$$phase||itemScope.$apply()},lag)},WjItemTemplateLink._invalidateControl=function(parentControl){parentControl&&parentControl.invalidate()},WjItemTemplateLink.prototype._getListBox=function(){var ownerControl=this.parent&&this.parent.control;return ownerControl?ownerControl instanceof wijmo.input.ListBox?ownerControl:ownerControl.listBox:null},WjItemTemplateLink}(angular.WjLink),WjMenu=function(_super){function WjMenu($compile){_super.call(this,$compile)}return __extends(WjMenu,_super),Object.defineProperty(WjMenu.prototype,"_controlConstructor",{get:function(){return wijmo.input.Menu},enumerable:!0,configurable:!0}),WjMenu.prototype._createLink=function(){return new WjMenuLink},WjMenu.prototype._initProps=function(){_super.prototype._initProps.call(this);var self=this,valueDesc=angular.MetaFactory.findProp("value",this._props);valueDesc.customHandler=function(scope,control,value,oldValue,link){self.updateControlValue(scope,control,link)}},WjMenu.prototype.updateControlValue=function(scope,control,link){null!=scope.value&&(control.selectedValue=scope.value,link.directive.updateHeader(scope,control,link))},WjMenu.prototype.updateHeader=function(scope,control){var selItem,itemLink,currentValue;control.header=scope.header||"",selItem=control.selectedItem,"undefined"!=typeof scope.value&&selItem&&control.displayMemberPath&&(itemLink=selItem[WjMenuItem._itemLinkProp],currentValue=itemLink?itemLink.linkedContent.innerHTML:selItem[control.displayMemberPath],null!=currentValue&&(control.header+=": <b>"+currentValue+"</b>"))},WjMenu}(WjComboBox),WjMenuLink=function(_super){function WjMenuLink(){_super.apply(this,arguments)}return __extends(WjMenuLink,_super),WjMenuLink.prototype._initControl=function(){var self=this,control=new wijmo.input.Menu(this.directiveTemplateElement[0],{itemsSource:new wijmo.collections.ObservableArray,selectedIndex:0,itemClicked:function(){self._safeApply(self.scope,"value",control.selectedValue),self.directive.updateHeader(self.scope,control,self)}.bind(self)});return control.listBox.formatItem.addHandler(self._fmtItem,this),control.listBox.loadingItems.addHandler(this._loadingItems,this),control},WjMenuLink.prototype._initialized=function(){this.directive.updateControlValue(this.scope,this.control,this)},WjMenuLink.prototype._fmtItem=function(s,e){var clonedElement,lag,itemLink=e.data[WjMenuItem._itemLinkProp];if(itemLink){itemLink.contentLink||(itemLink.contentLink=this.directive._$compile("<div>"+itemLink.itemTemplate+"</div>"));var self=this,itemEl=e.item,itemScope=itemLink.scope.$parent.$new();itemEl[WjMenuItem._itemScopeProp]=itemScope,itemScope.$control=this.control,itemScope.$item=e.data,itemScope.$itemIndex=e.index,clonedElement=itemLink.linkedContent=itemLink.contentLink(itemScope,function(){})[0],1===itemEl.childNodes.length?itemEl.replaceChild(clonedElement,itemEl.firstChild):(itemEl.textContent="",itemEl.appendChild(clonedElement)),lag=40,clearTimeout(this._closingApplyTimeOut),this._closingApplyTimeOut=setTimeout(function(){itemScope.$root.$$phase||itemScope.$apply(),self.control.selectedItem&&self.directive.updateHeader(self.scope,self.control,self)},lag)}},WjMenuLink.prototype._loadingItems=function(s){for(var itemEl,itemScope,items=s.hostElement.getElementsByClassName("wj-listbox-item"),i=items.length-1;i>=0;i--)itemEl=items[i],itemScope=itemEl[WjMenuItem._itemScopeProp],itemScope&&(itemEl[WjItemTemplate._itemScopeProp]=null,itemScope.$destroy())},WjMenuLink}(angular.WjLink);angular.WjMenuLink=WjMenuLink;var WjMenuItem=function(_super){function WjMenuItem(){_super.call(this),this.require="^wjMenu",this.terminal=!0,angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjItemTemplate._itemTemplateProp]=tElement[0].innerHTML,"<div />"}):(this.transclude=!0,this.template="<div ng-transclude/>")}return __extends(WjMenuItem,_super),WjMenuItem.prototype._createLink=function(){return new WjMenuItemLink((!1))},WjMenuItem.prototype._getMetaDataId=function(){return"MenuItem"},WjMenuItem.prototype._getId=function(){return WjMenuItem._directiveId},WjMenuItem._itemTemplateProp="$__wjMenuItemTemplate",WjMenuItem._itemScopeProp="$_menuItemScope",WjMenuItem._itemLinkProp="$_menuItemLink",WjMenuItem._directiveId="menuItemDir",WjMenuItem}(angular.WjDirective),WjMenuItemLink=function(_super){function WjMenuItemLink(isSeparator){_super.call(this),this.isSeparator=isSeparator}return __extends(WjMenuItemLink,_super),WjMenuItemLink.prototype._initControl=function(){var ret,dynaTempl=this.tAttrs[WjItemTemplate._itemTemplateProp];return this.itemTemplate=this.isSeparator?'<div class="wj-state-disabled" style="width:100%;height:1px;background-color:lightgray"/>':null!=dynaTempl?dynaTempl:angular.WjDirective._removeTransclude(this.tElement[0].innerHTML),ret={value:null,cmd:null,cmdParam:null,header:this.itemTemplate},ret[WjMenuItem._itemLinkProp]=this,ret},WjMenuItemLink.prototype._initParent=function(){_super.prototype._initParent.call(this);var ownerControl=this.parent.control;1==ownerControl.itemsSource.length&&ownerControl.selectedIndex<0&&(ownerControl.selectedIndex=0),ownerControl.displayMemberPath||(ownerControl.displayMemberPath="header"),ownerControl.selectedValuePath||(ownerControl.selectedValuePath="value"),ownerControl.commandPath||(ownerControl.commandPath="cmd"),ownerControl.commandParameterPath||(ownerControl.commandParameterPath="cmdParam")},WjMenuItemLink.prototype._destroy=function(){var ownerControl=this.parent&&this.parent.control;_super.prototype._destroy.call(this),ownerControl&&ownerControl.invalidate()},WjMenuItemLink}(angular.WjLink),WjMenuSeparator=function(_super){function WjMenuSeparator(){_super.call(this),this.template="<span />",this.require="^wjMenu"}return __extends(WjMenuSeparator,_super),WjMenuSeparator.prototype._getMetaDataId=function(){return"MenuSeparator"},WjMenuSeparator.prototype._createLink=function(){return new WjMenuItemLink((!0))},WjMenuSeparator.prototype._getId=function(){return WjMenuItem._directiveId},WjMenuSeparator}(angular.WjDirective),WjContextMenu=function(_super){function WjContextMenu(){_super.call(this),this.template=void 0,this.restrict="A",this.scope=!1}return __extends(WjContextMenu,_super),WjContextMenu.prototype._getMetaDataId=function(){return"WjContextMenu"},WjContextMenu.prototype._postLinkFn=function(){return function(scope,tElement,tAttrs){var host=wijmo.getElement(tAttrs.wjContextMenu);tElement[0].addEventListener("contextmenu",function(e){var menu=wijmo.Control.getControl(host),dropDown=menu.dropDown;menu&&dropDown&&!wijmo.closest(e.target,"[disabled]")&&(e.preventDefault(),menu.owner=tElement[0],menu.selectedIndex=-1,menu.onIsDroppedDownChanging(new wijmo.CancelEventArgs)&&(wijmo.showPopup(dropDown,e),menu.onIsDroppedDownChanged(),dropDown.focus()))})}},WjContextMenu}(angular.WjDirective),WjInputDate=function(_super){function WjInputDate(){_super.apply(this,arguments)}return __extends(WjInputDate,_super),Object.defineProperty(WjInputDate.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputDate},enumerable:!0,configurable:!0}),WjInputDate}(WjDropDown),WjInputDateTime=function(_super){function WjInputDateTime(){_super.apply(this,arguments)}return __extends(WjInputDateTime,_super),Object.defineProperty(WjInputDateTime.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputDateTime},enumerable:!0,configurable:!0}),WjInputDateTime}(WjInputDate),WjInputNumber=function(_super){function WjInputNumber(){_super.apply(this,arguments)}return __extends(WjInputNumber,_super),Object.defineProperty(WjInputNumber.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputNumber},enumerable:!0,configurable:!0}),WjInputNumber}(angular.WjDirective),WjInputMask=function(_super){function WjInputMask(){_super.apply(this,arguments)}return __extends(WjInputMask,_super),Object.defineProperty(WjInputMask.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputMask},enumerable:!0,configurable:!0}),WjInputMask}(angular.WjDirective),WjInputTime=function(_super){function WjInputTime($compile){_super.call(this,$compile)}return __extends(WjInputTime,_super),Object.defineProperty(WjInputTime.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputTime},enumerable:!0,configurable:!0}),WjInputTime}(WjComboBox),WjInputColor=function(_super){function WjInputColor(){_super.apply(this,arguments)}return __extends(WjInputColor,_super),Object.defineProperty(WjInputColor.prototype,"_controlConstructor",{get:function(){return wijmo.input.InputColor},enumerable:!0,configurable:!0}),WjInputColor}(WjDropDown),WjPopup=function(_super){function WjPopup(){_super.call(this),this.transclude=!0,this.template="<div ng-transclude/>"}return __extends(WjPopup,_super),Object.defineProperty(WjPopup.prototype,"_controlConstructor",{get:function(){return wijmo.input.Popup},enumerable:!0,configurable:!0}),WjPopup.prototype._initProps=function(){_super.prototype._initProps.call(this),angular.MetaFactory.findProp("owner",this._props).customHandler=function(scope,control,value){var modal=scope.modal;null==modal&&(control.modal=!value)}},WjPopup}(angular.WjDirective),WjMultiSelect=function(_super){function WjMultiSelect($compile){_super.call(this,$compile)}return __extends(WjMultiSelect,_super),Object.defineProperty(WjMultiSelect.prototype,"_controlConstructor",{get:function(){return wijmo.input.MultiSelect},enumerable:!0,configurable:!0}),WjMultiSelect}(WjComboBox),WjCollectionViewNavigator=function(_super){function WjCollectionViewNavigator(){_super.call(this),this.template='<div class="wj-control wj-content wj-pager">    <div class="wj-input-group">        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               ng-click="cv.moveCurrentToFirst()"               ng-disabled="cv.currentPosition <= 0">                <span class="wj-glyph-left" style="margin-right: -4px;"></span>                <span class="wj-glyph-left"></span>             </button>        </span>        <span class="wj-input-group-btn" >           <button class="wj-btn wj-btn-default" type="button"               ng-click="cv.moveCurrentToPrevious()"               ng-disabled="cv.currentPosition <= 0">                <span class="wj-glyph-left"></span>           </button>        </span>        <input type="text" class="wj-form-control" value="           {{cv.currentPosition + 1 | number}} / {{cv.itemCount | number}}           " disabled />        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               ng-click="cv.moveCurrentToNext()"               ng-disabled="cv.currentPosition >= cv.itemCount - 1">                <span class="wj-glyph-right"></span>            </button>        </span>        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"               ng-click="cv.moveCurrentToLast()"               ng-disabled="cv.currentPosition >= cv.itemCount - 1">                <span class="wj-glyph-right"></span>                <span class="wj-glyph-right" style="margin-left: -4px;"></span>            </button>        </span>    </div></div>'}return __extends(WjCollectionViewNavigator,_super),WjCollectionViewNavigator.prototype._getMetaDataId=function(){return"CollectionViewNavigator"},WjCollectionViewNavigator.prototype._postLinkFn=function(){return function(){}},WjCollectionViewNavigator}(angular.WjDirective),WjCollectionViewPager=function(_super){function WjCollectionViewPager(){_super.call(this),this.template='<div class="wj-control wj-content wj-pager" >    <div class="wj-input-group">        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"                ng-click="cv.moveToFirstPage()"                ng-disabled="cv.pageIndex <= 0">                <span class="wj-glyph-left" style="margin-right: -4px;"></span>                <span class="wj-glyph-left"></span>            </button>        </span>        <span class="wj-input-group-btn" >        <button class="wj-btn wj-btn-default" type="button"                ng-click="cv.moveToPreviousPage()"                ng-disabled="cv.pageIndex <= 0">                <span class="wj-glyph-left"></span>            </button>        </span>        <input type="text" class="wj-form-control" value="            {{cv.pageIndex + 1 | number}} / {{cv.pageCount | number}}        " disabled />        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"                ng-click="cv.moveToNextPage()"                ng-disabled="cv.pageIndex >= cv.pageCount - 1">                <span class="wj-glyph-right"></span>            </button>        </span>        <span class="wj-input-group-btn" >            <button class="wj-btn wj-btn-default" type="button"                ng-click="cv.moveToLastPage()"                ng-disabled="cv.pageIndex >= cv.pageCount - 1">                <span class="wj-glyph-right"></span>                <span class="wj-glyph-right" style="margin-left: -4px;"></span>            </button>        </span>    </div></div>'}return __extends(WjCollectionViewPager,_super),WjCollectionViewPager.prototype._getMetaDataId=function(){return"CollectionViewPager"},WjCollectionViewPager.prototype._postLinkFn=function(){return function(){}},WjCollectionViewPager}(angular.WjDirective)}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;!function(angular){var wijmoChart=window.angular.module("wj.chart",[]);wijmo.chart&&wijmo.chart.FlexChart&&(wijmoChart.directive("wjFlexChart",[function(){return new WjFlexChart}]),wijmoChart.directive("wjFlexChartAxis",[function(){return new WjFlexChartAxis}]),wijmoChart.directive("wjFlexChartSeries",[function(){return new WjFlexChartSeries}]),wijmoChart.directive("wjFlexChartLegend",[function(){return new WjFlexChartLegend}]),wijmoChart.directive("wjFlexChartDataLabel",[function(){return new WjFlexChartDataLabel}]),wijmoChart.directive("wjFlexPieDataLabel",[function(){return new WjFlexPieDataLabel}]),wijmoChart.directive("wjFlexChartLineMarker",[function(){return new WjFlexChartLineMarker}]),wijmoChart.directive("wjFlexChartPlotArea",[function(){return new WjFlexChartPlotArea}]),wijmoChart.directive("wjFlexChartDataPoint",[function(){return new WjFlexChartDataPoint}]),wijmo.chart.interaction&&(wijmoChart.directive("wjFlexChartRangeSelector",[function(){return new WjFlexChartRangeSelector}]),wijmoChart.directive("wjFlexChartGestures",[function(){return new WjFlexChartChartGestures}]),wijmoChart.directive("wjFlexChartChartGestures",[function(){return new WjFlexChartChartGestures}])),wijmo.chart.annotation&&(wijmoChart.directive("wjFlexChartAnnotationLayer",[function(){return new WjFlexChartAnnotationLayer}]),wijmoChart.directive("wjFlexChartAnnotation",[function(){return new WjFlexChartAnnotation}])),wijmoChart.directive("wjFlexPie",[function(){return new WjFlexPie}]),wijmo.chart.hierarchical&&wijmoChart.directive("wjSunburst",[function(){return new WjSunburst}]),wijmo.chart.finance&&(wijmoChart.directive("wjFinancialChart",[function(){return new WjFinancialChart}]),wijmoChart.directive("wjFinancialChartSeries",[function(){return new WjFinancialChartSeries}]),wijmo.chart.finance.analytics&&(wijmoChart.directive("wjFlexChartFibonacci",[function(){return new WjFlexChartFibonacci}]),wijmoChart.directive("wjFlexChartFibonacciArcs",[function(){return new WjFlexChartFibonacciArcs}]),wijmoChart.directive("wjFlexChartFibonacciFans",[function(){return new WjFlexChartFibonacciFans}]),wijmoChart.directive("wjFlexChartFibonacciTimeZones",[function(){return new WjFlexChartFibonacciTimeZones}]),wijmoChart.directive("wjFlexChartAtr",[function(){return new WjFlexChartAtr}]),wijmoChart.directive("wjFlexChartCci",[function(){return new WjFlexChartCci}]),wijmoChart.directive("wjFlexChartRsi",[function(){return new WjFlexChartRsi}]),wijmoChart.directive("wjFlexChartWilliamsR",[function(){return new WjFlexChartWilliamsR}]),wijmoChart.directive("wjFlexChartMacd",[function(){return new WjFlexChartMacd}]),wijmoChart.directive("wjFlexChartMacdHistogram",[function(){return new WjFlexChartMacdHistogram}]),wijmoChart.directive("wjFlexChartStochastic",[function(){return new WjFlexChartStochastic}]),wijmoChart.directive("wjFlexChartBollingerBands",[function(){return new WjFlexChartBollingerBands}]),wijmoChart.directive("wjFlexChartEnvelopes",[function(){return new WjFlexChartEnvelopes}]))),wijmo.chart.analytics&&(wijmoChart.directive("wjFlexChartTrendLine",[function(){return new WjFlexChartTrendLine}]),wijmoChart.directive("wjFlexChartMovingAverage",[function(){return new WjFlexChartMovingAverage}]),wijmoChart.directive("wjFlexChartYFunctionSeries",[function(){return new WjFlexChartYFunctionSeries}]),wijmoChart.directive("wjFlexChartParametricFunctionSeries",[function(){return new WjFlexChartParametricFunctionSeries}]),wijmoChart.directive("wjFlexChartWaterfall",[function(){return new WjFlexChartWaterfall}])),wijmo.chart.animation&&wijmoChart.directive("wjFlexChartAnimation",[function(){return new WjFlexChartAnimation}]));var WjFlexChartBase=function(_super){function WjFlexChartBase(){_super.call(this);this.template="<div ng-transclude />",this.transclude=!0}return __extends(WjFlexChartBase,_super),Object.defineProperty(WjFlexChartBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.FlexChartBase},enumerable:!0,configurable:!0}),WjFlexChartBase.prototype._initProps=function(){_super.prototype._initProps.call(this);var tooltipDesc=angular.MetaFactory.findProp("tooltipContent",this._props);tooltipDesc.customHandler=function(scope,control,value){null!=value&&(control.tooltip.content=value)}},WjFlexChartBase}(angular.WjDirective),WjFlexChartCore=function(_super){function WjFlexChartCore(){_super.apply(this,arguments)}return __extends(WjFlexChartCore,_super),Object.defineProperty(WjFlexChartCore.prototype,"_controlConstructor",{get:function(){return wijmo.chart.FlexChartCore},enumerable:!0,configurable:!0}),WjFlexChartCore.prototype._initProps=function(){_super.prototype._initProps.call(this);var lblContentDesc=angular.MetaFactory.findProp("labelContent",this._props);lblContentDesc.customHandler=function(scope,control,value){null!=value&&(control.dataLabel.content=value)}},WjFlexChartCore}(WjFlexChartBase),WjFlexChart=function(_super){function WjFlexChart(){_super.apply(this,arguments)}return __extends(WjFlexChart,_super),Object.defineProperty(WjFlexChart.prototype,"_controlConstructor",{get:function(){return wijmo.chart.FlexChart},enumerable:!0,configurable:!0}),WjFlexChart}(WjFlexChartCore),WjFlexChartAxis=function(_super){function WjFlexChartAxis(){_super.call(this),this.require=["?^wjFlexChartSeries","?^wjFinancialChartSeries","?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjFlexChartAxis" />'}return __extends(WjFlexChartAxis,_super),Object.defineProperty(WjFlexChartAxis.prototype,"_controlConstructor",{get:function(){return wijmo.chart.Axis},enumerable:!0,configurable:!0}),WjFlexChartAxis.prototype._initControl=function(){return _super.prototype._initControl.call(this,void 0)},WjFlexChartAxis}(angular.WjDirective),WjFlexChartLegend=function(_super){function WjFlexChartLegend(){_super.call(this),this.require=["?^wjFlexChart","?^wjFlexPie","?^wjSunburst","?^wjFinancialChart"],this.template="<div />"}return __extends(WjFlexChartLegend,_super),Object.defineProperty(WjFlexChartLegend.prototype,"_controlConstructor",{get:function(){return wijmo.chart.Legend},enumerable:!0,configurable:!0}),WjFlexChartLegend}(angular.WjDirective),WjFlexChartDataLabelBase=function(_super){function WjFlexChartDataLabelBase(){_super.call(this),this.require=["?^wjFlexChart","?^wjFlexPie","?^wjSunburst"],this.template="<div />"}return __extends(WjFlexChartDataLabelBase,_super),Object.defineProperty(WjFlexChartDataLabelBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.DataLabelBase},enumerable:!0,configurable:!0}),WjFlexChartDataLabelBase}(angular.WjDirective),WjFlexChartDataLabel=function(_super){function WjFlexChartDataLabel(){_super.call(this),this.require="^wjFlexChart"}return __extends(WjFlexChartDataLabel,_super),Object.defineProperty(WjFlexChartDataLabel.prototype,"_controlConstructor",{get:function(){return wijmo.chart.DataLabel},enumerable:!0,configurable:!0}),WjFlexChartDataLabel}(WjFlexChartDataLabelBase),WjFlexPieDataLabel=function(_super){function WjFlexPieDataLabel(){_super.call(this),this.require=["^wjFlexPie","?^wjSunburst"]}return __extends(WjFlexPieDataLabel,_super),Object.defineProperty(WjFlexPieDataLabel.prototype,"_controlConstructor",{get:function(){return wijmo.chart.PieDataLabel},enumerable:!0,configurable:!0}),WjFlexPieDataLabel}(WjFlexChartDataLabelBase),WjSeriesBase=function(_super){function WjSeriesBase(){_super.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjSeriesBase" ng-transclude />',this.transclude=!0}return __extends(WjSeriesBase,_super),Object.defineProperty(WjSeriesBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.SeriesBase},enumerable:!0,configurable:!0}),WjSeriesBase.prototype._getId=function(){return"series"},WjSeriesBase}(angular.WjDirective),WjFlexChartSeries=function(_super){function WjFlexChartSeries(){_super.call(this),this.require="^wjFlexChart",this.template='<div class="wjFlexChartSeries" ng-transclude />'}return __extends(WjFlexChartSeries,_super),Object.defineProperty(WjFlexChartSeries.prototype,"_controlConstructor",{get:function(){return wijmo.chart.Series},enumerable:!0,configurable:!0}),WjFlexChartSeries}(WjSeriesBase),WjFlexChartLineMarker=function(_super){function WjFlexChartLineMarker(){_super.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"]}return __extends(WjFlexChartLineMarker,_super),Object.defineProperty(WjFlexChartLineMarker.prototype,"_controlConstructor",{get:function(){return wijmo.chart.LineMarker},enumerable:!0,configurable:!0}),WjFlexChartLineMarker}(angular.WjDirective),WjFlexChartDataPoint=function(_super){function WjFlexChartDataPoint(){_super.call(this),this.require=["?^wjFlexChartAnnotation"]}return __extends(WjFlexChartDataPoint,_super),Object.defineProperty(WjFlexChartDataPoint.prototype,"_controlConstructor",{get:function(){return wijmo.chart.DataPoint},enumerable:!0,configurable:!0}),WjFlexChartDataPoint}(angular.WjDirective),WjFlexChartAnnotationLayer=function(_super){function WjFlexChartAnnotationLayer(){_super.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjFlexChartAnnotationLayer" ng-transclude />',this.transclude=!0}return __extends(WjFlexChartAnnotationLayer,_super),Object.defineProperty(WjFlexChartAnnotationLayer.prototype,"_controlConstructor",{get:function(){return wijmo.chart.annotation.AnnotationLayer},enumerable:!0,configurable:!0}),WjFlexChartAnnotationLayer}(angular.WjDirective),WjFlexChartAnimation=function(_super){function WjFlexChartAnimation(){_super.call(this),this.require=["?^wjFlexChart","?^wjFlexPie","?^wjSunburst","?^wjFinancialChart"]}return __extends(WjFlexChartAnimation,_super),Object.defineProperty(WjFlexChartAnimation.prototype,"_controlConstructor",{get:function(){return wijmo.chart.animation.ChartAnimation},enumerable:!0,configurable:!0}),WjFlexChartAnimation}(angular.WjDirective),WjFlexChartAnnotation=function(_super){function WjFlexChartAnnotation(){_super.call(this),this.require="^wjFlexChartAnnotationLayer",this.template='<div class="wjFlexChartAnnotation" ng-transclude />',this.transclude=!0}return __extends(WjFlexChartAnnotation,_super),WjFlexChartAnnotation.prototype._createLink=function(){return new WjFlexChartAnnotationLink},WjFlexChartAnnotation.prototype._getMetaDataId=function(){return"FlexChartAnnotation"},WjFlexChartAnnotation}(angular.WjDirective),WjFlexChartAnnotationLink=function(_super){function WjFlexChartAnnotationLink(){_super.apply(this,arguments)}return __extends(WjFlexChartAnnotationLink,_super),WjFlexChartAnnotationLink.prototype._initControl=function(){return new wijmo.chart.annotation[this.scope.type]},WjFlexChartAnnotationLink}(angular.WjLink),WjFlexChartRangeSelector=function(_super){function WjFlexChartRangeSelector(){_super.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"]}return __extends(WjFlexChartRangeSelector,_super),Object.defineProperty(WjFlexChartRangeSelector.prototype,"_controlConstructor",{get:function(){return wijmo.chart.interaction.RangeSelector},enumerable:!0,configurable:!0}),WjFlexChartRangeSelector}(angular.WjDirective),WjFlexChartChartGestures=function(_super){function WjFlexChartChartGestures(){_super.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"]}return __extends(WjFlexChartChartGestures,_super),Object.defineProperty(WjFlexChartChartGestures.prototype,"_controlConstructor",{get:function(){return wijmo.chart.interaction.ChartGestures},enumerable:!0,configurable:!0}),WjFlexChartChartGestures}(angular.WjDirective),WjFlexPie=function(_super){function WjFlexPie(){_super.apply(this,arguments)}return __extends(WjFlexPie,_super),Object.defineProperty(WjFlexPie.prototype,"_controlConstructor",{get:function(){return wijmo.chart.FlexPie},enumerable:!0,configurable:!0}),WjFlexPie.prototype._initProps=function(){_super.prototype._initProps.call(this);var lblContentDesc=angular.MetaFactory.findProp("labelContent",this._props);lblContentDesc.customHandler=function(scope,control,value){
null!=value&&(control.dataLabel.content=value)}},WjFlexPie}(WjFlexChartBase),WjSunburst=function(_super){function WjSunburst(){_super.apply(this,arguments)}return __extends(WjSunburst,_super),Object.defineProperty(WjSunburst.prototype,"_controlConstructor",{get:function(){return wijmo.chart.hierarchical.Sunburst},enumerable:!0,configurable:!0}),WjSunburst}(WjFlexPie),WjFinancialChart=function(_super){function WjFinancialChart(){_super.apply(this,arguments)}return __extends(WjFinancialChart,_super),Object.defineProperty(WjFinancialChart.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.FinancialChart},enumerable:!0,configurable:!0}),WjFinancialChart}(WjFlexChartCore),WjFinancialChartSeries=function(_super){function WjFinancialChartSeries(){_super.call(this),this.require="^wjFinancialChart",this.template='<div class="wjFinancialChartSeries" ng-transclude />'}return __extends(WjFinancialChartSeries,_super),Object.defineProperty(WjFinancialChartSeries.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.FinancialSeries},enumerable:!0,configurable:!0}),WjFinancialChartSeries}(WjSeriesBase),WjTrendLineBase=function(_super){function WjTrendLineBase(){_super.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjTrendLineBase" ng-transclude />'}return __extends(WjTrendLineBase,_super),Object.defineProperty(WjTrendLineBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.TrendLineBase},enumerable:!0,configurable:!0}),WjTrendLineBase}(WjSeriesBase),WjFlexChartTrendLine=function(_super){function WjFlexChartTrendLine(){_super.call(this),this.template='<div class="wjTrendLine" ng-transclude />'}return __extends(WjFlexChartTrendLine,_super),Object.defineProperty(WjFlexChartTrendLine.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.TrendLine},enumerable:!0,configurable:!0}),WjFlexChartTrendLine}(WjTrendLineBase),WjFlexChartMovingAverage=function(_super){function WjFlexChartMovingAverage(){_super.call(this),this.template='<div class="wjMovingAverage" ng-transclude />'}return __extends(WjFlexChartMovingAverage,_super),Object.defineProperty(WjFlexChartMovingAverage.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.MovingAverage},enumerable:!0,configurable:!0}),WjFlexChartMovingAverage}(WjTrendLineBase),WjFlexChartYFunctionSeries=function(_super){function WjFlexChartYFunctionSeries(){_super.call(this),this.template='<div class="wjYFunctionSeries" ng-transclude />'}return __extends(WjFlexChartYFunctionSeries,_super),Object.defineProperty(WjFlexChartYFunctionSeries.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.YFunctionSeries},enumerable:!0,configurable:!0}),WjFlexChartYFunctionSeries}(WjTrendLineBase),WjFlexChartParametricFunctionSeries=function(_super){function WjFlexChartParametricFunctionSeries(){_super.call(this),this.template='<div class="wjParametricFunctionSeries" ng-transclude />'}return __extends(WjFlexChartParametricFunctionSeries,_super),Object.defineProperty(WjFlexChartParametricFunctionSeries.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.ParametricFunctionSeries},enumerable:!0,configurable:!0}),WjFlexChartParametricFunctionSeries.prototype._initProps=function(){_super.prototype._initProps.call(this);var funcDesc=angular.MetaFactory.findProp("func",this._props);funcDesc.customHandler=function(scope,control,value){null!=value&&(control.xFunc=value)}},WjFlexChartParametricFunctionSeries}(WjTrendLineBase),WjFlexChartWaterfall=function(_super){function WjFlexChartWaterfall(){_super.call(this),this.require=["?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjWaterfall" ng-transclude />'}return __extends(WjFlexChartWaterfall,_super),Object.defineProperty(WjFlexChartWaterfall.prototype,"_controlConstructor",{get:function(){return wijmo.chart.analytics.Waterfall},enumerable:!0,configurable:!0}),WjFlexChartWaterfall}(WjSeriesBase),WjFlexChartPlotArea=function(_super){function WjFlexChartPlotArea(){_super.call(this),this.require=["?^wjFlexChartPlotArea","?^wjFlexChart","?^wjFinancialChart"],this.template='<div class="wjFlexChartPlotArea" />'}return __extends(WjFlexChartPlotArea,_super),Object.defineProperty(WjFlexChartPlotArea.prototype,"_controlConstructor",{get:function(){return wijmo.chart.PlotArea},enumerable:!0,configurable:!0}),WjFlexChartPlotArea.prototype._initControl=function(){return _super.prototype._initControl.call(this,void 0)},WjFlexChartPlotArea}(angular.WjDirective),WjFlexChartFibonacci=function(_super){function WjFlexChartFibonacci(){_super.call(this),this.require=["?^wjFinancialChart"],this.template='<div class="wjFlexChartFibonacci" ng-transclude />'}return __extends(WjFlexChartFibonacci,_super),Object.defineProperty(WjFlexChartFibonacci.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.Fibonacci},enumerable:!0,configurable:!0}),WjFlexChartFibonacci.prototype._initControl=function(){return _super.prototype._initControl.call(this,void 0)},WjFlexChartFibonacci}(WjSeriesBase),WjFlexChartFibonacciArcs=function(_super){function WjFlexChartFibonacciArcs(){_super.call(this),this.require=["?^wjFinancialChart"],this.template='<div class="wjFlexChartFibonacciArcs" ng-transclude />'}return __extends(WjFlexChartFibonacciArcs,_super),Object.defineProperty(WjFlexChartFibonacciArcs.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.FibonacciArcs},enumerable:!0,configurable:!0}),WjFlexChartFibonacciArcs.prototype._initControl=function(){return _super.prototype._initControl.call(this,void 0)},WjFlexChartFibonacciArcs}(WjSeriesBase),WjFlexChartFibonacciFans=function(_super){function WjFlexChartFibonacciFans(){_super.call(this),this.require=["?^wjFinancialChart"],this.template='<div class="wjFlexChartFibonacciFans" ng-transclude />'}return __extends(WjFlexChartFibonacciFans,_super),Object.defineProperty(WjFlexChartFibonacciFans.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.FibonacciFans},enumerable:!0,configurable:!0}),WjFlexChartFibonacciFans.prototype._initControl=function(){return _super.prototype._initControl.call(this,void 0)},WjFlexChartFibonacciFans}(WjSeriesBase),WjFlexChartFibonacciTimeZones=function(_super){function WjFlexChartFibonacciTimeZones(){_super.call(this),this.require=["?^wjFinancialChart"],this.template='<div class="wjFlexChartFibonacciTimeZones" ng-transclude />'}return __extends(WjFlexChartFibonacciTimeZones,_super),Object.defineProperty(WjFlexChartFibonacciTimeZones.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.FibonacciTimeZones},enumerable:!0,configurable:!0}),WjFlexChartFibonacciTimeZones.prototype._initControl=function(){return _super.prototype._initControl.call(this,void 0)},WjFlexChartFibonacciTimeZones}(WjSeriesBase),WjBaseOverlayIndicator=function(_super){function WjBaseOverlayIndicator(){_super.call(this),this.require="^wjFinancialChart",this.template='<div class="wjBaseOverlayIndicator" ng-transclude />'}return __extends(WjBaseOverlayIndicator,_super),Object.defineProperty(WjBaseOverlayIndicator.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.OverlayIndicatorBase},enumerable:!0,configurable:!0}),WjBaseOverlayIndicator}(WjSeriesBase),WjBaseSingleOverlayIndicator=function(_super){function WjBaseSingleOverlayIndicator(){_super.call(this),this.template='<div class="wjBaseSingleOverlayIndicator" ng-transclude />'}return __extends(WjBaseSingleOverlayIndicator,_super),Object.defineProperty(WjBaseSingleOverlayIndicator.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.SingleOverlayIndicatorBase},enumerable:!0,configurable:!0}),WjBaseSingleOverlayIndicator}(WjBaseOverlayIndicator),WjFlexChartAtr=function(_super){function WjFlexChartAtr(){_super.call(this),this.template='<div class="wjFlexChartAtr" ng-transclude />'}return __extends(WjFlexChartAtr,_super),Object.defineProperty(WjFlexChartAtr.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.ATR},enumerable:!0,configurable:!0}),WjFlexChartAtr}(WjBaseSingleOverlayIndicator),WjFlexChartCci=function(_super){function WjFlexChartCci(){_super.call(this),this.template='<div class="wjFlexChartCci" ng-transclude />'}return __extends(WjFlexChartCci,_super),Object.defineProperty(WjFlexChartCci.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.CCI},enumerable:!0,configurable:!0}),WjFlexChartCci}(WjBaseSingleOverlayIndicator),WjFlexChartRsi=function(_super){function WjFlexChartRsi(){_super.call(this),this.template='<div class="wjFlexChartRsi" ng-transclude />'}return __extends(WjFlexChartRsi,_super),Object.defineProperty(WjFlexChartRsi.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.RSI},enumerable:!0,configurable:!0}),WjFlexChartRsi}(WjBaseSingleOverlayIndicator),WjFlexChartWilliamsR=function(_super){function WjFlexChartWilliamsR(){_super.call(this),this.template='<div class="wjFlexChartWilliamsR" ng-transclude />'}return __extends(WjFlexChartWilliamsR,_super),Object.defineProperty(WjFlexChartWilliamsR.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.WilliamsR},enumerable:!0,configurable:!0}),WjFlexChartWilliamsR}(WjBaseSingleOverlayIndicator),WjFlexChartMacdBase=function(_super){function WjFlexChartMacdBase(){_super.call(this),this.template='<div class="wjFlexChartBaseMacd" ng-transclude />'}return __extends(WjFlexChartMacdBase,_super),Object.defineProperty(WjFlexChartMacdBase.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.MacdBase},enumerable:!0,configurable:!0}),WjFlexChartMacdBase}(WjBaseOverlayIndicator),WjFlexChartMacd=function(_super){function WjFlexChartMacd(){_super.call(this),this.template='<div class="wjFlexChartMacd" ng-transclude />'}return __extends(WjFlexChartMacd,_super),Object.defineProperty(WjFlexChartMacd.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.Macd},enumerable:!0,configurable:!0}),WjFlexChartMacd}(WjFlexChartMacdBase),WjFlexChartMacdHistogram=function(_super){function WjFlexChartMacdHistogram(){_super.call(this),this.template='<div class="wjFlexChartMacdHistogram" ng-transclude />'}return __extends(WjFlexChartMacdHistogram,_super),Object.defineProperty(WjFlexChartMacdHistogram.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.MacdHistogram},enumerable:!0,configurable:!0}),WjFlexChartMacdHistogram}(WjFlexChartMacdBase),WjFlexChartStochastic=function(_super){function WjFlexChartStochastic(){_super.call(this),this.template='<div class="wjFlexChartStochastic" ng-transclude />'}return __extends(WjFlexChartStochastic,_super),Object.defineProperty(WjFlexChartStochastic.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.Stochastic},enumerable:!0,configurable:!0}),WjFlexChartStochastic}(WjBaseOverlayIndicator),WjFlexChartBollingerBands=function(_super){function WjFlexChartBollingerBands(){_super.call(this),this.template='<div class="wjFlexChartBollingerBands" ng-transclude />'}return __extends(WjFlexChartBollingerBands,_super),Object.defineProperty(WjFlexChartBollingerBands.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.BollingerBands},enumerable:!0,configurable:!0}),WjFlexChartBollingerBands}(WjBaseOverlayIndicator),WjFlexChartEnvelopes=function(_super){function WjFlexChartEnvelopes(){_super.call(this),this.template='<div class="wjFlexChartEnvelopes" ng-transclude />'}return __extends(WjFlexChartEnvelopes,_super),Object.defineProperty(WjFlexChartEnvelopes.prototype,"_controlConstructor",{get:function(){return wijmo.chart.finance.analytics.Envelopes},enumerable:!0,configurable:!0}),WjFlexChartEnvelopes}(WjBaseOverlayIndicator)}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;!function(angular){var wijmoGauge=window.angular.module("wj.gauge",[]);wijmo.gauge&&wijmo.gauge.LinearGauge&&(wijmoGauge.directive("wjLinearGauge",[function(){return new WjLinearGauge}]),wijmoGauge.directive("wjBulletGraph",[function(){return new WjBulletGraph}]),wijmoGauge.directive("wjRadialGauge",[function(){return new WjRadialGauge}]),wijmoGauge.directive("wjRange",[function(){return new WjRange}]));var WjGauge=function(_super){function WjGauge(){_super.call(this),this.template="<div ng-transclude />",this.transclude=!0}return __extends(WjGauge,_super),Object.defineProperty(WjGauge.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.Gauge},enumerable:!0,configurable:!0}),WjGauge}(angular.WjDirective),WjLinearGauge=function(_super){function WjLinearGauge(){_super.call(this)}return __extends(WjLinearGauge,_super),Object.defineProperty(WjLinearGauge.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.LinearGauge},enumerable:!0,configurable:!0}),WjLinearGauge}(WjGauge),WjBulletGraph=function(_super){function WjBulletGraph(){_super.call(this)}return __extends(WjBulletGraph,_super),Object.defineProperty(WjBulletGraph.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.BulletGraph},enumerable:!0,configurable:!0}),WjBulletGraph}(WjLinearGauge),WjRadialGauge=function(_super){function WjRadialGauge(){_super.call(this)}return __extends(WjRadialGauge,_super),Object.defineProperty(WjRadialGauge.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.RadialGauge},enumerable:!0,configurable:!0}),WjRadialGauge}(WjGauge),WjRange=function(_super){function WjRange(){_super.call(this),this.require=["?^wjLinearGauge","?^wjRadialGauge","?^wjBulletGraph"],this.template="<div ng-transclude />",this.transclude=!0,this._property="ranges",this._isPropertyArray=!0}return __extends(WjRange,_super),Object.defineProperty(WjRange.prototype,"_controlConstructor",{get:function(){return wijmo.gauge.Range},enumerable:!0,configurable:!0}),WjRange}(angular.WjDirective)}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;!function(angular){var WjFlexGrid,WjFlexGridLink,gridModule,DirectiveCellFactory,_RowHeightUpdateQueue,WjFlexGridColumn,WjFlexGridColumnLink,wijmoGrid=window.angular.module("wj.grid",[]);wijmo.grid&&wijmo.grid.FlexGrid&&(wijmoGrid.directive("wjFlexGrid",["$compile","$interpolate",function($compile,$interpolate){return new WjFlexGrid($compile,$interpolate)}]),wijmoGrid.directive("wjFlexGridColumn",["$compile",function($compile){return new WjFlexGridColumn($compile)}]),wijmoGrid.directive("wjFlexGridCellTemplate",[function(){return new WjFlexGridCellTemplate}]),wijmo.grid.filter&&wijmoGrid.directive("wjFlexGridFilter",[function(){return new WjFlexGridFilter}]),wijmo.grid.grouppanel&&wijmoGrid.directive("wjGroupPanel",[function(){return new WjGroupPanel}]),wijmo.grid.detail&&wijmoGrid.directive("wjFlexGridDetail",["$compile",function($compile){return new WjFlexGridDetail($compile)}]),wijmo.grid.sheet&&(wijmoGrid.directive("wjFlexSheet",["$compile","$interpolate",function($compile,$interpolate){return new WjFlexSheet($compile,$interpolate)}]),wijmoGrid.directive("wjSheet",[function(){return new WjSheet}])),wijmo.grid.multirow&&wijmoGrid.directive("wjMultiRow",["$compile","$interpolate",function($compile,$interpolate){return new WjMultiRow($compile,$interpolate)}])),WjFlexGrid=function(_super){function WjFlexGrid($compile,$interpolate){_super.call(this),this._$compile=$compile,this._$interpolate=$interpolate;this.transclude=!0,this.template="<div ng-transclude />"}return __extends(WjFlexGrid,_super),Object.defineProperty(WjFlexGrid.prototype,"_controlConstructor",{get:function(){return wijmo.grid.FlexGrid},enumerable:!0,configurable:!0}),WjFlexGrid.prototype._createLink=function(){return new WjFlexGridLink},WjFlexGrid.prototype._initProps=function(){var childPathDesc=angular.MetaFactory.findProp("childItemsPath",this._props);childPathDesc.scopeBindingMode="@",childPathDesc.customHandler=function(scope,control,value){if(value&&(value=value.trim(),value&&"["===value[0])){var arr=scope.$parent.$eval(value);return control.childItemsPath=arr,!0}return!1}},WjFlexGrid}(angular.WjDirective),angular.WjFlexGrid=WjFlexGrid,WjFlexGridLink=function(_super){function WjFlexGridLink(){_super.apply(this,arguments)}return __extends(WjFlexGridLink,_super),WjFlexGridLink.prototype._initControl=function(){var grid=_super.prototype._initControl.call(this);return new DirectiveCellFactory(grid,this),grid},WjFlexGridLink}(angular.WjLink),angular.WjFlexGridLink=WjFlexGridLink,gridModule=wijmo.grid&&wijmo.grid.CellFactory,gridModule||(wijmo.grid={},wijmo.grid.CellFactory=function(){}),DirectiveCellFactory=function(_super){function DirectiveCellFactory(grid,gridLink){var templateType,self;if(_super.call(this),this._lastApplyTimeStamp=0,this._noApplyLag=!1,this._startingEditing=!1,this._cellStampCounter=0,this._gridLink=gridLink,this._rowHeightUpdates=new _RowHeightUpdateQueue(this),!DirectiveCellFactory._templateTypes){DirectiveCellFactory._templateTypes=[];for(templateType in CellTemplateType)isNaN(templateType)&&DirectiveCellFactory._templateTypes.push(templateType)}self=this,this._baseCf=grid.cellFactory,grid.cellFactory=this,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtBlur=document.createEvent("HTMLEvents"),this._evtBlur.initEvent("blur",!1,!1),grid.prepareCellForEdit.addHandler(function(){self._noApplyLag=!0}),grid.cellEditEnded.addHandler(function(s,e){(e.range.col<0||!grid.columns[e.range.col][WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType.CellEdit)])&&(self._editChar=null),setTimeout(function(){self._noApplyLag=!1},300)}),grid.beginningEdit.addHandler(function(){self._startingEditing=!0}),grid.hostElement.addEventListener("keydown",function(){self._startingEditing=!1},!0),grid.hostElement.addEventListener("keypress",function(e){var char=e.charCode>32?String.fromCharCode(e.charCode):null;char&&(!grid.activeEditor||self._startingEditing?self._editChar=char:self._editChar&&(self._editChar+=char))},!0)}return __extends(DirectiveCellFactory,_super),DirectiveCellFactory.prototype.updateCell=function(panel,rowIndex,colIndex,cell,rng){var cellStamp,isHierNonGroup,isUpdated,col,templContextProp,templContext,measureAttr,isMeasuring,scopeChanged,cellLink,clonedElement,dispose,replaceFirst,rootEl,lag,closingLag,editEndingEH,rootElement,key,classArr,clStr,i,curPart,clName;this._cellStampCounter=(this._cellStampCounter+1)%1e7,cellStamp=cell[DirectiveCellFactory._cellStampProp]=this._cellStampCounter,cell.style.overflow&&(cell.style.overflow="");var templateType,self=this,grid=panel.grid,editRange=grid.editRange,row=panel.rows[rowIndex],dataItem=row.dataItem,isGridCtx=!1,needCellValue=!1,isEdit=!1,isCvGroup=!1;switch(panel.cellType){case wijmo.grid.CellType.Cell:row instanceof wijmo.grid.GroupRow?(isCvGroup=dataItem instanceof wijmo.collections.CollectionViewGroup,isHierNonGroup=!(isCvGroup||row.hasChildren),colIndex==panel.columns.firstVisibleIndex?templateType=isHierNonGroup?CellTemplateType.Cell:CellTemplateType.GroupHeader:(templateType=isHierNonGroup?CellTemplateType.Cell:CellTemplateType.Group,needCellValue=!0)):editRange&&editRange.row===rowIndex&&editRange.col===colIndex?(templateType=CellTemplateType.CellEdit,needCellValue=isEdit=!0):wijmo.grid.detail&&wijmo.grid.detail.DetailRow&&row instanceof wijmo.grid.detail.DetailRow||(templateType=CellTemplateType.Cell);break;case wijmo.grid.CellType.ColumnHeader:templateType=CellTemplateType.ColumnHeader;break;case wijmo.grid.CellType.RowHeader:templateType=grid.collectionView&&grid.collectionView.currentEditItem===dataItem?CellTemplateType.RowHeaderEdit:CellTemplateType.RowHeader,isGridCtx=!0;break;case wijmo.grid.CellType.TopLeft:templateType=CellTemplateType.TopLeft,isGridCtx=!0}if(isUpdated=!1,null!=templateType&&(col=isCvGroup&&templateType==CellTemplateType.GroupHeader?grid.columns.getColumn(dataItem.groupDescription.propertyName):colIndex>=0&&colIndex<panel.columns.length?panel.columns[colIndex]:null,col&&(templContextProp=WjFlexGridCellTemplate._getTemplContextProp(templateType),templContext=(isGridCtx?grid:col)[templContextProp],templContext||(templateType===CellTemplateType.RowHeaderEdit?(templateType=CellTemplateType.RowHeader,templContextProp=WjFlexGridCellTemplate._getTemplContextProp(templateType),templContext=grid[templContextProp]):(templateType===CellTemplateType.Group||templateType===CellTemplateType.GroupHeader)&&(isCvGroup||(templateType=CellTemplateType.Cell,templContextProp=WjFlexGridCellTemplate._getTemplContextProp(templateType),templContext=col[templContextProp]))),templContext))){var cellValue,tpl=self._getCellTemplate(templContext.cellTemplate),cellStyle=templContext.cellStyle,cellClass=templContext.cellClass,isTpl=!wijmo.isNullOrWhiteSpace(tpl),isStyle=!wijmo.isNullOrWhiteSpace(cellStyle),isClass=!wijmo.isNullOrWhiteSpace(cellClass);if(needCellValue&&(cellValue=panel.getCellData(rowIndex,colIndex,!1)),isTpl){measureAttr=cell.getAttribute(wijmo.grid.FlexGrid._WJS_MEASURE),isMeasuring=measureAttr&&"true"===measureAttr.toLowerCase(),isUpdated=!0,isEdit&&this._baseCf.updateCell(panel,rowIndex,colIndex,cell,rng,!0);var cellContext=cell[templContextProp]||{},isForeignCell=cellContext.column!==col||!cellContext.cellScope||!cellContext.cellScope.$root,cellScope=cellContext.cellScope;isForeignCell&&(this._doDisposeCell(cell),cellContext.cellScope=cellScope=templContext.templLink.scope.$parent.$new(),cellContext.column=col,cell[templContextProp]=cellContext),scopeChanged=cellScope.$row!==row||cellScope.$col!==col||cellScope.$item!==dataItem||cellScope.$value!==cellValue,scopeChanged&&self._initCellScope(cellScope,row,col,dataItem,cellValue),cellLink=templContext.cellLink,cellLink||(cellLink=templContext.cellLink=this._gridLink.directive._$compile('<div style="display:none"'+(isStyle?' ng-style="'+cellStyle+'"':"")+(isClass?' ng-class="'+cellClass+'"':"")+">"+tpl+"</div>")),clonedElement=cellContext.clonedElement,isForeignCell&&(dispose=cellScope.$watch(function(){if(clonedElement&&(dispose(),clonedElement[0].style.display="",panel.cellType===wijmo.grid.CellType.ColumnHeader||panel.cellType===wijmo.grid.CellType.TopLeft)){var clonedStyle=clonedElement[0].style,prevColor=clonedStyle.outlineColor,prevWidth=clonedStyle.outlineWidth;clonedStyle.outlineColor="white",clonedStyle.outlineWidth="0px",setTimeout(function(){clonedStyle.outlineColor=prevColor,clonedStyle.outlineWidth=prevWidth},0)}}),cellContext.clonedElement=clonedElement=cellLink(cellScope,function(){})),isMeasuring&&(clonedElement[0].style.display=""),replaceFirst=!1,isEdit?(rootEl=cell.firstElementChild,rootEl&&(cell.focus(),rootEl.style.display="none")):(replaceFirst=1==cell.childNodes.length,replaceFirst||(cell.textContent="")),replaceFirst?clonedElement[0]!==cell.firstChild&&cell.replaceChild(clonedElement[0],cell.firstChild):cell.appendChild(clonedElement[0]),templContext.cellOverflow&&(cell.style.overflow=templContext.cellOverflow),lag=40,closingLag=10,this._closingApplyTimeOut&&clearTimeout(this._closingApplyTimeOut),self._rowHeightUpdates.add({panel:panel,cell:cell,rng:rng,cellStamp:cellStamp}),isMeasuring||editRange||this._noApplyLag||scopeChanged&&Date.now()-this._lastApplyTimeStamp>lag?(clearTimeout(this._closingApplyTimeOut),cellScope.$root.$$phase||cellScope.$apply(),editRange||isMeasuring||self._rowHeightUpdates.execute(),this._lastApplyTimeStamp=Date.now()):(clearTimeout(this._closingApplyTimeOut),this._closingApplyTimeOut=setTimeout(function(){clearTimeout(this._closingApplyTimeOut),cellScope.$root.$$phase||cellScope.$apply(),self._rowHeightUpdates.execute()},closingLag)),setTimeout(function(){var inputs,i,input,inpSt,inpFocusEh;if(self._updateRowHeight(panel,cell,rng,cellStamp)){if(isEdit)return self._rowHeightUpdates.clear(),grid.refresh(),void grid.startEditing()}else if(isEdit&&!wijmo.contains(clonedElement[0],wijmo.getActiveElement())&&(inputs=clonedElement[0].querySelectorAll("input")))for(i=0;i<inputs.length;i++)if(input=inputs[i],inpSt=window.getComputedStyle(input),"none"!==inpSt.display&&"visible"===inpSt.visibility){inpFocusEh=function(){input.removeEventListener("focus",inpFocusEh),setTimeout(function(){self._editChar&&(input.value=self._editChar,self._editChar=null,wijmo.setSelectionRange(input,input.value.length),input.dispatchEvent(self._evtInput))},50)},input.addEventListener("focus",inpFocusEh),input.focus();break}},0),isEdit?(editEndingEH=function(s,e){var activeElement,dropDowns;grid.cellEditEnding.removeHandler(editEndingEH),activeElement=wijmo.getActiveElement(),activeElement&&activeElement.dispatchEvent(self._evtBlur),cell.focus(),e.cancel||(e.cancel=!0,panel.grid.setCellData(rowIndex,colIndex,cellScope.$value)),dropDowns=cell.querySelectorAll(".wj-dropdown"),[].forEach.call(dropDowns,function(el){var ctrl=wijmo.Control.getControl(el);ctrl&&ctrl instanceof wijmo.input.DropDown&&(ctrl.isDroppedDown=!1)})},grid.cellEditEnding.addHandler(editEndingEH)):this._baseCf.updateCell(panel,rowIndex,colIndex,cell,rng,!1)}}if(isUpdated||(this._doDisposeCell(cell),this._baseCf.updateCell(panel,rowIndex,colIndex,cell,rng)),!isTpl&&(isStyle||isClass)){var cellScopeSt=self._initCellScope({},row,col,dataItem,cellValue),style=isStyle?this._gridLink.scope.$parent.$eval(cellStyle,cellScopeSt):null,classObj=isClass?this._gridLink.scope.$parent.$eval(cellClass,cellScopeSt):null;if(style||classObj){for(rootElement=document.createElement("div");cell.firstChild;)rootElement.appendChild(cell.firstChild);if(cell.appendChild(rootElement),style)for(key in style)rootElement.style[key]=style[key];if(classObj){for(classArr=wijmo.isArray(classObj)?classObj:[classObj],clStr="",i=0;i<classArr.length;i++)if(curPart=classArr[i])if(wijmo.isString(curPart))clStr+=" "+curPart;else for(clName in curPart)curPart[clName]&&(clStr+=" "+clName);rootElement.className=clStr}}}},DirectiveCellFactory.prototype.disposeCell=function(cell){this._doDisposeCell(cell)},DirectiveCellFactory.prototype._doDisposeCell=function(cell){for(var templContextProp,cellContext,ttm=DirectiveCellFactory._templateTypes,i=0;i<ttm.length;i++)templContextProp=WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType[ttm[i]]),cellContext=cell[templContextProp],cellContext&&cellContext.cellScope&&cellContext.cellScope.$root&&(cellContext.cellScope.$destroy(),cell[templContextProp]=null)},DirectiveCellFactory.prototype._updateRowHeight=function(panel,cell,rng,cellStamp){var cellHeight=cell.scrollHeight,panelRows=panel.rows,rowSpan=rng&&rng.rowSpan||1;return cellStamp===cell[DirectiveCellFactory._cellStampProp]&&panelRows.defaultSize*rowSpan<cellHeight&&(panelRows.defaultSize=cellHeight/rowSpan,!0)},DirectiveCellFactory.prototype._initCellScope=function(scope,row,col,dataItem,cellValue){return scope.$row=row,scope.$col=col,scope.$item=dataItem,scope.$value=cellValue,scope},DirectiveCellFactory.prototype._getCellTemplate=function(tpl){return tpl&&(tpl=tpl.replace(/ class\=\"ng\-scope\"( \"ng\-binding\")?/g,""),tpl=tpl.replace(/<span>\s*<\/span>/g,""),tpl=tpl.trim()),tpl},DirectiveCellFactory._cellStampProp="__wjCellStamp",DirectiveCellFactory}(wijmo.grid.CellFactory),_RowHeightUpdateQueue=function(){function _RowHeightUpdateQueue(cellFactory){this._requests=[],this._timeOuts=[],this._cellFactory=cellFactory}return _RowHeightUpdateQueue.prototype.add=function(request){this._requests.push(request)},_RowHeightUpdateQueue.prototype.execute=function(){for(var requests=this._requests;requests.length>0;){var request=this._requests.shift(),self=this,timeOut=function(request){return setTimeout(function(){if(self._cellFactory._updateRowHeight(request.panel,request.cell,request.rng,request.cellStamp))self.clear();else{var toIdx=self._timeOuts.indexOf(timeOut);toIdx>-1&&self._timeOuts.splice(toIdx,1)}},0)}(request);this._timeOuts.push(timeOut)}},_RowHeightUpdateQueue.prototype.clear=function(){this._requests.splice(0,this._requests.length),this._clearTimeouts()},_RowHeightUpdateQueue.prototype._clearTimeouts=function(){for(var timeOuts=this._timeOuts,i=0;i<timeOuts.length;i++)clearTimeout(timeOuts[i]);timeOuts.splice(0,timeOuts.length)},_RowHeightUpdateQueue}(),gridModule||(wijmo.grid=null),WjFlexGridColumn=function(_super){function WjFlexGridColumn($compile){_super.call(this),this._$compile=$compile,this.scope.dataMap+="map",this.scope.dataType+="type",this.require="^wjFlexGrid",this.terminal=!0,angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjFlexGridColumn._colTemplateProp]=tElement[0].innerHTML,'<div class="wjGridColumn"/>'}):(this.transclude=!0,this.template='<div class="wjGridColumn" ng-transclude/>')}return __extends(WjFlexGridColumn,_super),Object.defineProperty(WjFlexGridColumn.prototype,"_controlConstructor",{get:function(){return wijmo.grid.Column},enumerable:!0,configurable:!0}),WjFlexGridColumn.prototype._initControl=function(){return new wijmo.grid.Column},WjFlexGridColumn.prototype._createLink=function(){return new WjFlexGridColumnLink},WjFlexGridColumn._colTemplateProp="$__wjColTemplate",WjFlexGridColumn._colWjLinkProp="$__wjLink",WjFlexGridColumn._cellCtxProp="$_cellCtxProp",WjFlexGridColumn}(angular.WjDirective),WjFlexGridColumnLink=function(_super){function WjFlexGridColumnLink(){_super.apply(this,arguments)}return __extends(WjFlexGridColumnLink,_super),WjFlexGridColumnLink.prototype._initParent=function(){var grid=this.parent.control;grid.autoGenerateColumns&&(grid.autoGenerateColumns=!1,this._safeApply(this.scope,"autoGenerateColumns",!1),grid.columns.clear()),_super.prototype._initParent.call(this);var cellCtxProp=WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType.Cell),cellCtxByTag=this.control[cellCtxProp],cellCtxWoTag=this[WjFlexGridColumn._cellCtxProp];!cellCtxByTag&&cellCtxWoTag&&(this.control[cellCtxProp]=cellCtxWoTag),this.control[WjFlexGridColumn._colWjLinkProp]=this},WjFlexGridColumnLink.prototype._link=function(){var templRoot,childElements,linkScope,i,curTempl,cleanCellTempl,style,ngClass,rootEl=this.tElement[0],dynaTempl=this.tAttrs[WjFlexGridColumn._colTemplateProp],template=null!=dynaTempl?dynaTempl:angular.WjDirective._removeTransclude(rootEl.innerHTML),cellTemplContext={};if(!wijmo.isNullOrWhiteSpace(template)){for(templRoot=document.createElement("div"),templRoot.innerHTML=template,childElements=[],[].forEach.call(templRoot.children,function(value){childElements.push(value)}),i=0;i<childElements.length;i++)curTempl=childElements[i],curTempl.tagName.toLocaleLowerCase()===WjFlexGridCellTemplate._tagName&&(linkScope||(linkScope=this.scope.$parent.$new()),templRoot.removeChild(curTempl),rootEl.appendChild(curTempl),this.directive._$compile(curTempl)(linkScope));cleanCellTempl=templRoot.innerHTML,wijmo.isNullOrWhiteSpace(cleanCellTempl)||(cellTemplContext.cellTemplate=cleanCellTempl)}style=this.tAttrs.ngStyle,ngClass=this.tAttrs.ngClass,style&&(cellTemplContext.cellStyle=style),ngClass&&(cellTemplContext.cellClass=ngClass),(cellTemplContext.cellTemplate||cellTemplContext.cellStyle||cellTemplContext.cellClass)&&(cellTemplContext.templLink=this,this[WjFlexGridColumn._cellCtxProp]=cellTemplContext),_super.prototype._link.call(this)},WjFlexGridColumnLink}(angular.WjLink),function(CellTemplateType){CellTemplateType[CellTemplateType.Cell=0]="Cell",CellTemplateType[CellTemplateType.CellEdit=1]="CellEdit",CellTemplateType[CellTemplateType.ColumnHeader=2]="ColumnHeader",
CellTemplateType[CellTemplateType.RowHeader=3]="RowHeader",CellTemplateType[CellTemplateType.RowHeaderEdit=4]="RowHeaderEdit",CellTemplateType[CellTemplateType.TopLeft=5]="TopLeft",CellTemplateType[CellTemplateType.GroupHeader=6]="GroupHeader",CellTemplateType[CellTemplateType.Group=7]="Group"}(angular.CellTemplateType||(angular.CellTemplateType={}));var CellTemplateType=angular.CellTemplateType,WjFlexGridCellTemplate=function(_super){function WjFlexGridCellTemplate(){_super.call(this),this.require=["?^wjFlexGridColumn","?^wjFlexGrid"],this.terminal=!0,angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjFlexGridColumn._colTemplateProp]=tElement[0].innerHTML,"<div />"}):(this.transclude=!0,this.template="<div ng-transclude/>")}return __extends(WjFlexGridCellTemplate,_super),WjFlexGridCellTemplate._getTemplContextProp=function(templateType){return"$__cellTempl"+CellTemplateType[templateType]},WjFlexGridCellTemplate.prototype._initControl=function(){return{}},WjFlexGridCellTemplate.prototype._createLink=function(){return new WjFlexGridCellTemplateLink},WjFlexGridCellTemplate.prototype._getMetaDataId=function(){return"FlexGridCellTemplate"},WjFlexGridCellTemplate._tagName="wj-flex-grid-cell-template",WjFlexGridCellTemplate}(angular.WjDirective),WjFlexGridCellTemplateLink=function(_super){function WjFlexGridCellTemplateLink(){_super.apply(this,arguments)}return __extends(WjFlexGridCellTemplateLink,_super),WjFlexGridCellTemplateLink.prototype._initParent=function(){var cts,cellType,style,ngClass;if(_super.prototype._initParent.call(this),cts=this.scope.cellType){cellType=CellTemplateType[cts];var dynaTempl=this.tAttrs[WjFlexGridColumn._colTemplateProp],template=null!=dynaTempl?dynaTempl:angular.WjDirective._removeTransclude(this.tElement[0].innerHTML),control=this.control;wijmo.isNullOrWhiteSpace(template)||(control.cellTemplate=template),style=this.tAttrs.ngStyle,ngClass=this.tAttrs.ngClass,style&&(control.cellStyle=style),ngClass&&(control.cellClass=ngClass),(control.cellTemplate||control.cellStyle||control.cellClass)&&(control.templLink=this,this.parent.control[WjFlexGridCellTemplate._getTemplContextProp(cellType)]=control),WjFlexGridCellTemplateLink._invalidateGrid(this.parent.control)}},WjFlexGridCellTemplateLink.prototype._destroy=function(){var parentControl=this.parent&&this.parent.control,cts=this.scope.cellType;_super.prototype._destroy.call(this),cts&&(parentControl[WjFlexGridCellTemplate._getTemplContextProp(CellTemplateType[cts])]=void 0,WjFlexGridCellTemplateLink._invalidateGrid(parentControl))},WjFlexGridCellTemplateLink._invalidateGrid=function(parentControl){var grid=parentControl;grid&&(grid instanceof wijmo.grid.Column&&(grid=grid.grid),grid&&grid.invalidate())},WjFlexGridCellTemplateLink}(angular.WjLink),WjFlexGridFilter=function(_super){function WjFlexGridFilter(){_super.call(this),this.require="^wjFlexGrid",this.template="<div />"}return __extends(WjFlexGridFilter,_super),Object.defineProperty(WjFlexGridFilter.prototype,"_controlConstructor",{get:function(){return wijmo.grid.filter.FlexGridFilter},enumerable:!0,configurable:!0}),WjFlexGridFilter}(angular.WjDirective),WjGroupPanel=function(_super){function WjGroupPanel(){_super.apply(this,arguments)}return __extends(WjGroupPanel,_super),Object.defineProperty(WjGroupPanel.prototype,"_controlConstructor",{get:function(){return wijmo.grid.grouppanel.GroupPanel},enumerable:!0,configurable:!0}),WjGroupPanel}(angular.WjDirective),WjFlexGridDetail=function(_super){function WjFlexGridDetail($compile){_super.call(this),this._$compile=$compile,this.require="^wjFlexGrid",this.terminal=!0,angular.WjDirective._dynaTemplates?(this.transclude=!1,this.priority=100,this.template=function(tElement,tAttrs){return tAttrs[WjFlexGridDetail._detailTemplateProp]=tElement[0].innerHTML,"<div />"}):(this.transclude=!0,this.template="<div ng-transclude/>")}return __extends(WjFlexGridDetail,_super),Object.defineProperty(WjFlexGridDetail.prototype,"_controlConstructor",{get:function(){return wijmo.grid.detail.FlexGridDetailProvider},enumerable:!0,configurable:!0}),WjFlexGridDetail.prototype._createLink=function(){return new WjFlexGridDetailLink},WjFlexGridDetail._detailTemplateProp="$__wjDetailTemplate",WjFlexGridDetail._detailScopeProp="$_detailScope",WjFlexGridDetail}(angular.WjDirective),WjFlexGridDetailLink=function(_super){function WjFlexGridDetailLink(){_super.apply(this,arguments)}return __extends(WjFlexGridDetailLink,_super),WjFlexGridDetailLink.prototype._initParent=function(){var tpl;_super.prototype._initParent.call(this);var self=this,dynaTempl=this.tAttrs[WjFlexGridDetail._detailTemplateProp],dp=this.control;this.itemTemplate=this._getCellTemplate(null!=dynaTempl?dynaTempl:angular.WjDirective._removeTransclude(this.tElement[0].innerHTML)),tpl=this._getCellTemplate(this.itemTemplate),this._tmplLink=this.directive._$compile("<div>"+tpl+"</div>"),dp.createDetailCell=function(row,col){var cellScope=self._getCellScope(self.scope.$parent,row,col),clonedElement=self._tmplLink(cellScope,function(){})[0];return dp.grid.hostElement.appendChild(clonedElement),cellScope.$root.$$phase||cellScope.$apply(),clonedElement.parentElement.removeChild(clonedElement),clonedElement},dp.disposeDetailCell=function(row){row.detail&&window.angular.element(row.detail).scope().$destroy()},this.parent._isInitialized&&this.control&&this.control.invalidate()},WjFlexGridDetailLink.prototype._destroy=function(){var ownerControl=this.parent&&this.parent.control,dp=this.control;dp.createDetailCell=null,dp.disposeDetailCell=null,_super.prototype._destroy.call(this),this._tmplLink=null,ownerControl&&ownerControl.invalidate()},WjFlexGridDetailLink.prototype._getCellScope=function(parentScope,row,col){var ret=parentScope.$new();return ret.$row=row,ret.$col=col,ret.$item=row.dataItem,ret},WjFlexGridDetailLink.prototype._getCellTemplate=function(tpl){return tpl&&(tpl=tpl.replace(/ng\-style/g,"style"),tpl=tpl.replace(/ class\=\"ng\-scope\"( \"ng\-binding\")?/g,""),tpl=tpl.replace(/<span>\s*<\/span>/g,"")),tpl},WjFlexGridDetailLink}(angular.WjLink),WjFlexSheet=function(_super){function WjFlexSheet($compile,$interpolate){_super.call(this,$compile,$interpolate)}return __extends(WjFlexSheet,_super),Object.defineProperty(WjFlexSheet.prototype,"_controlConstructor",{get:function(){return wijmo.grid.sheet.FlexSheet},enumerable:!0,configurable:!0}),WjFlexSheet}(WjFlexGrid),WjSheet=function(_super){function WjSheet(){_super.call(this),this.require="^wjFlexSheet"}return __extends(WjSheet,_super),Object.defineProperty(WjSheet.prototype,"_controlConstructor",{get:function(){return wijmo.grid.sheet.Sheet},enumerable:!0,configurable:!0}),WjSheet.prototype._createLink=function(){return new WjSheetLink},WjSheet}(angular.WjDirective),WjSheetLink=function(_super){function WjSheetLink(){_super.apply(this,arguments)}return __extends(WjSheetLink,_super),WjSheetLink.prototype._initControl=function(){var sheet=_super.prototype._initControl.call(this),scope=this.scope,flexSheet=this.parent.control;return sheet.name=scope.name,scope.itemsSource?sheet.itemsSource=scope.itemsSource:(sheet.rowCount=+scope.rowCount,sheet.columnCount=+scope.columnCount),flexSheet.sheets.push(sheet),sheet},WjSheetLink}(angular.WjLink),WjMultiRow=function(_super){function WjMultiRow($compile,$interpolate){_super.call(this,$compile,$interpolate)}return __extends(WjMultiRow,_super),Object.defineProperty(WjMultiRow.prototype,"_controlConstructor",{get:function(){return wijmo.grid.multirow.MultiRow},enumerable:!0,configurable:!0}),WjMultiRow}(WjFlexGrid)}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)},function(wijmo){var angular;!function(angular){var WjPivotGrid,WjPivotChart,WjPivotPanel,wijmoOlap=window.angular.module("wj.olap",["wj.grid","wj.chart"]);wijmo.olap&&wijmo.olap.PivotGrid&&(wijmoOlap.directive("wjPivotGrid",["$compile","$interpolate",function($compile,$interpolate){return new WjPivotGrid($compile,$interpolate)}]),wijmoOlap.directive("wjPivotChart",[function(){return new WjPivotChart}]),wijmoOlap.directive("wjPivotPanel",[function(){return new WjPivotPanel}])),WjPivotGrid=function(_super){function WjPivotGrid($compile,$interpolate){_super.call(this,$compile,$interpolate)}return __extends(WjPivotGrid,_super),Object.defineProperty(WjPivotGrid.prototype,"_controlConstructor",{get:function(){return wijmo.olap.PivotGrid},enumerable:!0,configurable:!0}),WjPivotGrid}(angular.WjFlexGrid),angular.WjPivotGrid=WjPivotGrid,WjPivotChart=function(_super){function WjPivotChart(){_super.apply(this,arguments)}return __extends(WjPivotChart,_super),Object.defineProperty(WjPivotChart.prototype,"_controlConstructor",{get:function(){return wijmo.olap.PivotChart},enumerable:!0,configurable:!0}),WjPivotChart}(angular.WjDirective),angular.WjPivotChart=WjPivotChart,WjPivotPanel=function(_super){function WjPivotPanel(){_super.call(this),this.transclude=!0,this.template="<div ng-transclude />"}return __extends(WjPivotPanel,_super),Object.defineProperty(WjPivotPanel.prototype,"_controlConstructor",{get:function(){return wijmo.olap.PivotPanel},enumerable:!0,configurable:!0}),WjPivotPanel}(angular.WjDirective),angular.WjPivotPanel=WjPivotPanel}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={})),function(wijmo){var angular;!function(){window.angular.module("wj",["wj.input","wj.grid","wj.chart","wj.container","wj.gauge","wj.olap"])}(angular=wijmo.angular||(wijmo.angular={}))}(wijmo||(wijmo={}));var __extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},wijmo;wijmo.culture.FlexGrid={groupHeaderFormat:"{name}: <b>{value} </b>({count:n0} items)"},function(n){var t;!function(t){"use strict";!function(n){n[n.None=0]="None",n[n.Column=1]="Column",n[n.Row=2]="Row",n[n.All=3]="All"}(t.HeadersVisibility||(t.HeadersVisibility={}));var i=t.HeadersVisibility,r=function(r){function u(u,f){var s,h,o,e=this;r.call(this,u,null,!0),this._szClient=new n.Size(0,0),this._ptScrl=new n.Point(0,0),this._rtl=!1,this._cellPadding=3,this._autoGenCols=!0,this._autoClipboard=!0,this._readOnly=!1,this._indent=14,this._autoSizeMode=t.AutoSizeMode.Both,this._hdrVis=i.All,this._alSorting=!0,this._alAddNew=!1,this._alDelete=!1,this._alResizing=t.AllowResizing.Columns,this._alDragging=t.AllowDragging.Columns,this._alMerging=t.AllowMerging.None,this._ssHdr=i.None,this._shSort=!0,this._shGroups=!0,this._shAlt=!0,this._deferResizing=!1,this._pSel=!0,this._pOutline=!0,this.itemsSourceChanged=new n.Event,this.scrollPositionChanged=new n.Event,this.selectionChanging=new n.Event,this.selectionChanged=new n.Event,this.loadingRows=new n.Event,this.loadedRows=new n.Event,this.updatingLayout=new n.Event,this.updatedLayout=new n.Event,this.resizingColumn=new n.Event,this.resizedColumn=new n.Event,this.autoSizingColumn=new n.Event,this.autoSizedColumn=new n.Event,this.draggingColumn=new n.Event,this.draggedColumn=new n.Event,this.resizingRow=new n.Event,this.resizedRow=new n.Event,this.autoSizingRow=new n.Event,this.autoSizedRow=new n.Event,this.draggingRow=new n.Event,this.draggedRow=new n.Event,this.groupCollapsedChanging=new n.Event,this.groupCollapsedChanged=new n.Event,this.sortingColumn=new n.Event,this.sortedColumn=new n.Event,this.beginningEdit=new n.Event,this.prepareCellForEdit=new n.Event,this.cellEditEnding=new n.Event,this.cellEditEnded=new n.Event,this.rowEditEnding=new n.Event,this.rowEditEnded=new n.Event,this.rowAdded=new n.Event,this.deletingRow=new n.Event,this.deletedRow=new n.Event,this.copying=new n.Event,this.copied=new n.Event,this.pasting=new n.Event,this.pasted=new n.Event,this.pastingCell=new n.Event,this.pastedCell=new n.Event,this.formatItem=new n.Event,this.updatingView=new n.Event,this.updatedView=new n.Event,this._mappedColumns=null,s=this.hostElement,n.isIE()&&(s.style.borderRadius="0px"),h=this.getTemplate(),this.applyTemplate("wj-control wj-flexgrid wj-content",h,{_root:"root",_eSz:"sz",_eCt:"cells",_eTL:"tl",_eCHdr:"ch",_eRHdr:"rh",_eTLCt:"tlcells",_eCHdrCt:"chcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),o=this._getDefaultRowHeight(),this.deferUpdate(function(){e._rows=new t.RowCollection(e,o),e._cols=new t.ColumnCollection(e,4*o),e._hdrRows=new t.RowCollection(e,o),e._hdrCols=new t.ColumnCollection(e,Math.round(1.25*o)),e._gpCells=new t.GridPanel(e,t.CellType.Cell,e._rows,e._cols,e._eCt),e._gpCHdr=new t.GridPanel(e,t.CellType.ColumnHeader,e._hdrRows,e._cols,e._eCHdrCt),e._gpRHdr=new t.GridPanel(e,t.CellType.RowHeader,e._rows,e._hdrCols,e._eRHdrCt),e._gpTL=new t.GridPanel(e,t.CellType.TopLeft,e._hdrRows,e._hdrCols,e._eTLCt),e._hdrRows.push(new t.Row),e._hdrCols.push(new t.Column),e._hdrCols[0].align="center",e._cf=new t.CellFactory,e._keyHdl=new t._KeyboardHandler(e),e._mouseHdl=new t._MouseHandler(e),e._edtHdl=new t._EditHandler(e),e._selHdl=new t._SelectionHandler(e),e._addHdl=new t._AddNewHandler(e),e._mrgMgr=new t.MergeManager(e),e._bndSortConverter=e._sortConverter.bind(e),e.initialize(f)}),this.addEventListener(this._root,"scroll",function(){e._updateScrollPosition()&&(e._afScrl&&cancelAnimationFrame(e._afScrl),e._afScrl=requestAnimationFrame(function(){e.finishEditing(),e._updateContent(!0),e._afScrl=null}))})}return __extends(u,r),u.prototype._handleResize=function(){r.prototype._handleResize.call(this),this._rcBounds=null},Object.defineProperty(u.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(t){t!=this._hdrVis&&(this._hdrVis=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(t){var i=this;t!=this._stickyHdr&&(this._stickyHdr=n.asBoolean(t),this._updateStickyHeaders(),this.removeEventListener(window,"scroll"),this._stickyHdr&&this.addEventListener(window,"scroll",function(t){n.contains(t.target,i.hostElement)&&(i._toSticky&&cancelAnimationFrame(i._toSticky),i._toSticky=requestAnimationFrame(function(){var t=new n.CancelEventArgs;i.onUpdatingLayout(t)&&(i._updateStickyHeaders(),i.onUpdatedLayout(t)),i._toSticky=null}))},!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(t){this._pSel=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(t){this._pOutline=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(t){this._autoGenCols=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(t){this._autoClipboard=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnLayout",{get:function(){for(var c,o,r,i,f,s=u._getSerializableProperties(t.Column),l=new t.Column,h=[],e=0;e<this.columns.length;e++){for(c=this.columns[e],o={},r=0;r<s.length;r++)i=s[r],f=c[i],f!=l[i]&&n.isPrimitive(f)&&"size"!=i&&(o[i]=f);h.push(o)}return JSON.stringify({columns:h})},set:function(t){var i=JSON.parse(n.asString(t));if(!i||null==i.columns)throw"Invalid columnLayout data.";this.columns.clear(),this.initialize(i)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=n.asBoolean(t),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(n){n!=this.imeEnabled&&(this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),n&&(this._imeHdl=new t._ImeHandler(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(i){this._alResizing=n.asEnum(i,t.AllowResizing)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(t){this._deferResizing=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(i){this._autoSizeMode=n.asEnum(i,t.AutoSizeMode)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(t){this._alSorting=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(t){t!=this._alAddNew&&(this._alAddNew=n.asBoolean(t),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(t){t!=this._alDelete&&(this._alDelete=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(i){i!=this._alMerging&&(this._alMerging=n.asEnum(i,t.AllowMerging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(t){t!=this._ssHdr&&(this._ssHdr=n.asEnum(t,i),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showMarquee",{get:function(){return!this._eMarquee.style.display},set:function(t){if(t!=this.showMarquee){var i=this._eMarquee.style;i.visibility="collapse",i.display=n.asBoolean(t)?"":"none",this.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSort",{get:function(){return this._shSort},set:function(t){t!=this._shSort&&(this._shSort=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showGroups",{get:function(){return this._shGroups},set:function(t){t!=this._shGroups&&(this._shGroups=n.asBoolean(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showAlternatingRows",{get:function(){return this._shAlt},set:function(t){t!=this._shAlt&&(this._shAlt=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(t){t!=this._gHdrFmt&&(this._gHdrFmt=n.asString(t),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(i){i!=this._alDragging&&(this._alDragging=n.asEnum(i,t.AllowDragging),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemsSource",{get:function(){return this._items},set:function(t){var i;t!=this._items&&(this._cv&&(i=n.tryCast(this._cv,n.collections.CollectionView),i&&i.sortConverter==this._bndSortConverter&&(i.sortConverter=null),this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=this._getCollectionView(t),this._lastCount=0,this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this),i=n.tryCast(this._cv,n.collections.CollectionView),i&&!i.sortConverter&&(i.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this.onItemsSourceChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(t){t!=this._childItemsPath&&(n.assert(null==t||n.isArray(t)||n.isString(t),"childItemsPath should be an array or a string."),this._childItemsPath=t,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(n){this.rows.frozen=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(n){this.columns.frozen=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(t){t!=this._sortRowIndex&&(this._sortRowIndex=n.asNumber(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(n){var t=this._root,i=-n.x;if(this._rtl)switch(u._getRtlMode()){case"rev":i=t.scrollWidth-t.clientWidth+n.x;break;case"neg":i=n.x;break;default:i=-n.x}t.scrollLeft=i,t.scrollTop=-n.y},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=n.getElementRect(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scrollSize",{get:function(){return new n.Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cellFactory",{get:function(){return this._cf},set:function(i){i!=this._cf&&(this._cf=n.asType(i,t.CellFactory,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.getCellData=function(n,t,i){return this.cells.getCellData(n,t,i)},u.prototype.getCellBoundingRect=function(n,t,i){return this.cells.getCellBoundingRect(n,t,i)},u.prototype.setCellData=function(n,t,i,r,u){return void 0===r&&(r=!0),void 0===u&&(u=!0),this.cells.setCellData(n,t,i,r,u)},u.prototype.hitTest=function(i,r){return n.isNumber(i)&&n.isNumber(r)&&(i=new n.Point(i,r)),new t.HitTestInfo(this,i)},u.prototype.getClipString=function(i){var r,u,e,f="",s=!0,o=!0;for(i=i?n.asType(i,t.CellRange):this.selection,r=i.topRow;r<=i.bottomRow;r++)if(this.rows[r].isVisible)for(s||(f+="\n"),s=!1,u=i.leftCol,o=!0;u<=i.rightCol;u++)this.columns[u].isVisible&&(o||(f+="\t"),o=!1,e=this.cells.getCellData(r,u,!0).toString(),e=e.replace(/\t/g," "),f+=e);return f},u.prototype.setClipString=function(i,r){var e,o,c,u,s,v=null==r;r=r?n.asType(r,t.CellRange):this.selection,i=n.asString(i).replace(/\r\n/g,"\n").replace(/\r/g,"\n"),i&&"\n"==i[i.length-1]&&(i=i.substring(0,i.length-1)),v&&!r.isSingleCell&&(i=this._expandClipString(i,r)),e=new t.CellRange(r.topRow,r.leftCol),this.beginUpdate();var h,f=r.topRow,l=i.split("\n"),a=!1;for(o=0;o<l.length&&f<this.rows.length;o++,f++)if(this.rows[f].isVisible)for(c=l[o].split("\t"),u=r.leftCol,s=0;s<c.length&&u<this.columns.length;s++,u++)this.columns[u].isVisible?this.columns[u].isReadOnly||this.rows[f].isReadOnly||(h=new t.CellRangeEventArgs(this.cells,new t.CellRange(f,u),c[s]),this.onPastingCell(h)&&this.cells.setCellData(f,u,h.data)&&(this.onPastedCell(h),a=!0),e.row2=Math.max(e.row2,f),e.col2=Math.max(e.col2,u)):s--;else o--;this.endUpdate(),this.collectionView&&a&&this.collectionView.refresh(),this.select(e)},u.prototype._expandClipString=function(n,t){var s,r,u,i,f;if(!n)return n;var h=n.split("\n"),o=h.length,e=0,c=[];for(i=0;i<o;i++){if(s=h[i].split("\t"),c.push(s),i>1&&s.length!=e)return n;e=s.length}if(r=t.rowSpan,u=t.columnSpan,(r>1||u>1)&&(1==r&&(r=o),1==u&&(u=e),u%e==0&&r%o==0))for(n="",i=0;i<r;i++)for(f=0;f<u;f++)i>0&&0==f&&(n+="\n"),f>0&&(n+="\t"),n+=c[i%o][f%e];return n},u.prototype.focus=function(){var t,i;if(this.activeEditor)return void this.activeEditor.focus();if(n.getActiveElement()!=this._eFocus){if(t=this.hostElement.getBoundingClientRect(),t.bottom>0&&t.right>0&&t.top<innerHeight&&t.left<innerWidth)return n.setCss(this._eFocus,{top:Math.max(0,-t.top),left:Math.max(0,-t.left)}),void this._eFocus.focus();if(i=this.cells.hostElement.querySelector(".wj-cell.wj-state-selected"))return void i.focus();r.prototype.focus.call(this)}},u.prototype.containsFocus=function(){var n=this._edtHdl._lbx;return r.prototype.containsFocus.call(this)||n&&n.containsFocus()},u.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,this._afScrl&&cancelAnimationFrame(this._afScrl),r.prototype.dispose.call(this)},u.prototype.refresh=function(n){void 0===n&&(n=!0),r.prototype.refresh.call(this,n),this.finishEditing(),n&&(this._updateColumnTypes(),this.scrollPosition=this._ptScrl),this.refreshCells(n)},u.prototype.refreshCells=function(n,t,i){this.isUpdating||(n?this._updateLayout():this._updateContent(t,i))},u.prototype.autoSizeColumn=function(n,t,i){void 0===t&&(t=!1),void 0===i&&(i=4),this.autoSizeColumns(n,n,t,i)},u.prototype.autoSizeColumns=function(i,r,f,e){var h=this;void 0===f&&(f=!1),void 0===e&&(e=4);var a,v,s=0,l=f?this.topLeftCells:this.columnHeaders,o=f?this.rowHeaders:this.cells,c=this.viewRange;i=null==i?0:n.asInt(i),r=null==r?o.columns.length-1:n.asInt(r),n.asBoolean(f),n.asNumber(e),c.row=Math.max(0,c.row-1e3),c.row2=Math.min(c.row2+1e3,this.rows.length-1),this.deferUpdate(function(){var y,n,w,p=document.createElement("div");for(p.setAttribute(u._WJS_MEASURE,"true"),p.style.visibility="hidden",h.hostElement.appendChild(p),y=i;y<=r&&y>-1&&y<o.columns.length;y++){if(s=0,h.autoSizeMode&t.AutoSizeMode.Headers)for(n=0;n<l.rows.length;n++)l.rows[n].isVisible&&(w=h._getDesiredWidth(l,n,y,p),s=Math.max(s,w));if(h.autoSizeMode&t.AutoSizeMode.Cells)for(v=null,n=c.row;n<=c.row2&&n>-1&&n<o.rows.length;n++)o.rows[n].isVisible&&(!f&&y==o.columns.firstVisibleIndex&&o.rows.maxGroupLevel>-1?(w=h._getDesiredWidth(o,n,y,p),s=Math.max(s,w)):(a=o.getCellData(n,y,!0),a!=v&&(v=a,w=h._getDesiredWidth(o,n,y,p),s=Math.max(s,w))));o.columns[y].width=s+e+2}h.hostElement.removeChild(p)})},u.prototype.autoSizeRow=function(n,t,i){void 0===t&&(t=!1),void 0===i&&(i=0),this.autoSizeRows(n,n,t,i)},u.prototype.autoSizeRows=function(i,r,f,e){var o=this;void 0===f&&(f=!1),void 0===e&&(e=0);var s=0,c=f?this.topLeftCells:this.rowHeaders,h=f?this.columnHeaders:this.cells;f=n.asBoolean(f),e=n.asNumber(e),i=null==i?0:n.asInt(i),r=null==r?h.rows.length-1:n.asInt(r),this.deferUpdate(function(){var f,n,a,l=document.createElement("div");for(l.setAttribute(u._WJS_MEASURE,"true"),l.style.visibility="hidden",o.hostElement.appendChild(l),f=i;f<=r&&f>-1&&f<h.rows.length;f++){if(s=0,o.autoSizeMode&t.AutoSizeMode.Headers)for(n=0;n<c.columns.length;n++)c.columns[n].renderSize>0&&(a=o._getDesiredHeight(c,f,n,l),s=Math.max(s,a));if(o.autoSizeMode&t.AutoSizeMode.Cells)for(n=0;n<h.columns.length;n++)h.columns[n].renderSize>0&&(a=o._getDesiredHeight(h,f,n,l),s=Math.max(s,a));h.rows[f].height=s+e}o.hostElement.removeChild(l)})},Object.defineProperty(u.prototype,"treeIndent",{get:function(){return this._indent},set:function(t){t!=this._indent&&(this._indent=n.asNumber(t,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),u.prototype.collapseGroupsToLevel=function(i){if(this.finishEditing()){var r=this.rows;r.deferUpdate(function(){for(var f,u=0;u<r.length;u++)f=n.tryCast(r[u],t.GroupRow),f&&(f.isCollapsed=f.level>=i)})}},Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(i){i!=this.selectionMode&&(this._selHdl.selectionMode=n.asEnum(i,t.SelectionMode),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(n){this._selHdl.selection=n},enumerable:!0,configurable:!0}),u.prototype.select=function(n,t){void 0===t&&(t=!0),this._selHdl.select(n,t)},u.prototype.getSelectedState=function(n,t){return this.cells.getSelectedState(n,t,null)},Object.defineProperty(u.prototype,"selectedRows",{get:function(){var r,n,i=[];if(this.selectionMode==t.SelectionMode.ListBox)for(n=0;n<this.rows.length;n++)this.rows[n].isSelected&&i.push(this.rows[n]);else if(this.rows.length)for(r=this.selection,n=r.topRow;n>-1&&n<=r.bottomRow;n++)i.push(this.rows[n]);return i},set:function(i){var r=this;n.assert(this.selectionMode==t.SelectionMode.ListBox,"This property can be set only in ListBox mode."),i=n.asArray(i),this.deferUpdate(function(){for(var u,f,n=0,t=!0;n<r.rows.length;n++)u=r.rows[n],f=i&&i.indexOf(u)>-1,f&&t&&(t=!1,r.select(n,r.selection.col)),u.isSelected=f})},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectedItems",{get:function(){for(var n=this.selectedRows,t=0;t<n.length;t++)n[t]=n[t].dataItem;return n},set:function(i){var r=this;n.assert(this.selectionMode==t.SelectionMode.ListBox,"This property can be set only in ListBox mode."),i=n.asArray(i),this.deferUpdate(function(){for(var u,f,n=0,t=!0;n<r.rows.length;n++)u=r.rows[n],f=i&&i.indexOf(u.dataItem)>-1,f&&t&&(t=!1,r.select(n,r.selection.col)),u.isSelected=f})},enumerable:!0,configurable:!0}),u.prototype.scrollIntoView=function(t,i){var u,h;null==this._maxOffsetY&&this._updateLayout();var r=this.scrollPosition,c=this._szClient.width,f=this._szClient.height,e=this.cells._getFrozenPos();if(t=n.asInt(t),t>-1&&t<this._rows.length&&t>=this._rows.frozen){var s=this._rows[t],a=this.cells.height>f?Math.round(s.pos/(this.cells.height-f)*100)/100:0,v=Math.round(this._maxOffsetY*a),o=s.pos-v,l=o+s.renderSize-1;l>f-r.y&&(r.y=Math.max(-o,f-l)),o-e.y<-r.y&&(r.y=-(o-e.y))}return i=n.asInt(i),i>-1&&i<this._cols.length&&i>=this._cols.frozen&&(u=this._cols[i],h=u.pos+u.renderSize-1,h>-r.x+c&&(r.x=Math.max(-u.pos,c-h)),u.pos-e.x<-r.x&&(r.x=-(u.pos-e.x))),!r.equals(this.scrollPosition)&&(this.scrollPosition=r,!0)},u.prototype.isRangeValid=function(n){return n.isValid&&n.bottomRow<this.rows.length&&n.rightCol<this.columns.length},u.prototype.startEditing=function(n,t,i,r){return void 0===n&&(n=!0),this._edtHdl.startEditing(n,t,i,r)},u.prototype.finishEditing=function(n){return void 0===n&&(n=!1),this._edtHdl.finishEditing(n)},Object.defineProperty(u.prototype,"activeEditor",{get:function(){return this._edtHdl.activeEditor},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editRange",{get:function(){return this._edtHdl.editRange},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(i){i!=this._mrgMgr&&(this._mrgMgr=n.asType(i,t.MergeManager,!0),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.getMergedRange=function(n,t,i,r){return void 0===r&&(r=!0),this._mrgMgr?this._mrgMgr.getMergedRange(n,t,i,r):null},u.prototype.onItemsSourceChanged=function(n){this.itemsSourceChanged.raise(this,n)},u.prototype.onScrollPositionChanged=function(n){
this.scrollPositionChanged.raise(this,n)},u.prototype.onSelectionChanging=function(n){return this.selectionChanging.raise(this,n),!n.cancel},u.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},u.prototype.onLoadingRows=function(n){return this.loadingRows.raise(this,n),!n.cancel},u.prototype.onLoadedRows=function(n){this.loadedRows.raise(this,n)},u.prototype.onUpdatingLayout=function(n){return this.updatingLayout.raise(this,n),!n.cancel},u.prototype.onUpdatedLayout=function(n){this.updatedLayout.raise(this,n)},u.prototype.onResizingColumn=function(n){return this.resizingColumn.raise(this,n),!n.cancel},u.prototype.onResizedColumn=function(n){this.resizedColumn.raise(this,n)},u.prototype.onAutoSizingColumn=function(n){return this.autoSizingColumn.raise(this,n),!n.cancel},u.prototype.onAutoSizedColumn=function(n){this.autoSizedColumn.raise(this,n)},u.prototype.onDraggingColumn=function(n){return this.draggingColumn.raise(this,n),!n.cancel},u.prototype.onDraggedColumn=function(n){this.draggedColumn.raise(this,n)},u.prototype.onResizingRow=function(n){return this.resizingRow.raise(this,n),!n.cancel},u.prototype.onResizedRow=function(n){this.resizedRow.raise(this,n)},u.prototype.onAutoSizingRow=function(n){return this.autoSizingRow.raise(this,n),!n.cancel},u.prototype.onAutoSizedRow=function(n){this.autoSizedRow.raise(this,n)},u.prototype.onDraggingRow=function(n){return this.draggingRow.raise(this,n),!n.cancel},u.prototype.onDraggedRow=function(n){this.draggedRow.raise(this,n)},u.prototype.onGroupCollapsedChanging=function(n){return this.groupCollapsedChanging.raise(this,n),!n.cancel},u.prototype.onGroupCollapsedChanged=function(n){this.groupCollapsedChanged.raise(this,n)},u.prototype.onSortingColumn=function(n){return this.sortingColumn.raise(this,n),!n.cancel},u.prototype.onSortedColumn=function(n){this.sortedColumn.raise(this,n)},u.prototype.onBeginningEdit=function(n){return this.beginningEdit.raise(this,n),!n.cancel},u.prototype.onPrepareCellForEdit=function(n){this.prepareCellForEdit.raise(this,n)},u.prototype.onCellEditEnding=function(n){return this.cellEditEnding.raise(this,n),!n.cancel},u.prototype.onCellEditEnded=function(n){this.cellEditEnded.raise(this,n)},u.prototype.onRowEditEnding=function(n){this.rowEditEnding.raise(this,n)},u.prototype.onRowEditEnded=function(n){this.rowEditEnded.raise(this,n)},u.prototype.onRowAdded=function(n){this.rowAdded.raise(this,n)},u.prototype.onDeletingRow=function(n){return this.deletingRow.raise(this,n),!n.cancel},u.prototype.onDeletedRow=function(n){this.deletedRow.raise(this,n)},u.prototype.onCopying=function(n){return this.copying.raise(this,n),!n.cancel},u.prototype.onCopied=function(n){this.copied.raise(this,n)},u.prototype.onPasting=function(n){return this.pasting.raise(this,n),!n.cancel},u.prototype.onPasted=function(n){this.pasted.raise(this,n)},u.prototype.onPastingCell=function(n){return this.pastingCell.raise(this,n),!n.cancel},u.prototype.onPastedCell=function(n){this.pastedCell.raise(this,n)},u.prototype.onFormatItem=function(n){this.formatItem.raise(this,n)},u.prototype.onUpdatingView=function(n){return this.updatingView.raise(this,n),!n.cancel},u.prototype.onUpdatedView=function(n){this.updatedView.raise(this,n)},u.prototype._getDefaultRowHeight=function(){var r,e,u,f=this.hostElement,t=document.body,i=null;if(t&&!n.contains(t,f)){for(r=f;r;r=r.parentElement)i=r;i&&t.appendChild(i)}return e=n.createElement('<div class="wj-cell">123</div>',f),u=e.scrollHeight+2,f.removeChild(e),i&&t.removeChild(i),(u<=6||isNaN(u)||!t)&&(u=28),u},u.prototype._getCollectionView=function(t){return n.asCollectionView(t)},u.prototype._getDesiredWidth=function(n,t,i,r){var f,u=this.getMergedRange(n,t,i);return this.cellFactory.updateCell(n,t,i,r,u),r.style.width="",f=r.offsetWidth,u&&u.columnSpan>1?f/u.columnSpan:f},u.prototype._getDesiredHeight=function(n,t,i,r){var f,u=this.getMergedRange(n,t,i);return this.cellFactory.updateCell(n,t,i,r,u),r.style.height="",f=r.offsetHeight,u&&u.rowSpan>1?f/u.rowSpan:f},u.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},u.prototype._sortConverter=function(n,t,i,r){var u,o,f,e;if(r){if(this._mappedColumns=null,this.collectionView)for(o=this.collectionView.sortDescriptions,f=0;f<o.length;f++)u=this.columns.getColumn(o[f].property),u&&u.dataMap&&(this._mappedColumns||(this._mappedColumns={}),this._mappedColumns[u.binding]=u.dataMap);this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(u=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&u.dataMap&&(this._mappedColumns[u.binding]=u.dataMap))}return this._mappedColumns&&(e=this._mappedColumns[n.property],e&&e.sortByDisplayValues&&(i=e.getDisplayValue(i))),i},u.prototype._bindGrid=function(i){var r=this;this.deferUpdate(function(){var o,s,h,c,l,u,e,f;if(0==r._lastCount&&r._cv&&r._cv.items&&r._cv.items.length&&(i=!0),o=[],r.preserveSelectedState&&r.selectionMode==t.SelectionMode.ListBox)for(u=0;u<r.rows.length;u++)s=r.rows[u],s.isSelected&&s.dataItem&&o.push(s.dataItem);if(r.preserveOutlineState&&n.isFunction(window.Map)&&r.rows.maxGroupLevel>-1)for(h=new Map,u=0;u<r.rows.length;u++)e=r.rows[u],e instanceof t.GroupRow&&e.isCollapsed&&e.dataItem&&(f=e.dataItem,f instanceof n.collections.CollectionViewGroup&&(f=f._path),h.set(f,!0));if(i&&r.columns.deferUpdate(function(){r._bindColumns()}),r.rows.deferUpdate(function(){r._bindRows()}),c=0,o.length)for(u=0;u<r.rows.length&&c<o.length;u++)o.indexOf(r.rows[u].dataItem)>-1&&(r.rows[u].isSelected=!0,c++);if(r.selectionMode==t.SelectionMode.ListBox&&0==c)for(l=r.selection,u=l.topRow;u<=l.bottomRow&&u>-1&&u<r.rows.length;u++)r.rows[u].isSelected=!0;if(h)for(u=0;u<r.rows.length;u++)e=r.rows[u],e instanceof t.GroupRow&&(f=e.dataItem,f instanceof n.collections.CollectionViewGroup&&(f=f._path),h.get(f)&&(e.isCollapsed=!0));!r._lastCount&&r._cv&&r._cv.items&&(r._lastCount=r._cv.items.length)}),this.collectionView&&this._cvCurrentChanged(this.collectionView,n.EventArgs.empty)},u.prototype._cvCollectionChanged=function(i,r){var u;if(this.autoGenerateColumns&&0==this.columns.length)return void this._bindGrid(!0);if(this.childItemsPath&&r.action!=n.collections.NotifyCollectionChangedAction.Change)return void this._bindGrid(!1);switch(r.action){case n.collections.NotifyCollectionChangedAction.Change:return void this.invalidate();case n.collections.NotifyCollectionChangedAction.Add:if(r.index==this.collectionView.items.length-1)return u=this.rows.length,this.rows[u-1]instanceof t._NewRowTemplate&&u--,void this.rows.insert(u,new t.Row(r.item));n.assert(!1,"added item should be the last one.");break;case n.collections.NotifyCollectionChangedAction.Remove:if(u=this._findRow(r.item),u>-1)return this.rows.removeAt(u),void this._cvCurrentChanged(i,r);n.assert(!1,"removed item not found in grid.")}this._bindGrid(!1)},u.prototype._cvCurrentChanged=function(){if(this.collectionView){var i=this.selection,r=i.row>-1&&i.row<this.rows.length?this.rows[i.row].dataItem:null;r instanceof n.collections.CollectionViewGroup&&(r=null),r!=this.collectionView.currentItem&&(i.row=i.row2=this._getRowIndex(this.collectionView.currentPosition),this.select(i,!1),this.selectionMode!=t.SelectionMode.None&&this.scrollIntoView(i.row,-1))}},u.prototype._getRowIndex=function(n){var r,n,i;if(this.collectionView){if(n>-1){for(r=this.collectionView.items[n];n<this.rows.length;n++)if(this.rows[n].dataItem===r)return n;return-1}return 1==this.rows.length&&this.rows[0]instanceof t._NewRowTemplate?0:(n=this.selection.row,i=n>-1?this.rows[n]:null,i&&(i instanceof t.GroupRow||null==i.dataItem)?n:-1)}return this.selection.row},u.prototype._getCvIndex=function(n){if(n>-1&&this.collectionView){var t=this.rows[n].dataItem;for(n=Math.min(n,this.collectionView.items.length);n>-1;n--)if(this.collectionView.items[n]===t)return n}return-1},u.prototype._findRow=function(n){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==n)return t;return-1},u.prototype._updateLayout=function(){var o,h,s,a=new n.CancelEventArgs;if(this.onUpdatingLayout(a)){var e=this._rows.getTotalSize(),r=this._hdrVis&i.Row?this._hdrCols.getTotalSize():0,f=this._hdrVis&i.Column?this._hdrRows.getTotalSize():0;e<1&&(e=1),this._rtl=!!this.hostElement&&"rtl"==getComputedStyle(this.hostElement).direction,this._heightBrowser=Math.min(e,u._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,e-this._heightBrowser),this.cells.hostElement&&(o=n.createElement('<div class="wj-cell"></div>',this.cells.hostElement),h=getComputedStyle(o),this._cellPadding=parseInt(this._rtl?h.paddingRight:h.paddingLeft),o.parentElement.removeChild(o)),this._rtl?(n.setCss(this._eTL,{right:0,top:0,width:r,height:f}),n.setCss(this._eCHdr,{top:0,right:r,height:f}),n.setCss(this._eRHdr,{right:0,top:f,width:r}),n.setCss(this._eCt,{right:r,top:f,width:this._gpCells.width,height:this._heightBrowser})):(n.setCss(this._eTL,{left:0,top:0,width:r,height:f}),n.setCss(this._eCHdr,{top:0,left:r,height:f}),n.setCss(this._eRHdr,{left:0,top:f,width:r}),n.setCss(this._eCt,{left:r,top:f,width:this._gpCells.width,height:this._heightBrowser})),this._stickyHdr&&this._updateStickyHeaders();var t=this._root,c=t.offsetWidth-t.clientWidth,l=t.offsetHeight-t.clientHeight;n.setCss(this._eSz,{width:r+c+this._gpCells.width,height:f+l+this._heightBrowser}),s=null,this.columns._updateStarSizes(t.clientWidth-r)&&(s=t.clientWidth,this._eCt.style.width=this._gpCells.width+"px"),this._szClient=new n.Size(t.clientWidth-r,t.clientHeight-f),this._rcBounds=null,this._updateContent(!1),c=t.offsetWidth-t.clientWidth,l=t.offsetHeight-t.clientHeight,n.setCss(this._eSz,{width:r+c+this._gpCells.width,height:f+l+this._heightBrowser}),this._szClient=new n.Size(t.clientWidth-r,t.clientHeight-f),s&&s!=t.clientWidth&&this.columns._updateStarSizes(t.clientWidth-r)&&(this._eCt.style.width=this._gpCells.width+"px",this._updateContent(!1)),this._eCHdr.style.width=this._szClient.width+"px",this._eRHdr.style.height=this._szClient.height+"px",this.onUpdatedLayout(a)}},u.prototype._updateStickyHeaders=function(){var f,t,i,e,r=!1,o=0;if(this._stickyHdr){for(f=0,t=null,i=this.hostElement;i;i=i.parentElement)e=i.getBoundingClientRect(),null==t&&(t=e.top),f=Math.max(f,e.top);t=Math.max(0,f-t-1),o=-t,r=t>0}this._eTL.style.top=this._eCHdr.style.top=r?-o+"px":"",n.toggleClass(this._eTL,u._WJS_STICKY,r),n.toggleClass(this._eCHdr,u._WJS_STICKY,r)},u.prototype._updateScrollPosition=function(){var r,t=this._root,f=t.scrollTop,i=t.scrollLeft;return this._rtl&&"rev"==u._getRtlMode()&&(i=t.scrollWidth-t.clientWidth-i),r=new n.Point((-Math.abs(i)),(-f)),!this._ptScrl.equals(r)&&(this._ptScrl=r,this.onScrollPositionChanged(),!0)},u.prototype._updateContent=function(t,r){var s,e,u,a=this,v=this.containsFocus(),o=(n.contains(this.columnHeaders.hostElement,n.getActiveElement()),new n.CancelEventArgs);if(this.onUpdatingView(o)){if(this._offsetY=0,this._heightBrowser>this._szClient.height&&(s=Math.round(-this._ptScrl.y/(this._heightBrowser-this._szClient.height)*100)/100,this._offsetY=Math.round(this._maxOffsetY*s)),this._updateScrollPosition(),this._gpCells._updateContent(t,r,this._offsetY),this._hdrVis&i.Column&&(!r||this._ssHdr&i.Column)&&this._gpCHdr._updateContent(t,r,0),this._hdrVis&i.Row&&(!r||this._ssHdr&i.Row)&&this._gpRHdr._updateContent(t,r,this._offsetY),this._hdrVis&&!r&&this._gpTL._updateContent(t,r,0),this.showMarquee)if(e=this._selHdl._sel,u=this._eMarquee,this.isRangeValid(e)){var f=this._getMarqueeRect(e),h=u.firstChild,c=u.offsetWidth-h.offsetWidth,l=u.offsetHeight-h.offsetHeight;n.setCss(u,{left:f.left+this.cells.hostElement.offsetLeft-c/2,top:f.top+this.cells.hostElement.offsetTop-l/2,width:f.width+c,height:f.height+l,visibility:f.width>0&&f.height>0?"":"collapse"})}else n.setCss(u,{left:0,top:0,width:0,height:0,visibility:"collapse"});v&&!r&&setTimeout(function(){a.focus()},10),this._rcBounds=null,this.onUpdatedView(o)}},u.prototype._getMarqueeRect=function(i){var o,e,u,s=this.getMergedRange(this.cells,i.topRow,i.leftCol)||new t.CellRange(i.topRow,i.leftCol),h=this.getMergedRange(this.cells,i.bottomRow,i.rightCol)||new t.CellRange(i.bottomRow,i.rightCol),r=this.cells.getCellBoundingRect(s.topRow,s.leftCol,!0),f=this.cells.getCellBoundingRect(h.bottomRow,h.rightCol,!0);if(this.rows.frozen){if(o=Math.min(this.rows.length,this.rows.frozen),u=this.cells.getCellBoundingRect(o-1,0,!0),i.bottomRow>=o&&f.bottom<u.bottom)return new n.Rect(0,0,0,0);i.topRow>=o&&r.top<u.bottom&&(r.top=u.bottom)}if(this.columns.frozen)if(e=Math.min(this.columns.length,this.columns.frozen),u=this.cells.getCellBoundingRect(0,e-1,!0),this._rtl){if(i.rightCol>=e&&f.left>u.left)return new n.Rect(0,0,0,0);i.leftCol>=e&&r.right>u.left&&(r.left=u.left-r.width)}else{if(i.rightCol>=e&&f.right<u.right)return new n.Rect(0,0,0,0);i.leftCol>=e&&r.left<u.right&&(r.left=u.right)}return this._rtl?new n.Rect(f.left,r.top,r.right-f.left,f.bottom-r.top):new n.Rect(r.left,r.top,f.right-r.left,f.bottom-r.top)},u.prototype._bindColumns=function(){for(var i,r,e,f,o,u=0;u<this.columns.length;u++)i=this.columns[u],i._getFlag(t.RowColFlags.AutoGenerated)&&(this.columns.removeAt(u),u--);if(r=null,e=this.collectionView,e&&e.sourceCollection&&e.sourceCollection.length&&(r=e.sourceCollection[0]),r&&this.autoGenerateColumns)for(f in r)n.isPrimitive(r[f])&&(i=new t.Column,i._setFlag(t.RowColFlags.AutoGenerated,!0),i.binding=i.name=f,i.header=n.toHeaderCase(f),i.dataType=n.getType(r[f]),i.dataType==n.DataType.Number&&(i.width=80),o=Object.getOwnPropertyDescriptor(r,f),!o||o.writable||n.isFunction(o.set)||i._setFlag(t.RowColFlags.ReadOnly,!0),this.columns.push(i));this._updateColumnTypes()},u.prototype._updateColumnTypes=function(){var f,r,i,t,u=this.collectionView;if(n.hasItems(u))for(f=u.items[0],r=this.columns,i=0;i<r.length;i++)t=r[i],null==t.dataType&&t._binding&&(t.dataType=n.getType(t._binding.getValue(f)))},u.prototype._getBindingColumn=function(n,t,i){return i},u.prototype._bindRows=function(){var i,r,u,t,f=new n.CancelEventArgs;if(this.onLoadingRows(f)){if(this.rows.clear(),i=this.collectionView,i&&i.items)if(r=i.items,u=i.groups,this.childItemsPath)for(t=0;t<r.length;t++)this._addNode(r,t,0);else if(null!=u&&u.length>0&&this.showGroups)for(t=0;t<u.length;t++)this._addGroup(u[t]);else for(t=0;t<r.length;t++)this._addBoundRow(r,t);this.onLoadedRows(f)}},u.prototype._addBoundRow=function(n,i){this.rows.push(new t.Row(n[i]))},u.prototype._addNode=function(i,r,u){var f,e=new t.GroupRow,o=this.childItemsPath,c=n.isArray(o)?o[u]:o,h=i[r],s=h[c];if(e.dataItem=h,e.level=u,this.rows.push(e),s)for(f=0;f<s.length;f++)this._addNode(s,f,u+1)},u.prototype._addGroup=function(n){var u,i,r=new t.GroupRow;if(r.level=n.level,r.dataItem=n,this.rows.push(r),n.isBottomLevel)for(u=n.items,i=0;i<u.length;i++)this._addBoundRow(u,i);else for(i=0;i<n.groups.length;i++)this._addGroup(n.groups[i])},u._getSerializableProperties=function(n){var u,t,i,r,f=[];for(n=n.prototype;n;n=Object.getPrototypeOf(n))for(u=Object.getOwnPropertyNames(n),t=0;t<u.length;t++)i=u[t],r=Object.getOwnPropertyDescriptor(n,i),r&&r.set&&r.get&&"_"!=i[0]&&f.push(i);return f},u.prototype._copy=function(i,r){var f,u,e;if("columns"==i){for(this.columns.clear(),f=n.asArray(r),u=0;u<f.length;u++)e=new t.Column,n.copy(e,f[u]),this.columns.push(e);return!0}return!1},u.prototype._isInputElement=function(n){if(n instanceof HTMLElement){var t=n.tagName.match(/INPUT|SELECT|TEXTAREA|BUTTON|A/);return t&&t.length>0}return!1},u._getMaxSupportedCssHeight=function(){var n;if(!u._maxCssHeight){var i=1e6,t=document.createElement("div");for(t.style.visibility="hidden",document.body.appendChild(t),n=i;n<=6e7&&(t.style.height=n+"px",t.offsetHeight==n);n+=5e5)i=n;document.body.removeChild(t),u._maxCssHeight=i}return u._maxCssHeight},u._getRtlMode=function(){var t,i,r;return u._rtlMode||(t=n.createElement('<div dir="rtl" style="visibility:hidden;width:100px;height:100px;overflow:auto"><div style="width:2000px;height:2000px"></div></div>'),document.body.appendChild(t),i=t.scrollLeft,t.scrollLeft=-1e3,r=t.scrollLeft,document.body.removeChild(t),u._rtlMode=r<0?"neg":i>0?"rev":"std"),u._rtlMode},u._WJS_STICKY="wj-state-sticky",u._WJS_MEASURE="wj-state-measuring",u.controlTemplate='<div style="position:relative;width:100%;height:100%;overflow:hidden;max-width:inherit;max-height:inherit"><div wj-part="focus" tabIndex="0" style="position:absolute;opacity:0;pointer-events:none;left:-10px;top:-10px"></div><div wj-part="root" style="position:absolute;width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;max-width:inherit;max-height:inherit;boxSizing:content-box"><div wj-part="cells" class="wj-cells" style="position:relative"></div><div wj-part="marquee" class="wj-marquee" style="display:none;pointer-events:none"><div style="width:100%;height:100%"></div></div></div><div wj-part="rh" style="position:absolute;overflow:hidden;outline:none"><div wj-part="rhcells" class="wj-rowheaders" style="position:relative"></div></div><div wj-part="ch" style="position:absolute;overflow:hidden;outline:none"><div wj-part="chcells" class="wj-colheaders" style="position:relative"></div></div><div wj-part="tl" style="position:absolute;overflow:hidden;outline:none"><div wj-part="tlcells" class="wj-topleft" style="position:relative"></div></div><div wj-part="sz" style="position:relative;visibility:hidden;"></div></div>',u}(n.Control);t.FlexGrid=r}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;!function(t){"use strict";var r,i=function(i){function r(r,u,f){i.call(this),this._p=n.asType(r,t.GridPanel),this._rng=n.asType(u,t.CellRange),this._data=f}return __extends(r,i),Object.defineProperty(r.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(n){this._data=n},enumerable:!0,configurable:!0}),r}(n.CancelEventArgs);t.CellRangeEventArgs=i,r=function(t){function i(i,r,u){t.call(this,i,r),this._cell=n.asType(u,HTMLElement)}return __extends(i,t),Object.defineProperty(i.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),i}(i),t.FormatItemEventArgs=r}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";!function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.ColumnHeader=2]="ColumnHeader",n[n.RowHeader=3]="RowHeader",n[n.TopLeft=4]="TopLeft"}(t.CellType||(t.CellType={}));var i=t.CellType,r=function(){function r(i,u,f,e,o){this._offsetY=0,this._g=n.asType(i,t.FlexGrid),this._ct=n.asInt(u),this._rows=n.asType(f,t.RowCollection),this._cols=n.asType(e,t.ColumnCollection),this._e=n.asType(o,HTMLElement),this._rng=new t.CellRange,r._evtBlur||(r._evtBlur=document.createEvent("HTMLEvents"),r._evtBlur.initEvent("blur",!0,!1))}return Object.defineProperty(r.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"viewRange",{get:function(){return this._getViewRange(!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),r.prototype.getCellData=function(r,u,f){var h,o,c,s=this._rows[n.asNumber(r,!1,!0)],e=null;if(n.isString(u)&&(u=this._cols.indexOf(u),u<0))throw"Invalid column name or binding.";if(h=this._cols[n.asNumber(u,!1,!0)],o=this._g?this._g._getBindingColumn(this,r,h):h,!o.binding||!s.dataItem||s.dataItem instanceof n.collections.CollectionViewGroup?s._ubv&&(e=s._ubv[h._hash]):e=o._binding.getValue(s.dataItem),null==e)switch(this._ct){case i.ColumnHeader:(r==this._rows.length-1||o!=h)&&(e=o.header);break;case i.Cell:h.aggregate!=n.Aggregate.None&&s instanceof t.GroupRow&&(c=n.tryCast(s.dataItem,n.collections.CollectionViewGroup),c&&(e=c.getAggregate(o.aggregate,o.binding,this._g.collectionView)))}return f&&(this.cellType==i.Cell&&o.dataMap&&(e=o.dataMap.getDisplayValue(e)),e=null!=e?n.Globalize.format(e,o.format):""),e},r.prototype.setCellData=function(t,r,u,f,e){var s,v,o,c,y,h,p,a,k;if(void 0===f&&(f=!0),void 0===e&&(e=!0),s=this._rows[n.asNumber(t,!1,!0)],n.isString(r)&&(r=this._cols.indexOf(r),r<0))throw"Invalid column name or binding.";if(v=this._cols[n.asNumber(r,!1,!0)],o=this._g?this._g._getBindingColumn(this,t,v):v,this._ct==i.Cell){if(o.dataMap&&null!=u&&(o.required||""!=u&&null!=u))if(c=o.dataMap,y=c.getKeyValue(u),null==y){if(!c.isEditable||c.displayMemberPath!=c.selectedValuePath)return!1}else u=y;if(h=n.DataType.Object,o.dataType?h=o.dataType:(p=this.getCellData(t,r,!1),h=n.getType(p)),n.isBoolean(o.required))if(o.required||""!==u&&null!==u){if(o.required&&(""===u||null===u))return!1}else u=null,f=!1;if(f&&(u=n.changeType(u,h,o.format),h!=n.DataType.Object&&n.getType(u)!=h))return!1}if(s.dataItem&&o.binding){var w=o._binding,l=s.dataItem,b=w.getValue(l);u!==b&&!n.DateTime.equals(u,b)&&(w.setValue(l,u),a=this._g.collectionView,a instanceof n.collections.CollectionView&&l!=a.currentEditItem)&&(k=new n.collections.NotifyCollectionChangedEventArgs(n.collections.NotifyCollectionChangedAction.Change,l,a.items.indexOf(l)),a.onCollectionChanged(k))}else s._ubv||(s._ubv={}),s._ubv[v._hash]=u;return e&&this._g&&this._g.invalidate(),!0},r.prototype.getCellBoundingRect=function(t,i,r){var f,e,o=this.rows[t],s=this.columns[i],u=new n.Rect(s.pos,o.pos,s.renderSize,o.renderSize);return this._g._rtl&&(u.left=this.hostElement.clientWidth-u.right,n.isIE()||(f=this.hostElement.parentElement,u.left-=f.offsetWidth-f.clientWidth)),r||(e=this.hostElement.getBoundingClientRect(),u.left+=e.left,u.top+=e.top-this._offsetY),t<this.rows.frozen&&(u.top-=this._g.scrollPosition.y),i<this.columns.frozen&&(u.left-=this._g.scrollPosition.x*(this._g._rtl?-1:1)),u},r.prototype.getSelectedState=function(n,r,u){var e=this._g,o=e.selectionMode,f=e._selHdl._sel;if(o!=t.SelectionMode.None)switch(this._ct){case i.Cell:if(u||(u=e.getMergedRange(this,n,r)),u){if(u.contains(f.row,f.col))return e.showMarquee?t.SelectedState.None:t.SelectedState.Cursor;if(u.intersects(f))return t.SelectedState.Selected}return f.row==n&&f.col==r?e.showMarquee?t.SelectedState.None:t.SelectedState.Cursor:e.rows[n].isSelected||e.columns[r].isSelected?t.SelectedState.Selected:(f=e._selHdl._adjustSelection(f),o==t.SelectionMode.ListBox?t.SelectedState.None:f.containsRow(n)&&f.containsColumn(r)?t.SelectedState.Selected:t.SelectedState.None);case i.ColumnHeader:if(e.showSelectedHeaders&t.HeadersVisibility.Column&&(e.columns[r].isSelected||f.containsColumn(r)||f.intersectsColumn(u))&&(u&&(n=u.bottomRow),n==this.rows.length-1))return t.SelectedState.Selected;break;case i.RowHeader:if(e.showSelectedHeaders&t.HeadersVisibility.Row&&(e.rows[n].isSelected||f.containsRow(n)||f.intersectsRow(u))&&(u&&(r=u.rightCol),r==this.columns.length-1))return t.SelectedState.Selected}return t.SelectedState.None},Object.defineProperty(r.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),r.prototype._getOffsetY=function(){return this._offsetY},r.prototype._updateContent=function(t,u,f){var e,o,p,l,a,y,s,k,h,v=this._g,c=this._rows,d=this._cols;if((this._ct==i.ColumnHeader||this._ct==i.RowHeader)&&(l=v._ptScrl,a=this._e.style,this.cellType==i.ColumnHeader?v._rtl?a.right=l.x+"px":a.left=l.x+"px":this.cellType==i.RowHeader&&(a.top=l.y+"px")),this._offsetY!=f&&(t=!1,this._offsetY=f),y=this._getViewRange(!1),s=t&&v.isTouching?this._getViewRange(!0):y,!t||u||c.frozen||d.frozen||!this._rng.contains(y)){if(t&&s.equals(this._rng)||(u=!1),!t){var w=n.getActiveElement(),b=n.contains(this._e,w)?w:null,g=this._g.cellFactory;for(h=0;h<this._e.childElementCount;h++)g.disposeCell(this._e.children[h]);n.setText(this._e,null),b&&b.dispatchEvent(r._evtBlur),this._rowIdx=[]}for(t&&this._ct!=i.TopLeft&&this._reorderCells(s,this._rng),this._rng=s,o=0,this._rowIdx=[],e=s.topRow;e<=s.bottomRow&&e>-1;e++)this._rowIdx.push(o),o=this._renderRow(e,s,!1,u,o);for(this._rowIdx.push(o),e=s.topRow;e<=s.bottomRow&&e>-1;e++)o=this._renderRow(e,s,!0,u,o);for(e=0;e<c.frozen&&e<c.length;e++)o=this._renderRow(e,s,!1,u,o);for(e=0;e<c.frozen&&e<c.length;e++)o=this._renderRow(e,s,!0,u,o);for(k=this._e.childElementCount,h=o;h<k;h++)p=this._e.children[h],p.style.display="none"}},r.prototype._reorderCells=function(n,i){var h,r,o,f,c,s,e,u;if(this._rowIdx&&!(this._rows.frozen>0)&&!(this._cols.frozen>0)&&n.columnSpan==i.columnSpan&&n.rowSpan==i.rowSpan&&i.isValid&&n.isValid&&n.intersects(i)&&(n.row!=i.row&&(r=n.row-i.row,o=Math.max(1,n.rowSpan-1),0!=r&&Math.abs(r)<o&&(r>0&&(u=this._createRange(0,this._rowIdx[r]),this._e.appendChild(u.extractContents())),r<0&&(h=this._rowIdx.length-1,u=this._createRange(this._rowIdx[h+r],this._rowIdx[h]),this._e.insertBefore(u.extractContents(),this._e.firstChild)))),n.col!=i.col&&(r=n.col-i.col,o=Math.max(1,n.columnSpan-1),0!=r&&Math.abs(r)<o)))for(f=0;f<this._rowIdx.length-1;f++)c=this.rows[n.topRow+f],c instanceof t.GroupRow||(s=this._rowIdx[f],e=this._rowIdx[f+1],r>0&&(u=this._createRange(s,s+r),this._e.insertBefore(u.extractContents(),this._e.children[e])),r<0&&e+r-1>=0&&(u=this._createRange(e+r-1,e-1),this._e.insertBefore(u.extractContents(),this._e.children[s])))},r.prototype._createRange=function(n,t){var i=document.createRange();return i.setStart(this._e,n),i.setEnd(this._e,t),i},r.prototype._renderRow=function(n,t,i,r,u){var f;if(this.rows[n].renderSize<=0)return u;if(i)for(f=0;f<this.columns.frozen&&f<this.columns.length;f++)u=this._renderCell(n,f,t,r,u);else for(f=t.leftCol;f<=t.rightCol&&f>-1;f++)u=this._renderCell(n,f,t,r,u);return u},r.prototype._renderCell=function(i,r,u,f,e){var s,o,c,l=this._g,h=l.getMergedRange(this,i,r);if(h){for(s=Math.max(u.row,h.row);s<i;s++)if(this.rows[s].isVisible)return e;for(s=Math.max(u.col,h.col);s<r;s++)if(this.columns[s].isVisible)return e}return this.columns[r].renderSize<=0&&(!h||h.getRenderSize(this).width<=0)?e:(o=this._e.childNodes[e++],o&&f?(c=this.getSelectedState(i,r,h),n.toggleClass(o,"wj-state-selected",c==t.SelectedState.Cursor),n.toggleClass(o,"wj-state-multi-selected",c==t.SelectedState.Selected),e):(o||(o=document.createElement("div"),o.tabIndex=0,this._e.appendChild(o)),l.cellFactory.updateCell(this,i,r,o,h),e))},r.prototype._getViewRange=function(n){var e,o,h=this._g,a=h._ptScrl,u=this._rows,f=this._cols,r=new t.CellRange(0,0,u.length-1,f.length-1);if(this._ct==i.Cell||this._ct==i.RowHeader){var c=-a.y+this._offsetY,v=h.clientSize.height,s=Math.min(u.frozen,u.length-1);s>0&&(e=u[s-1].pos,c+=e,v-=e),r.row=Math.min(u.length-1,Math.max(u.frozen,u.getItemAt(c+1))),r.row2=u.getItemAt(c+v)}if(this._ct==i.Cell||this._ct==i.ColumnHeader){var l=-a.x,y=h.clientSize.width,s=Math.min(f.frozen,f.length-1);s>0&&(e=f[s-1].pos,l+=e,y-=e),r.col=Math.min(f.length-1,Math.max(f.frozen,f.getItemAt(l+1))),r.col2=f.getItemAt(l+y)}return!n||this._ct!=i.Cell||u.frozen||f.frozen||(o=6,r.row<this._rng.row&&(r.row=Math.max(r.row-o,0)),r.row2>this._rng.row2&&(r.row2=Math.min(r.row2+o,u.length-1)),r.col<this._rng.col&&(r.col=Math.max(r.col-o,0)),r.col2>this._rng.col2&&(r.col2=Math.min(r.col2+o,f.length-1))),u.length<=u.frozen&&(r.row=r.row2=-1),f.length<=f.frozen&&(r.col=r.col2=-1),r},r.prototype._getFrozenPos=function(){var r=this._rows.frozen,u=this._cols.frozen,t=r>0?this._rows[r-1]:null,i=u>0?this._cols[u-1]:null,f=t?t.pos+t.renderSize:0,e=i?i.pos+i.renderSize:0;return new n.Point(e,f)},r}();t.GridPanel=r}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var i=function(){function i(){}return i.prototype.updateCell=function(r,u,f,e,o,s){var ht,ft,d,gt,lt,et,v,at,vt,b,yt,it,ot,rt,ii,ni,st,o,ti,h=r.grid,p=r.cellType,g=r.rows,nt=r.columns,y=g[u],k=nt[f],tt=u,ut=f,w=n.tryCast(y,t.GroupRow),pt=n.tryCast(y,t._NewRowTemplate),wt=k.renderWidth,bt=y.renderHeight,a="wj-cell",l={display:""},kt=0!=s;0!=s&&e.firstElementChild&&(1!=e.childNodes.length||"checkbox"!=e.firstElementChild.type)&&(n.setText(e,null),kt=!1),o&&!o.isSingleCell&&(u=o.row,f=o.col,tt=o.row2,ut=o.col2,y=g[u],k=nt[f],w=n.tryCast(y,t.GroupRow),ht=o.getRenderSize(r),bt=ht.height,wt=ht.width);var c=h._getBindingColumn(r,u,k),ct=k.pos,dt=y.pos;switch(u<g.frozen&&(dt-=h._ptScrl.y),f<nt.frozen&&(ct-=h._ptScrl.x),h._rtl?l.right=ct+"px":l.left=ct+"px",l.top=dt-r._getOffsetY()+"px",l.width=wt+"px",l.height=bt+"px",p==t.CellType.Cell?(w&&(a+=" wj-group"),h.showAlternatingRows&&u%2!=0&&(a+=" wj-alt"),(u<g.frozen||f<nt.frozen)&&(a+=" wj-frozen"),pt&&(a+=" wj-new"),y.cssClass&&(a+=" "+y.cssClass),c.cssClass&&(a+=" "+c.cssClass)):(a+=" wj-header",h.showAlternatingRows&&u%2!=0&&(a+=" wj-header-alt")),ft=r.getSelectedState(u,f,o),ft!=t.SelectedState.None&&p==t.CellType.Cell&&k.dataType!=n.DataType.Boolean&&h.editRange&&h.editRange.contains(u,f)&&(ft=t.SelectedState.None),ft){case t.SelectedState.Cursor:a+=" wj-state-selected";break;case t.SelectedState.Selected:a+=" wj-state-multi-selected"}if(tt==g.frozen-1&&(a+=" wj-frozen-row"),ut==nt.frozen-1&&(a+=" wj-frozen-col"),(k.wordWrap||y.wordWrap)&&(a+=" wj-wrap"),kt&&a==e.className&&(d=e.style,d.top==l.top&&d.width==l.width&&d.height==l.height&&(h._rtl&&d.right==l.right||!h._rtl&&d.left==l.left)))return void(d.display&&(e.style.display=""));switch(l.textAlign=c.getAlignment(),p==t.CellType.Cell&&h.rows.maxGroupLevel>-1&&(l.paddingLeft=l.paddingRight="",f==h.columns.firstVisibleIndex&&h.treeIndent&&(gt=w?Math.max(0,w.level):h.rows.maxGroupLevel+1,lt=h.treeIndent*gt+h._cellPadding,h._rtl?l.paddingRight=lt:l.paddingLeft=lt)),0!=s&&(et=r.getCellData(u,f,!1),v=r.getCellData(u,f,!0),p==t.CellType.Cell&&f==h.columns.firstVisibleIndex&&w&&w.hasChildren&&!this._isEditingCell(h,u,f)?(v||(v=w.getGroupHeader()),e.innerHTML=this._getTreeIcon(w)+" "+v,l.textAlign=""):p==t.CellType.ColumnHeader&&c.currentSort&&h.showSort&&(tt==h._getSortRowIndex()||c!=k)?(a+=" wj-sort-"+("+"==c.currentSort?"asc":"desc"),e.innerHTML=n.escapeHtml(v)+"&nbsp;"+this._getSortIcon(c)):p!=t.CellType.RowHeader||f!=h.rowHeaders.columns.length-1||v?p!=t.CellType.Cell||c.dataType!=n.DataType.Boolean||w&&!n.isBoolean(et)?p==t.CellType.Cell&&this._isEditingCell(h,u,f)?(yt=c.inputType,c.inputType||(yt=c.dataType!=n.DataType.Number||c.dataMap?"text":"tel"),c.dataMap||c.mask||(it=r.getCellData(u,f,!1),n.isNumber(it)&&(ot=c.format,ot&&it!=Math.round(it)&&(ot=c.format.replace(/([a-z])(\d*)(.*)/gi,"$0112$3")),v=n.Globalize.formatNumber(it,ot,!0))),e.innerHTML='<input type="'+yt+'" class="wj-grid-editor wj-form-control">',rt=e.children[0],rt.value=v,rt.style.textAlign=c.getAlignment(),l.padding="0px",c.mask&&(ii=new n._MaskProvider(rt,c.mask)),h._edtHdl._edt=rt):p==t.CellType.Cell&&(y.isContentHtml||c.isContentHtml)?e.innerHTML=v:n.setText(e,v):(b=e.firstChild,b instanceof HTMLInputElement&&"checkbox"==b.type||(e.innerHTML='<input type="checkbox"/>',b=e.firstChild),b.checked=1==et,b.indeterminate=null==et,b.disabled=!h._edtHdl._allowEditing(u,f),b.disabled&&(b.style.cursor="default"),h.editRange&&h.editRange.contains(u,f)&&(h._edtHdl._edt=b)):(at=h.collectionView,vt=at?at.currentEditItem:null,
vt&&y.dataItem==vt?v="":n.tryCast(y,t._NewRowTemplate)&&(v="*"),n.setText(e,v)),p==t.CellType.Cell&&n.input&&c.dataMap&&c.showDropDown!==!1&&h._edtHdl._allowEditing(u,f)&&(i._ddIcon||(ni="position:absolute;top:0px;padding:3px 6px;opacity:.25;right:0px",i._ddIcon=n.createElement('<div style="'+ni+'" '+i._WJA_DROPDOWN+'><span class="wj-glyph-down"></span></div>')),st=i._ddIcon.cloneNode(!0),h._rtl&&(st.style.left="0px",st.style.right=""),e.appendChild(st))),p){case t.CellType.RowHeader:e.removeAttribute("draggable"),w||pt||0==(h.allowDragging&t.AllowDragging.Rows)||e.setAttribute("draggable","true");break;case t.CellType.ColumnHeader:e.removeAttribute("draggable"),0!=(h.allowDragging&t.AllowDragging.Columns)&&e.setAttribute("draggable","true")}e.className!=a&&(e.className=a),n.setCss(e,l),h.itemFormatter&&h.itemFormatter(r,u,f,e),h.formatItem.hasHandlers&&(o=i._fmtRng,o?o.setRange(u,f,tt,ut):o=i._fmtRng=new t.CellRange(u,f,tt,ut),ti=new t.FormatItemEventArgs(r,o,e),h.onFormatItem(ti))},i.prototype.disposeCell=function(){},i.prototype._isEditingCell=function(n,t,i){return n.editRange&&n.editRange.contains(t,i)},i.prototype._getTreeIcon=function(n){var t="wj-glyph-"+(n.grid._rtl?n.isCollapsed?"left":"down-left":n.isCollapsed?"right":"down-right");return"<span "+i._WJA_COLLAPSE+' class="'+t+'"></span>'},i.prototype._getSortIcon=function(n){return'<span class="wj-glyph-'+("+"==n.currentSort?"up":"down")+'"></span>'},i._WJA_COLLAPSE="wj-collapse",i._WJA_DROPDOWN="wj-dropdown",i}();t.CellFactory=i}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var i=function(){function t(n,t,i,r){void 0===n&&(n=-1),void 0===t&&(t=-1),void 0===i&&(i=n),void 0===r&&(r=t),this.setRange(n,t,i,r)}return t.prototype.setRange=function(t,i,r,u){void 0===t&&(t=-1),void 0===i&&(i=-1),void 0===r&&(r=t),void 0===u&&(u=i),this._row=n.asInt(t),this._col=n.asInt(i),this._row2=n.asInt(r),this._col2=n.asInt(u)},Object.defineProperty(t.prototype,"row",{get:function(){return this._row},set:function(t){this._row=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._col},set:function(t){this._col=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row2",{get:function(){return this._row2},set:function(t){this._row2=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col2",{get:function(){return this._col2},set:function(t){this._col2=n.asInt(t)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this._row,this._col,this._row2,this._col2)},Object.defineProperty(t.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),t.prototype.contains=function(i,r){var u=n.tryCast(i,t);if(u)return u.topRow>=this.topRow&&u.bottomRow<=this.bottomRow&&u.leftCol>=this.leftCol&&u.rightCol<=this.rightCol;if(n.isInt(i)&&n.isInt(r))return i>=this.topRow&&i<=this.bottomRow&&r>=this.leftCol&&r<=this.rightCol;throw"contains expects a CellRange or row/column indices."},t.prototype.containsRow=function(t){return n.asInt(t)>=this.topRow&&t<=this.bottomRow},t.prototype.containsColumn=function(t){return n.asInt(t)>=this.leftCol&&t<=this.rightCol},t.prototype.intersects=function(n){return this.intersectsRow(n)&&this.intersectsColumn(n)},t.prototype.intersectsRow=function(n){return n&&!(this.bottomRow<n.topRow||this.topRow>n.bottomRow)},t.prototype.intersectsColumn=function(n){return n&&!(this.rightCol<n.leftCol||this.leftCol>n.rightCol)},t.prototype.getRenderSize=function(t){var i,r,u=new n.Size(0,0);if(this.isValid){for(i=this.topRow;i<=this.bottomRow;i++)u.height+=t.rows[i].renderSize;for(r=this.leftCol;r<=this.rightCol;r++)u.width+=t.columns[r].renderSize}return u},t.prototype.equals=function(n){return n instanceof t&&this._row==n._row&&this._col==n._col&&this._row2==n._row2&&this._col2==n._col2},t}();t.CellRange=i}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;!function(t){"use strict";var i,u,r,e,o,f,s,h;!function(n){n[n.Visible=1]="Visible",n[n.AllowResizing=2]="AllowResizing",n[n.AllowDragging=4]="AllowDragging",n[n.AllowMerging=8]="AllowMerging",n[n.AllowSorting=16]="AllowSorting",n[n.AutoGenerated=32]="AutoGenerated",n[n.Collapsed=64]="Collapsed",n[n.ParentCollapsed=128]="ParentCollapsed",n[n.Selected=256]="Selected",n[n.ReadOnly=512]="ReadOnly",n[n.HtmlContent=1024]="HtmlContent",n[n.WordWrap=2048]="WordWrap",n[n.RowDefault=3]="RowDefault",n[n.ColumnDefault=23]="ColumnDefault"}(t.RowColFlags||(t.RowColFlags={})),i=t.RowColFlags,u=function(){function r(){this._list=null,this._pos=0,this._idx=-1}return Object.defineProperty(r.prototype,"visible",{get:function(){return this._getFlag(i.Visible)},set:function(n){this._setFlag(i.Visible,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isVisible",{get:function(){return!!this._getFlag(i.Visible)&&(!this._getFlag(i.ParentCollapsed)||this instanceof t._NewRowTemplate)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pos",{get:function(){return this._list&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this._list&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){return this._sz},set:function(t){t!=this._sz&&(this._sz=n.asNumber(t,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"renderSize",{get:function(){if(!this.isVisible)return 0;var n=this._sz,t=this._list;return(null==n||n<0)&&null!=t?Math.round(t.defaultSize):(null!=t&&(null!=t.minSize&&n<t.minSize&&(n=t.minSize),null!=t.maxSize&&n>t.maxSize&&(n=t.maxSize)),null!=this._szMin&&n<this._szMin&&(n=this._szMin),null!=this._szMax&&n>this._szMax&&(n=this._szMax),Math.round(n))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowResizing",{get:function(){return this._getFlag(i.AllowResizing)},set:function(n){this._setFlag(i.AllowResizing,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowDragging",{get:function(){return this._getFlag(i.AllowDragging)},set:function(n){this._setFlag(i.AllowDragging,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"allowMerging",{get:function(){return this._getFlag(i.AllowMerging)},set:function(n){this._setFlag(i.AllowMerging,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isSelected",{get:function(){return this._getFlag(i.Selected)},set:function(n){this._setFlag(i.Selected,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isReadOnly",{get:function(){return this._getFlag(i.ReadOnly)},set:function(n){this._setFlag(i.ReadOnly,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._getFlag(i.HtmlContent)},set:function(n){this.isContentHtml!=n&&(this._setFlag(i.HtmlContent,n),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"wordWrap",{get:function(){return this._getFlag(i.WordWrap)},set:function(n){this._setFlag(i.WordWrap,n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){t!=this._cssClass&&(this._cssClass=n.asString(t),this.grid&&this.grid.invalidate(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),r.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},r.prototype._getFlag=function(n){return 0!=(this._f&n)},r.prototype._setFlag=function(n,t,i){return t!=this._getFlag(n)&&(this._f=t?this._f|n:this._f&~n,i||this.onPropertyChanged(),!0)},r}(),t.RowCol=u,r=function(r){function u(t){r.call(this),this._f=i.ColumnDefault,this._hash=u._ctr.toString(36),u._ctr++,t&&n.copy(this,t)}return __extends(u,r),Object.defineProperty(u.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataType",{get:function(){return this._type},set:function(t){this._type!=t&&(this._type=n.asEnum(t,n.DataType),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showDropDown",{get:function(){return this._showDropDown},set:function(t){t!=this._showDropDown&&(this._showDropDown=n.asBoolean(t,!0),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(t){this._ddCssClass=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"inputType",{get:function(){return this._inpType},set:function(t){this._inpType=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(t){var r,i,u;t!=this.binding&&(r=n.asString(t),this._binding=r?new n.Binding(r):null,!this._type&&this.grid&&this._binding&&(i=this.grid.collectionView,i&&i.sourceCollection&&i.sourceCollection.length&&(u=i.sourceCollection[0],this._type=n.getType(this._binding.getValue(u)))),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(t){if(t!=this.sortMemberPath){var i=n.asString(t);this._bindingSort=i?new n.Binding(i):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(t){null!=u._parseStarSize(t)?(this._szStar=t,this.onPropertyChanged()):(this._szStar=null,this.size=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minWidth",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=n.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxWidth",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=n.asNumber(t,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(n){this._align!=n&&(this._align=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),u.prototype.getAlignment=function(){var t=this._align;if(null==t&&(t="",!this._map))switch(this._type){case n.DataType.Boolean:t="center";break;case n.DataType.Number:t="right"}return t},Object.defineProperty(u.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(n){this._hdr!=n&&(this._hdr=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dataMap",{get:function(){return this._map},set:function(i){this._map!=i&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),n.isArray(i)&&(i=new t.DataMap(i,null,null)),this._map=n.asType(i,t.DataMap,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"format",{get:function(){return this._fmt},set:function(n){this._fmt!=n&&(this._fmt=n,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allowSorting",{get:function(){return this._getFlag(i.AllowSorting)},set:function(n){this._setFlag(i.AllowSorting,n)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"currentSort",{get:function(){var t,n;if(this.grid&&this.grid.collectionView&&this.grid.collectionView.canSort)for(t=this.grid.collectionView.sortDescriptions,n=0;n<t.length;n++)if(t[n].property==this._getBindingSort())return t[n].ascending?"+":"-";return null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:n.Aggregate.None},set:function(t){t!=this._agg&&(this._agg=n.asEnum(t,n.Aggregate),this.onPropertyChanged())},enumerable:!0,configurable:!0}),u.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},u._parseStarSize=function(t){if(n.isString(t)&&t.length>0&&"*"==t[t.length-1]){var i=1==t.length?1:1*t.substr(0,t.length-1);if(i>0&&!isNaN(i))return i}return null},u._ctr=0,u}(u),t.Column=r,e=function(n){function t(t){n.call(this),this._f=i.ColumnDefault,this._data=t}return __extends(t,n),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(n){this._data=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(n){this.size=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(u),t.Row=e,o=function(r){function u(){r.call(this),this._level=-1,this.isReadOnly=!0}return __extends(u,r),Object.defineProperty(u.prototype,"level",{get:function(){return this._level},set:function(t){n.asInt(t),t!=this._level&&(this._level=t,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var i=this.index<this._list.length-1?this._list[this.index+1]:null,r=n.tryCast(i,u),f=n.tryCast(i,t._NewRowTemplate);return i&&null==f&&(null==r||r.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isCollapsed",{get:function(){return this._getFlag(i.Collapsed)},set:function(t){n.asBoolean(t),t!=this.isCollapsed&&null!=this._list&&this._setCollapsed(t)},enumerable:!0,configurable:!0}),u.prototype.getGroupHeader=function(){var u=this.grid,o=u.groupHeaderFormat?u.groupHeaderFormat:n.culture.FlexGrid.groupHeaderFormat,r=n.tryCast(this.dataItem,n.collections.CollectionViewGroup);if(r&&o){var f=r.groupDescription.propertyName,i=r.name,t=u.columns.getColumn(f),e=this.isContentHtml;return t&&(e=e||t.isContentHtml,t.header&&(f=t.header),t.dataMap?i=t.dataMap.getDisplayValue(i):t.format&&(i=n.Globalize.format(i,t.format))),n.format(o,{name:n.escapeHtml(f),value:e?i:n.escapeHtml(i),level:r.level,count:r.items.length})}return""},u.prototype._setCollapsed=function(r){var e,c=this,f=this.grid,o=f.rows,h=this.getCellRange(),s=new t.CellRangeEventArgs(f.cells,new t.CellRange(this.index,(-1)));f.onGroupCollapsedChanging(s),s.cancel||(f.deferUpdate(function(){c._setFlag(i.Collapsed,r);for(var t=h.topRow+1;t<=h.bottomRow&&t>-1&&t<o.length;t++)o[t]._setFlag(i.ParentCollapsed,r),e=n.tryCast(o[t],u),null!=e&&e.isCollapsed&&(t=e.getCellRange().bottomRow)}),f.onGroupCollapsedChanged(s))},u.prototype.getCellRange=function(){for(var f,e=this._list,o=this.index,r=e.length-1,i=o+1;i<=r;i++)if(f=n.tryCast(e[i],u),null!=f&&f.level<=this.level){r=i-1;break}return new t.CellRange(o,0,r,this.grid.columns.length-1)},u}(e),t.GroupRow=o,f=function(i){function r(r,u){i.call(this),this._frozen=0,this._szDef=28,this._szTot=0,this._dirty=!1,this._g=n.asType(r,t.FlexGrid),this._szDef=n.asNumber(u,!1,!0)}return __extends(r,i),Object.defineProperty(r.prototype,"defaultSize",{get:function(){return this._szDef},set:function(t){this._szDef!=t&&(this._szDef=n.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"frozen",{get:function(){return this._frozen},set:function(t){t!=this._frozen&&(this._frozen=n.asNumber(t,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),r.prototype.isFrozen=function(n){return n<this.frozen},Object.defineProperty(r.prototype,"minSize",{get:function(){return this._szMin},set:function(t){t!=this._szMin&&(this._szMin=n.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxSize",{get:function(){return this._szMax},set:function(t){t!=this._szMax&&(this._szMax=n.asNumber(t,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),r.prototype.getTotalSize=function(){return this._update(),this._szTot},r.prototype.getItemAt=function(n){if(this._update(),n<=0&&this.length>0)return 0;for(var t,r,u=0,i=this.length-1;u<=i;)if(t=u+i>>>1,r=this[t],r._pos>n)i=t-1;else{if(!(r._pos+r.renderSize<n))return t;u=t+1}return i},r.prototype.getNextCell=function(n,i,r){var u,f;switch(i){case t.SelMove.Next:for(u=n+1;u<this.length;u++)if(this[u].renderSize>0)return u;break;case t.SelMove.Prev:for(u=n-1;u>=0;u--)if(this[u].renderSize>0)return u;break;case t.SelMove.End:for(u=this.length-1;u>=0;u--)if(this[u].renderSize>0)return u;break;case t.SelMove.Home:for(u=0;u<this.length;u++)if(this[u].renderSize>0)return u;break;case t.SelMove.NextPage:return f=this.getItemAt(this[n].pos+r),f<0?this.getNextCell(n,t.SelMove.End,r):f;case t.SelMove.PrevPage:return f=this.getItemAt(this[n].pos-r),f<0?this.getNextCell(n,t.SelMove.Home,r):f}return n},r.prototype.canMoveElement=function(n,i){var u,f,r;if(i==n||n<0||n>=this.length||i>=this.length)return!1;for(i<0&&(i=this.length-1),u=Math.min(n,i),f=Math.max(n,i),r=u;r<=f;r++)if(!this[r].allowDragging)return!1;return!(this[i]instanceof t._NewRowTemplate)},r.prototype.moveElement=function(n,t){if(this.canMoveElement(n,t)){var i=this[n];this.removeAt(n),t<0&&(t=this.length),this.insert(t,i)}},r.prototype.onCollectionChanged=function(t){void 0===t&&(t=n.collections.NotifyCollectionChangedEventArgs.reset),this._dirty=!0,this._g.invalidate(),i.prototype.onCollectionChanged.call(this,t)},r.prototype.push=function(n){return n._list=this,i.prototype.push.call(this,n)},r.prototype.splice=function(n,t,r){return r&&(r._list=this),i.prototype.splice.call(this,n,t,r)},r.prototype.beginUpdate=function(){this._update(),i.prototype.beginUpdate.call(this)},r.prototype._update=function(){var i,n,t;if(this._dirty&&!this.isUpdating){for(this._dirty=!1,i=0,t=0;t<this.length;t++)n=this[t],n._idx=t,n._list=this,n._pos=i,i+=n.renderSize;return this._szTot=i,!0}return!1},r}(n.collections.ObservableArray),t.RowColCollection=f,s=function(n){function t(){n.apply(this,arguments),this._firstVisible=-1}return __extends(t,n),t.prototype.getColumn=function(n){var t=this.indexOf(n);return t>-1?this[t]:null},t.prototype.indexOf=function(t){var i;if(t instanceof r)return n.prototype.indexOf.call(this,t);for(i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1},Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._update=function(){if(n.prototype._update.call(this)){this._firstVisible=-1;for(var t=0;t<this.length;t++)if(this[t].visible){this._firstVisible=t;break}return!0}return!1},t.prototype._updateStarSizes=function(n){for(var u,t,f,e=0,i=0;i<this.length;i++)t=this[i],t.isVisible&&(t._szStar?(e+=r._parseStarSize(t._szStar),f=t):n-=t.renderWidth);if(f){for(u=n,i=0;i<this.length;i++)t=this[i],t.isVisible&&t._szStar&&(t==f&&u>0?t._sz=u:(t._sz=Math.max(0,Math.round(r._parseStarSize(t._szStar)/e*n)),u-=t.renderWidth));return this._dirty=!0,this._update(),!0}return!1},t}(f),t.ColumnCollection=s,h=function(t){function i(){t.apply(this,arguments),this._maxLevel=-1}return __extends(i,t),Object.defineProperty(i.prototype,"maxGroupLevel",{get:function(){return this._update(),this._maxLevel},enumerable:!0,configurable:!0}),i.prototype._update=function(){var i,r;if(t.prototype._update.call(this)){for(this._maxLevel=-1,i=0;i<this.length;i++)r=n.tryCast(this[i],o),r&&r.level>this._maxLevel&&(this._maxLevel=r.level);return!0}return!1},i}(f),t.RowCollection=h}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(i){"use strict";var r=function(){function r(t,u){var o,l,a;if(this._row=-1,this._col=-1,this._edge=0,t instanceof i.FlexGrid)this._g=t;else{if(!(t instanceof i.GridPanel))throw"First parameter should be a FlexGrid or GridPanel.";this._p=t,t=this._g=this._p.grid}u=n.mouseToPage(u),this._pt=u.clone();var v=t.controlRect,k=t.scrollPosition,y=t.clientSize,d=t.topLeftCells,g=t._eTL,p=t.headersVisibility,e=p&i.HeadersVisibility.Row?d.columns.getTotalSize():0,s=p&i.HeadersVisibility.Column?d.rows.getTotalSize():0,h=p&i.HeadersVisibility.Column?s+g.offsetTop:0;if(u.x-=v.left,u.y-=v.top,this._g._rtl&&(u.x=v.width-u.x),!this._p&&u.x>=0&&u.y>=g.offsetTop&&y&&u.x<=y.width+e&&u.y<=y.height+h&&(this._p=u.x<=e&&u.y<=h?t.topLeftCells:u.x<=e?t.rowHeaders:u.y<=h?t.columnHeaders:t.cells),null!=this._p){var w=this._p.rows,b=this._p.columns,f=this._p.cellType,nt=f==i.CellType.ColumnHeader||f==i.CellType.TopLeft?s:w.getTotalSize(),tt=f==i.CellType.RowHeader||f==i.CellType.TopLeft?e:b.getTotalSize(),c=this._p._getFrozenPos();if((f==i.CellType.Cell||f==i.CellType.RowHeader)&&(u.y-=s,(u.y>c.y||c.y<=0)&&(u.y-=k.y,u.y+=this._p._getOffsetY())),(f==i.CellType.Cell||f==i.CellType.ColumnHeader)&&(u.x-=e,(u.x>c.x||c.x<=0)&&(u.x-=k.x)),(f==i.CellType.ColumnHeader||f==i.CellType.TopLeft)&&(u.y-=h-s),this._row=u.y>nt?-1:w.getItemAt(u.y),this._col=u.x>tt?-1:b.getItemAt(u.x),this._row<0||this._col<0)return void(this._p=null);this._edge=0,o=r._SZEDGE[this._g.isTouching?1:0],this._col>-1&&(l=b[this._col],u.x-l.pos<=o&&(this._edge|=1),l.pos+l.renderSize-u.x<=o&&(this._edge|=4)),this._row>-1&&(a=w[this._row],u.y-a.pos<=o&&(this._edge|=2),a.pos+a.renderSize-u.y<=o&&(this._edge|=8))}}return Object.defineProperty(r.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"cellType",{get:function(){return this._p?this._p.cellType:t.CellType.None},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"range",{get:function(){return new i.CellRange(this._row,this._col)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),r._SZEDGE=[5,30],r}();i.HitTestInfo=r}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";!function(n){n[n.None=0]="None",n[n.Cells=1]="Cells",n[n.ColumnHeaders=2]="ColumnHeaders",n[n.RowHeaders=4]="RowHeaders",n[n.AllHeaders=6]="AllHeaders",n[n.All=7]="All"}(t.AllowMerging||(t.AllowMerging={}));var i=t.AllowMerging,r=function(){function r(n){this._g=n}return r.prototype.getMergedRange=function(r,u,f,e){var c,g,b,v,y,nt,k,p,w;void 0===e&&(e=!0);var o,l,h=r.cellType,s=r.columns,a=r.rows,d=a[u],tt=s[f];if(d instanceof t._NewRowTemplate)return null;if(d instanceof t.GroupRow&&d.dataItem instanceof n.collections.CollectionViewGroup){if(o=new t.CellRange(u,f),tt.aggregate==n.Aggregate.None){for(;o.col>0&&s[o.col-1].aggregate==n.Aggregate.None&&o.col!=s.frozen;)o.col--;for(;o.col2<s.length-1&&s[o.col2+1].aggregate==n.Aggregate.None&&o.col2+1!=s.frozen;)o.col2++}for(;o.col<f&&!s[o.col].visible;)o.col++;return o.isSingleCell?null:o}switch(c=!1,this._g.allowMerging){case i.None:c=!0;break;case i.Cells:c=h!=t.CellType.Cell;break;case i.ColumnHeaders:c=h!=t.CellType.ColumnHeader&&h!=t.CellType.TopLeft;break;case i.RowHeaders:c=h!=t.CellType.RowHeader&&h!=t.CellType.TopLeft;break;case i.AllHeaders:c=h==t.CellType.Cell}if(c)return null;if(s[f].allowMerging){for(o=new t.CellRange(u,f),g=0,b=a.length-1,u>=a.frozen?e&&(h==t.CellType.Cell||h==t.CellType.RowHeader)&&(l=r._getViewRange(!0),g=l.topRow,b=l.bottomRow):b=a.frozen-1,v=u-1;v>=g&&this._mergeCell(r,v,f,u,f);v--)o.row=v;for(y=u+1;y<=b&&this._mergeCell(r,u,f,y,f);y++)o.row2=y;for(;o.row<u&&!a[o.row].visible;)o.row++;if(!o.isSingleCell)return o}if(a[u].allowMerging){for(o=new t.CellRange(u,f),nt=0,k=s.length-1,f>=s.frozen?e&&(h==t.CellType.Cell||h==t.CellType.ColumnHeader)&&(l=r._getViewRange(!0),nt=l.leftCol,k=l.rightCol):k=s.frozen-1,p=f-1;p>=nt&&this._mergeCell(r,u,p,u,f);p--)o.col=p;for(w=f+1;w<=k&&this._mergeCell(r,u,f,u,w);w++)o.col2=w;for(;o.col<f&&!s[o.col].visible;)o.col++;if(!o.isSingleCell)return o}return null},r.prototype._mergeCell=function(n,i,r,u,f){var e=n.rows[i],o=n.rows[u];return!(e instanceof t.GroupRow||e instanceof t._NewRowTemplate||o instanceof t.GroupRow||o instanceof t._NewRowTemplate)&&((i==u||n.rows.isFrozen(i)==n.rows.isFrozen(u))&&((r==f||n.columns.isFrozen(r)==n.columns.isFrozen(f))&&((i==u||!(r>0&&(e.allowMerging&&this._mergeCell(n,i,r-1,i,r)||o.allowMerging&&this._mergeCell(n,u,r-1,u,r))||f<n.columns.length-1&&(e.allowMerging&&this._mergeCell(n,i,f,i,f+1)||o.allowMerging&&this._mergeCell(n,u,f,u,f+1))))&&n.getCellData(i,r,!0)==n.getCellData(u,f,!0))))},r}();t.MergeManager=r}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var i=function(){function t(t,i,r){var f,u;if(this.mapChanged=new n.Event,n.isArray(t)&&!i&&!r){for(f=[],u=0;u<t.length;u++)f.push({value:t[u]});t=f,i=r="value"}this._cv=n.asCollectionView(t),this._keyPath=n.asString(i,!1),this._displayPath=n.asString(r,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(t.prototype,"sortByDisplayValues",{get:function(){return 1!=this._sortByKey},set:function(t){this._sortByKey=!n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),t.prototype.getKeyValue=function(n){var t=this._indexOf(n,this._displayPath,!1);return t>-1?this._cv.sourceCollection[t][this._keyPath]:null},t.prototype.getDisplayValue=function(n){var t=this._indexOf(n,this._keyPath,!0);return t>-1?this._cv.sourceCollection[t][this._displayPath]:n},t.prototype.getDisplayValues=function(){var t,n,i=[];if(this._cv&&this._displayPath)for(t=this._cv.items,n=0;n<t.length;n++)i.push(t[n][this._displayPath]);return i},t.prototype.getKeyValues=function(){var t,n,i=[];if(this._cv&&this._keyPath)for(t=this._cv.items,n=0;n<t.length;n++)i.push(t[n][this._keyPath]);return i},Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.onMapChanged=function(){this.mapChanged.raise(this)},t.prototype._indexOf=function(n,t,i){var u,r;if(this._cv&&t){var f=null!=n?n.toString():"",e=i?f:f.toLowerCase(),o=this._cv.sourceCollection;for(u=0;u<o.length;u++)if(r=o[u][t],r==n||!i&&r.length==e.length&&r.toLowerCase()==e||null!=r&&r.toString()==f)return u}return-1},t}();t.DataMap=i}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var r,f,i,u;!function(n){n[n.None=0]="None",n[n.Cell=1]="Cell",n[n.CellRange=2]="CellRange",n[n.Row=3]="Row",n[n.RowRange=4]="RowRange",n[n.ListBox=5]="ListBox"}(t.SelectionMode||(t.SelectionMode={})),r=t.SelectionMode,function(n){n[n.None=0]="None",n[n.Selected=1]="Selected",n[n.Cursor=2]="Cursor"}(t.SelectedState||(t.SelectedState={})),f=t.SelectedState,function(n){n[n.None=0]="None",n[n.Next=1]="Next",n[n.Prev=2]="Prev",n[n.NextPage=3]="NextPage",n[n.PrevPage=4]="PrevPage",n[n.Home=5]="Home",n[n.End=6]="End",n[n.NextCell=7]="NextCell",n[n.PrevCell=8]="PrevCell"}(t.SelMove||(t.SelMove={})),i=t.SelMove,u=function(){function u(n){this._sel=new t.CellRange(0,0),this._mode=r.CellRange,this._g=n}return Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._mode},set:function(n){var u,i;if(n!=this._mode){if(n==r.ListBox||this._mode==r.ListBox)for(u=this._g.rows,i=0;i<u.length;i++)u[i]._setFlag(t.RowColFlags.Selected,n==r.ListBox&&this._sel.containsRow(i),!1);switch(n){case r.None:this._sel.setRange(-1,-1);break;case r.Cell:this._sel.row2=this._sel.row,this._sel.col2=this._sel.col;break;case r.Row:this._sel.row2=this._sel.row}this._mode=n,this._g.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._sel},set:function(n){this.select(n)},enumerable:!0,configurable:!0}),u.prototype.select=function(i,u){var h,c,o,l;void 0===u&&(u=!0),n.isNumber(i)&&n.isNumber(u)&&(i=new t.CellRange(i,u),u=!0),i=n.asType(i,t.CellRange);var f=this._g,a=this._sel,e=i,s=!1;switch(f.selectionMode){case r.Cell:i.row2=i.row,i.col2=i.col;break;case r.Row:i.row2=i.row;break;case r.ListBox:s=!0}if(h=e.equals(a),s&&e.row>-1&&!f.rows[e.row].isSelected&&(h=!1),h)return void(u&&f.scrollIntoView(e.row,e.col));if(c=new t.CellRangeEventArgs(f.cells,e),f.onSelectionChanging(c)){if(s){for(o=0;o<f.rows.length;o++)f.rows[o]._setFlag(t.RowColFlags.Selected,e.containsRow(o),!1);f.refreshCells(!1,!0,!0)}e.row=Math.min(e.row,f.rows.length-1),e.row2=Math.min(e.row2,f.rows.length-1),this._sel=e,f.refreshCells(!1,!0,!0),u&&f.scrollIntoView(e.row,e.col),f.collectionView&&(l=f._getCvIndex(e.row),f.collectionView.moveCurrentToPosition(l)),f.onSelectionChanged(c)}},u.prototype.moveSelection=function(n,r,u){var e,f,a,h=this._g,l=h.rows,c=h.columns,o=this._getReferenceCell(n,r,u),s=Math.max(0,h.clientSize.height-h.columnHeaders.height);r==i.NextCell?(f=c.getNextCell(o.col,i.Next,s),e=o.row,f==o.col&&(e=l.getNextCell(e,i.Next,s),e>o.row&&(f=c.getNextCell(0,i.Next,s),f=c.getNextCell(f,i.Prev,s))),h.select(e,f)):r==i.PrevCell?(f=c.getNextCell(o.col,i.Prev,s),
e=o.row,f==o.col&&(e=l.getNextCell(e,i.Prev,s),e<o.row&&(f=c.getNextCell(c.length-1,i.Prev,s),f=c.getNextCell(f,i.Next,s))),h.select(e,f)):(e=l.getNextCell(o.row,n,s),f=c.getNextCell(o.col,r,s),u?(a=h._selHdl._sel,h.select(new t.CellRange(e,f,a.row2,a.col2))):h.select(e,f))},u.prototype._getReferenceCell=function(n,t){var f=this._g,u=f._selHdl._sel,r=f.getMergedRange(f.cells,u.row,u.col);if(!r||r.isSingleCell)return u;switch(r=r.clone(),n){case i.Next:case i.NextCell:r.row=r.bottomRow;break;case i.None:r.row=u.row}switch(t){case i.Next:case i.NextCell:r.col=r.rightCol;break;case i.None:r.col=u.col}return r},u.prototype._adjustSelection=function(n){switch(this._mode){case r.Cell:return new t.CellRange(n.row,n.col,n.row,n.col);case r.Row:return new t.CellRange(n.row,0,n.row,this._g.columns.length-1);case r.RowRange:case r.ListBox:return new t.CellRange(n.row,0,n.row2,this._g.columns.length-1)}return n},u}(),t._SelectionHandler=u}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var i=function(){function i(n){this._g=n,n.addEventListener(n.hostElement,"keypress",this._keypress.bind(this)),n.addEventListener(n.hostElement,"keydown",this._keydown.bind(this))}return i.prototype._keydown=function(i){var v,l,r=this._g,e=r.selection,f=i.ctrlKey||i.metaKey,u=i.shiftKey,a=i.target,o=!0;if(r.isRangeValid(e)&&!i.defaultPrevented){if(!r.activeEditor&&r._isInputElement(a)&&!a.getAttribute("wj-part"))return;if(r.activeEditor&&r._edtHdl._keydown(i))return;var h=n.tryCast(r.rows[e.row],t.GroupRow),c=n.tryCast(r.collectionView,"IEditableCollectionView"),s=i.keyCode;if(r.autoClipboard){if(f&&(67==s||45==s))return l=new t.CellRangeEventArgs(r.cells,e),r.onCopying(l)&&(v=r.getClipString(),n.Clipboard.copy(v),r.onCopied(l)),void i.stopPropagation();if(f&&86==s||u&&45==s)return r.isReadOnly||(l=new t.CellRangeEventArgs(r.cells,e),r.onPasting(l)&&n.Clipboard.paste(function(n){r.setClipString(n),r.onPasted(l)})),void i.stopPropagation()}if(r._rtl)switch(s){case n.Key.Left:s=n.Key.Right;break;case n.Key.Right:s=n.Key.Left}switch(s){case 65:f?r.select(new t.CellRange(0,0,r.rows.length-1,r.columns.length-1)):o=!1;break;case n.Key.Left:e.isValid&&0==e.col&&null!=h&&!h.isCollapsed&&h.hasChildren?h.isCollapsed=!0:this._moveSel(t.SelMove.None,f?t.SelMove.Home:t.SelMove.Prev,u);break;case n.Key.Right:e.isValid&&0==e.col&&null!=h&&h.isCollapsed?h.isCollapsed=!1:this._moveSel(t.SelMove.None,f?t.SelMove.End:t.SelMove.Next,u);break;case n.Key.Up:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(f?t.SelMove.Home:t.SelMove.Prev,t.SelMove.None,u);break;case n.Key.Down:if(i.altKey&&r._edtHdl._toggleListBox(this._g.selection))break;this._moveSel(f?t.SelMove.End:t.SelMove.Next,t.SelMove.None,u);break;case n.Key.PageUp:this._moveSel(t.SelMove.PrevPage,t.SelMove.None,u);break;case n.Key.PageDown:this._moveSel(t.SelMove.NextPage,t.SelMove.None,u);break;case n.Key.Home:this._moveSel(f?t.SelMove.Home:t.SelMove.None,t.SelMove.Home,u);break;case n.Key.End:this._moveSel(f?t.SelMove.End:t.SelMove.None,t.SelMove.End,u);break;case n.Key.Tab:this._moveSel(t.SelMove.None,u?t.SelMove.PrevCell:t.SelMove.NextCell,!1);break;case n.Key.Enter:this._moveSel(u?t.SelMove.Prev:t.SelMove.Next,t.SelMove.None,!1),!u&&c&&null!=c.currentEditItem&&r._edtHdl._commitRowEdits();break;case n.Key.Escape:c&&(null!=c.currentEditItem&&c.cancelEdit(),null!=c.currentAddItem&&c.cancelNew()),r._mouseHdl.resetMouseState();break;case n.Key.Delete:o=this._deleteSel();break;case n.Key.F2:o=r.startEditing(!0);break;case n.Key.F4:o=r._edtHdl._toggleListBox(this._g.selection);break;case n.Key.Space:o=r.startEditing(!0),o&&setTimeout(function(){var t=r.activeEditor;t&&("checkbox"==t.type?(t.checked=!t.checked,r.finishEditing()):n.setSelectionRange(t,t.value.length))});break;default:o=!1}o&&(i.preventDefault(),i.stopPropagation())}},i.prototype._keypress=function(t){var i=this._g;i.activeEditor?i._edtHdl._keypress(t):t.charCode>n.Key.Space&&i.startEditing(!1)&&i.activeEditor&&setTimeout(function(){var r=i.activeEditor;r&&"checkbox"!=r.type&&(r.value=String.fromCharCode(t.charCode),n.setSelectionRange(r,1),r.dispatchEvent(i._edtHdl._evtInput),i._edtHdl._keypress(t))}),t.stopPropagation()},i.prototype._moveSel=function(n,i,r){this._g.selectionMode!=t.SelectionMode.None&&this._g._selHdl.moveSelection(n,i,r)},i.prototype._deleteSel=function(){var h,a,r,s,c,l,i=this._g,f=n.tryCast(i.collectionView,"IEditableCollectionView"),u=i.selection,o=i.rows,e=[];if(i.allowDelete&&!i.isReadOnly&&(null==f||f.canRemove&&!f.isAddingNew&&!f.isEditingItem))switch(i.selectionMode){case t.SelectionMode.CellRange:if(0==u.leftCol&&u.rightCol==i.columns.length-1)for(r=u.topRow;r>-1&&r<=u.bottomRow;r++)e.push(o[r]);break;case t.SelectionMode.ListBox:for(r=0;r<o.length;r++)o[r].isSelected&&e.push(o[r]);break;case t.SelectionMode.Row:u.topRow>-1&&e.push(o[u.topRow]);break;case t.SelectionMode.RowRange:for(r=u.topRow;r>-1&&r<=u.bottomRow;r++)e.push(o[r])}if(e.length>0){for(f&&f.beginUpdate(),i.beginUpdate(),h=new t.CellRange,a=new t.CellRangeEventArgs(i.cells,h),r=e.length-1;r>=0;r--)s=e[r],h.row=h.row2=s.index,i.onDeletingRow(a)&&(f&&s.dataItem?f.remove(s.dataItem):i.rows.removeAt(s.index),i.onDeletedRow(a));return i.endUpdate(),f&&f.endUpdate(),i.selectionMode==t.SelectionMode.ListBox&&(c=i.selection.row,c>-1&&c<i.rows.length&&(i.rows[c].isSelected=!0)),i.childItemsPath&&i.collectionView&&i.collectionView.refresh(),!0}return!(i.isReadOnly||0!=e.length||!u.isSingleCell||(l=i._getBindingColumn(i.cells,u.row,i.columns[u.col]),0!=l.required&&(null!=l.required||l.dataType!=n.DataType.String)||!i.getCellData(u.row,u.col,!0)||!i.startEditing(!1,u.row,u.col)))&&(i.setCellData(u.row,u.col,"",!0),i.finishEditing(!0),i.invalidate(),!0)},i}();t._KeyboardHandler=i}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var r,e,u,f,i=4;!function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both",n[n.ColumnsAllCells=n.Columns|i]="ColumnsAllCells",n[n.RowsAllCells=n.Rows|i]="RowsAllCells",n[n.BothAllCells=n.Both|i]="BothAllCells"}(t.AllowResizing||(t.AllowResizing={})),r=t.AllowResizing,function(n){n[n.None=0]="None",n[n.Headers=1]="Headers",n[n.Cells=2]="Cells",n[n.Both=3]="Both"}(t.AutoSizeMode||(t.AutoSizeMode={})),e=t.AutoSizeMode,function(n){n[n.None=0]="None",n[n.Columns=1]="Columns",n[n.Rows=2]="Rows",n[n.Both=3]="Both"}(t.AllowDragging||(t.AllowDragging={})),u=t.AllowDragging,f=function(){function f(t){var u,f,r=this,i=t.hostElement;this._g=t,t.addEventListener(i,"mousedown",function(n){n.defaultPrevented||0!=n.button||(t.addEventListener(document,"mousemove",u),t.addEventListener(document,"mouseup",f),r._mousedown(n))}),u=function(n){r._mousemove(n)},f=function(n){t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),r._mouseup(n)},t.addEventListener(i,"mousemove",this._hover.bind(this)),t.addEventListener(i,"dblclick",this._dblclick.bind(this)),t.addEventListener(i,"selectstart",function(n){"INPUT"!=n.target.tagName&&n.preventDefault()}),t.addEventListener(i,"onmousewheel"in document?"mousewheel":"DOMMouseScroll",function(i){var r=t.cells.hostElement.parentElement;r.scrollHeight>r.offsetHeight&&(i.wheelDelta>0&&0==r.scrollTop||i.wheelDelta<0&&r.scrollTop+r.offsetHeight>=r.scrollHeight)&&n.closest(i.target,".wj-flexgrid")==t.hostElement&&(i.preventDefault(),i.stopPropagation())}),t.addEventListener(i,"dragstart",this._dragstart.bind(this)),t.addEventListener(i,"dragover",this._dragover.bind(this)),t.addEventListener(i,"dragleave",this._dragover.bind(this)),t.addEventListener(i,"drop",this._drop.bind(this)),t.addEventListener(i,"dragend",this._dragend.bind(this)),this._dvMarker=n.createElement('<div class="wj-marker">&nbsp;</div>')}return f.prototype.resetMouseState=function(){var n,t;this._dragSource&&(this._dragSource.style.opacity=1),this._showDragMarker(null),n=this._g.hostElement,n&&(n.style.cursor="default"),t=this._g,t.removeEventListener(document,"mousemove"),t.removeEventListener(document,"mouseup"),this._htDown=null,this._lbSelRows=null,this._szRowCol=null,this._szArgs=null,this._dragSource=null},f.prototype._mousedown=function(i){var f,o,s,e,h,r=this._g;if(r._rcBounds=null,f=r.hitTest(i),o=f.cellType,o==t.CellType.None)return void r.finishEditing();if(!(o==t.CellType.Cell&&r.editRange&&r.editRange.contains(f.range)||(s=n.getActiveElement(),i.target==s&&r._isInputElement(i.target)))){if(i.target!=s&&r.focus(),this._htDown=f,this._eMouse=i,null!=this._szRowCol)return void this._handleResizing(i);switch(o){case t.CellType.Cell:i.ctrlKey&&r.selectionMode==t.SelectionMode.ListBox&&this._startListBoxSelection(f.row),this._mouseSelect(i,i.shiftKey);break;case t.CellType.RowHeader:0==(this._g.allowDragging&u.Rows)&&(i.ctrlKey&&r.selectionMode==t.SelectionMode.ListBox&&this._startListBoxSelection(f.row),this._mouseSelect(i,i.shiftKey))}if(o==t.CellType.Cell&&r.rows.maxGroupLevel>-1&&(e=n.tryCast(r.rows[f.row],t.GroupRow),h=n.closest(i.target,"["+t.CellFactory._WJA_COLLAPSE+"]"),e&&h))return i.ctrlKey?r.collapseGroupsToLevel(e.isCollapsed?e.level+1:e.level):e.isCollapsed=!e.isCollapsed,this.resetMouseState(),void i.preventDefault()}},f.prototype._mousemove=function(n){var i=this;if(null!=this._htDown)if(setTimeout(function(){n.which&&i._g.containsFocus()||i.resetMouseState()}),this._eMouse=n,this._szRowCol)this._handleResizing(n);else switch(this._htDown.cellType){case t.CellType.Cell:this._mouseSelect(n,!0);break;case t.CellType.RowHeader:0==(this._g.allowDragging&u.Rows)&&this._mouseSelect(n,!0)}},f.prototype._mouseup=function(n){var i,r,u,f;this._dragSource&&this._g.isTouching||(i=this._htDown,!i||i.cellType!=t.CellType.TopLeft||this._szArgs||n.defaultPrevented?this._szArgs?this._finishResizing(n):this._handleSort(n):(r=this._g,u=r.hitTest(n),u.panel==i.panel&&u.row==i.row&&u.col==i.col&&(f=r.getMergedRange(i.panel,i.row,i.col)||u.range,0==f.row&&0==f.col&&r.select(new t.CellRange(0,0,r.rows.length-1,r.columns.length-1)))),this.resetMouseState())},f.prototype._dblclick=function(n){var f,h,c,u=this._g,e=u.hitTest(n),o=e.cellType,l=u.selection,s=e.range;if(!n.defaultPrevented){if(e.edgeRight&&u.allowResizing&r.Columns){if(o==t.CellType.ColumnHeader||o==t.CellType.Cell&&u.allowResizing&i)for(n.preventDefault(),n.ctrlKey&&l.containsColumn(e.col)&&(s=l),h=s.leftCol;h<=s.rightCol;h++)u.columns[h].allowResizing&&(f=new t.CellRangeEventArgs(u.cells,new t.CellRange((-1),h)),u.onAutoSizingColumn(f)&&u.onResizingColumn(f))&&(u.autoSizeColumn(h),u.onResizedColumn(f),u.onAutoSizedColumn(f));else o==t.CellType.TopLeft&&u.topLeftCells.columns[e.col].allowResizing&&(n.preventDefault(),f=new t.CellRangeEventArgs(u.topLeftCells,new t.CellRange((-1),e.col)),u.onAutoSizingColumn(f)&&u.onResizingColumn(f))&&(u.autoSizeColumn(e.col,!0),u.onAutoSizedColumn(f),u.onResizedColumn(f));return void this.resetMouseState()}if(e.edgeBottom&&u.allowResizing&r.Rows){if(o==t.CellType.RowHeader||o==t.CellType.Cell&&u.allowResizing&i)for(n.ctrlKey&&l.containsRow(e.row)&&(s=l),c=s.topRow;c<=s.bottomRow;c++)u.rows[c].allowResizing&&(f=new t.CellRangeEventArgs(u.cells,new t.CellRange(c,(-1))),u.onAutoSizingRow(f)&&u.onResizingRow(f))&&(u.autoSizeRow(c),u.onResizedRow(f),u.onAutoSizedRow(f));else o==t.CellType.TopLeft&&u.topLeftCells.rows[e.row].allowResizing&&(f=new t.CellRangeEventArgs(u.topLeftCells,new t.CellRange(e.row,(-1))),u.onAutoSizingRow(f)&&u.onResizingRow(f))&&(u.autoSizeRow(e.row,!0),u.onResizedRow(f),u.onAutoSizedRow(f));this.resetMouseState()}}},f.prototype._hover=function(n){if(null==this._htDown){var f=this._g,u=f.hitTest(n),o=u.panel,e=u.cellType,s="default";this._szRowCol=null,(e==t.CellType.ColumnHeader||e==t.CellType.TopLeft||e==t.CellType.Cell&&f.allowResizing&i)&&f.allowResizing&r.Columns&&u.edgeRight&&o.columns[u.col].allowResizing&&(this._szRowCol=o.columns[u.col]),(e==t.CellType.RowHeader||e==t.CellType.TopLeft||e==t.CellType.Cell&&f.allowResizing&i)&&f.allowResizing&r.Rows&&u.edgeBottom&&o.rows[u.row].allowResizing&&(this._szRowCol=o.rows[u.row]),this._szRowCol instanceof t.Column?s="col-resize":this._szRowCol instanceof t.Row&&(s="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,f.hostElement.style.cursor=s}},f.prototype._mouseSelect=function(i,r){var u,f=this;this._htDown&&this._htDown.panel&&this._g.selectionMode!=t.SelectionMode.None&&(u=new t.HitTestInfo(this._htDown.panel,i),this._handleSelection(u,r),this._g._isInputElement(i.target)||i.preventDefault(),!n.isIE9()&&i.button>=0&&(u=new t.HitTestInfo(this._g,i),u.cellType!=t.CellType.Cell&&u.cellType!=t.CellType.RowHeader&&setTimeout(function(){f._mouseSelect(f._eMouse,r)},100)))},f.prototype._handleResizing=function(n){var r,u,i;n.preventDefault(),this._szRowCol instanceof t.Column&&(r=n.clientX+pageXOffset,i=Math.round(Math.max(1,this._szStart+(r-this._htDown.point.x)*(this._g._rtl?-1:1))),this._szRowCol.renderSize!=i&&(null==this._szArgs&&(this._szArgs=new t.CellRangeEventArgs(this._htDown.panel,new t.CellRange((-1),this._szRowCol.index))),this._szArgs.cancel=!1,this._g.onResizingColumn(this._szArgs)&&(this._g.deferResizing||this._g.isTouching?this._showResizeMarker(i):this._szRowCol.width=i))),this._szRowCol instanceof t.Row&&(u=n.clientY+pageYOffset,i=Math.round(Math.max(1,this._szStart+(u-this._htDown.point.y))),this._szRowCol.renderSize!=i&&(null==this._szArgs&&(this._szArgs=new t.CellRangeEventArgs(this._htDown.panel,new t.CellRange(this._szRowCol.index,(-1)))),this._szArgs.cancel=!1,this._g.onResizingRow(this._szArgs)&&(this._g.deferResizing||this._g.isTouching?this._showResizeMarker(i):this._szRowCol.height=i)))},f.prototype._dragstart=function(n){var f,e,i=this._g,r=this._htDown;r&&(this._dragSource=null,this._szRowCol||(f=new t.CellRangeEventArgs(i.cells,r.range),r.cellType==t.CellType.ColumnHeader&&i.allowDragging&u.Columns&&r.col>-1&&i.columns[r.col].allowDragging?i.onDraggingColumn(f)&&(this._dragSource=n.target):r.cellType==t.CellType.RowHeader&&i.allowDragging&u.Rows&&r.row>-1&&i.rows[r.row].allowDragging&&(e=i.rows[r.row],e instanceof t.GroupRow||e instanceof t._NewRowTemplate||i.onDraggingRow(f)&&(this._dragSource=n.target))),this._dragSource&&n.dataTransfer?(n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("text",""),this._dragSource.style.opacity=.5,n.stopPropagation(),i.beginUpdate()):n.preventDefault())},f.prototype._dragend=function(){this._g.endUpdate(),this.resetMouseState()},f.prototype._dragover=function(n){var r=this._g,i=r.hitTest(n),u=!1;this._htDown&&i.cellType==this._htDown.cellType&&(i.cellType==t.CellType.ColumnHeader?u=r.columns.canMoveElement(this._htDown.col,i.col):i.cellType==t.CellType.RowHeader&&(u=r.rows.canMoveElement(this._htDown.row,i.row))),u?(n.dataTransfer.dropEffect="move",n.preventDefault(),this._showDragMarker(i)):this._showDragMarker(null)},f.prototype._drop=function(n){var u,i=this._g,r=i.hitTest(n),f=new t.CellRangeEventArgs(i.cells,r.range);this._htDown&&r.cellType==this._htDown.cellType&&(u=i.selection,r.cellType==t.CellType.ColumnHeader?(i.columns.moveElement(this._htDown.col,r.col),i.select(u.row,r.col),i.onDraggedColumn(f)):r.cellType==t.CellType.RowHeader&&(i.rows.moveElement(this._htDown.row,r.row),i.select(r.row,u.col),i.onDraggedRow(f))),this.resetMouseState()},f.prototype._showResizeMarker=function(i){var r,u=this._g,f=this._dvMarker;f.parentElement||u.cells.hostElement.appendChild(f),this._szRowCol instanceof t.Column?(r={display:"",left:this._szRowCol.pos+i-1,top:0,right:"",bottom:0,width:3,height:"",zIndex:1e3},u._rtl&&(r.left=f.parentElement.clientWidth-r.left-r.width),this._htDown.panel.cellType==t.CellType.TopLeft&&(r.left-=u.topLeftCells.hostElement.offsetWidth)):(r={left:0,top:this._szRowCol.pos+i-1,right:0,bottom:"",width:"",height:3,zIndex:1e3},this._htDown.panel.cellType==t.CellType.TopLeft&&(r.top-=u.topLeftCells.hostElement.offsetHeight)),n.setCss(f,r)},f.prototype._showDragMarker=function(i){var r,e,o,f=this._g,u=this._dvMarker;if(!i)return u.parentElement&&u.parentElement.removeChild(u),void(this._rngTarget=null);if(!i.range.equals(this._rngTarget)){switch(this._rngTarget=i.range,u.parentElement||i.panel.hostElement.appendChild(u),r={display:"",left:0,top:0,width:6,height:6},i.cellType){case t.CellType.ColumnHeader:r.height=i.panel.height,e=f.columns[i.col],r.left=e.pos-r.width/2,i.col>this._htDown.col&&(r.left+=e.renderWidth),f._rtl&&(r.left=u.parentElement.clientWidth-r.left-r.width);break;case t.CellType.RowHeader:r.width=i.panel.width,o=f.rows[i.row],r.top=o.pos-r.height/2,i.row>this._htDown.row&&(r.top+=o.renderHeight)}n.setCss(u,r)}},f.prototype._finishResizing=function(n){var u,s,f,e,r=this._g,o=r.selection,h=this._eMouse.ctrlKey,i=this._szArgs,c=n.clientX+pageXOffset,l=n.clientY+pageYOffset;if(i&&!i.cancel&&i.col>-1&&(u=i.col,s=Math.round(Math.max(1,this._szStart+(c-this._htDown.point.x)*(this._g._rtl?-1:1))),i.panel.columns[u].width=Math.round(s),r.onResizedColumn(i),h&&this._htDown.cellType==t.CellType.ColumnHeader&&o.containsColumn(u)))for(f=o.leftCol;f<=o.rightCol;f++)r.columns[f].allowResizing&&f!=u&&(i=new t.CellRangeEventArgs(r.cells,new t.CellRange((-1),f)),r.onResizingColumn(i))&&(r.columns[f].size=r.columns[u].size,r.onResizedColumn(i));if(i&&!i.cancel&&i.row>-1&&(u=i.row,s=Math.round(Math.max(1,this._szStart+(l-this._htDown.point.y))),i.panel.rows[u].height=Math.round(s),r.onResizedRow(i),h&&this._htDown.cellType==t.CellType.RowHeader&&o.containsRow(u)))for(e=o.topRow;e<=o.bottomRow;e++)r.rows[e].allowResizing&&e!=u&&(i=new t.CellRangeEventArgs(r.cells,new t.CellRange(e,(-1))),r.onResizingRow(i))&&(r.rows[e].size=r.rows[u].size,r.onResizedRow(i))},f.prototype._startListBoxSelection=function(n){var t,i=this._g.rows;for(this._lbSelState=!i[n].isSelected,this._lbSelRows={},t=0;t<i.length;t++)i[t].isSelected&&(this._lbSelRows[t]=!0)},f.prototype._handleSelection=function(n,i){var r,s,h,u=this._g,o=u.rows,e=u.selection,f=new t.CellRange(n.row,n.col);if(n.row>-1&&n.col>-1)if(null!=this._lbSelRows){for(f=new t.CellRange(n.row,n.col,this._htDown.row,this._htDown.col),r=0;r<o.length;r++)s=f.containsRow(r)?this._lbSelState:null!=this._lbSelRows[r],s!=o[r].isSelected&&(h=new t.CellRangeEventArgs(u.cells,new t.CellRange(r,e.col,r,e.col2)),u.onSelectionChanging(h))&&(o[r].isSelected=s,u.onSelectionChanged(h));u.scrollIntoView(n.row,n.col)}else n.cellType==t.CellType.RowHeader&&(f.col=0,f.col2=u.columns.length-1),i&&(f.row2=e.row2,f.col2=e.col2),u.select(f)},f.prototype._handleSort=function(i){var s,a,h,e,u=this._g,o=u.collectionView,r=u.hitTest(i);if(this._htDown&&r.cellType==this._htDown.cellType&&r.col==this._htDown.col&&r.cellType==t.CellType.ColumnHeader&&!r.edgeRight&&r.col>-1&&o&&o.canSort&&u.allowSorting){var c=u.getMergedRange(r.panel,r.row,r.col),v=c?c.row2:r.row,l=u.columns[r.col],f=u._getBindingColumn(r.panel,r.row,l);if((v==u._getSortRowIndex()||l!=f)&&(s=f.currentSort,a="+"!=s,f.allowSorting&&f.binding)){if(!s&&i.ctrlKey)return;h=new t.CellRangeEventArgs(u.columnHeaders,new t.CellRange((-1),r.col)),u.onSortingColumn(h)&&(e=o.sortDescriptions,i.ctrlKey?e.clear():e.splice(0,e.length,new n.collections.SortDescription(f._getBindingSort(),a)),u.onSortedColumn(h))}}},f}(),t._MouseHandler=f}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var i=function(){function i(i){var r=this;this._fullEdit=!1,this._list=null,this._g=i,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),i.selectionChanging.addHandler(function(n,t){var u;if(r.finishEditing(),u=i._selHdl._sel.row,u!=t.row){var f=i.rows.length,e=u>-1&&u<f?i.rows[u].dataItem:null,o=t.row>-1&&t.row<f?i.rows[t.row].dataItem:null;e!=o&&r._commitRowEdits()}}),i.lostFocus.addHandler(function(){if(!r._g.containsFocus()){var t=n.getActiveElement();t&&"fixed"==getComputedStyle(t).position||r._commitRowEdits()}}),i.addEventListener(i.hostElement,"mousedown",function(u){var o,e,f,s;if(!i._mouseHdl._szRowCol)if(o=i.selection,e=i.hitTest(u),r._htDown=null,r._cancelClick=!1,e.cellType!=t.CellType.Cell&&e.cellType!=t.CellType.None)r._lbx&&n.contains(r._lbx.hostElement,u.target)||r._commitRowEdits();else if(e.cellType!=t.CellType.None){if(f=n.tryCast(u.target,HTMLInputElement),f&&"checkbox"==f.type&&n.hasClass(f.parentElement,"wj-cell")&&(f!=r.activeEditor?(r.startEditing(!1,e.row,e.col),setTimeout(function(){f=r.activeEditor,f&&"checkbox"==f.type?(f.checked=!f.checked,f.focus(),r.finishEditing()):r._cancelClick=!0})):r.finishEditing()),s=document.elementFromPoint(u.clientX,u.clientY),n.closest(s,"["+t.CellFactory._WJA_DROPDOWN+"]"))return r._toggleListBox(e.range),r._htDown=null,void u.preventDefault();null==f&&e.row==o.row&&e.col==o.col&&(r._htDown=e)}},!0),i.addEventListener(i.hostElement,"click",function(n){if(r._cancelClick)return n.preventDefault(),void n.stopPropagation();if(r._htDown&&!r.activeEditor){var t=i.hitTest(n);t.range.equals(r._htDown.range)&&r.startEditing(!0,t.row,t.col)}},!0)}return i.prototype.startEditing=function(i,r,u,f){var e,s,h,c,l,a,o;return void 0===i&&(i=!0),e=this._g,r=n.asNumber(r,!0,!0),u=n.asNumber(u,!0,!0),null==r&&(r=e.selection.row),null==u&&(u=e.selection.col),null==f&&(f=!0),!(!this._allowEditing(r,u)||(s=e.getMergedRange(e.cells,r,u),s||(s=new t.CellRange(r,u)),h=e.rows[r].dataItem,e.select(s,!0),!e.rows[r]||h!=e.rows[r].dataItem))&&(!!s.equals(this._rng)||(c=new t.CellRangeEventArgs(e.cells,s),!!e.onBeginningEdit(c)&&(l=n.tryCast(e.collectionView,"IEditableCollectionView"),l&&(h=e.rows[r].dataItem,l.editItem(h)),this._fullEdit=i,this._rng=s,this._list=null,a=e.columns[u].dataMap,a&&(this._list=a.getDisplayValues()),e.refresh(!1),(o=this._edt)&&("checkbox"==o.type?this._fullEdit=!1:f&&n.setSelectionRange(o,0,o.value.length),e.onPrepareCellForEdit(c),o=this._edt,o&&f&&o.focus()),!0)))},i.prototype.finishEditing=function(i){var u,h,l,o,s;if(void 0===i&&(i=!1),u=this._edt,!u)return this._removeListBox(),!0;var r=this._g,f=this._rng,e=new t.CellRangeEventArgs(r.cells,f),c=this._g.containsFocus();if(r.activeEditor&&c&&(h=n.Control.getControl(n.closest(n.getActiveElement(),".wj-control")))&&h.onLostFocus(e),e.cancel=i,r.onCellEditEnding(e),!e.cancel)for(l="checkbox"==u.type?u.checked:u.value,o=f.topRow;o<=f.bottomRow&&o<r.rows.length;o++)for(s=f.leftCol;s<=f.rightCol&&s<r.columns.length;s++)r.cells.setCellData(o,s,l,!0);return this._edt=null,this._rng=null,this._list=null,this._removeListBox(),r.refresh(!1),c&&r.focus(),r.onCellEditEnded(e),!0},Object.defineProperty(i.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),i.prototype._allowEditing=function(n,i){var r=this._g;return!r.isReadOnly&&r.selectionMode!=t.SelectionMode.None&&(!(n<0||n>=r.rows.length||r.rows[n].isReadOnly||!r.rows[n].isVisible)&&(!(i<0||i>=r.columns.length||r.columns[i].isReadOnly||!r.columns[i].isVisible)&&!r._getBindingColumn(r.cells,n,r.columns[i]).isReadOnly))},i.prototype._commitRowEdits=function(){var i,r,u;this.finishEditing(),i=this._g,r=n.tryCast(i.collectionView,"IEditableCollectionView"),r&&r.currentEditItem&&(u=new t.CellRangeEventArgs(i.cells,i.selection),i.onRowEditEnding(u),r.commitEdit(),i.onRowEditEnded(u))},i.prototype._keydown=function(t){switch(t.keyCode){case n.Key.F2:return this._fullEdit=!this._fullEdit,t.preventDefault(),!0;case n.Key.F4:return this._toggleListBox(this._g.selection),t.preventDefault(),!0;case n.Key.Space:var i=this._edt;return i&&"checkbox"==i.type&&(i.checked=!i.checked,this.finishEditing(),t.preventDefault()),!0;case n.Key.Enter:case n.Key.Tab:return this.finishEditing(),!1;case n.Key.Escape:return this.finishEditing(!0),!0;case n.Key.Up:case n.Key.Down:case n.Key.Left:case n.Key.Right:case n.Key.PageUp:case n.Key.PageDown:case n.Key.Home:case n.Key.End:if(this._lbx)return this._keydownListBox(t);if(t.altKey)switch(t.keyCode){case n.Key.Up:case n.Key.Down:return this._toggleListBox(this._g.selection),t.preventDefault(),!0}if(!this._fullEdit)return this.finishEditing(),!1}return!0},i.prototype._keydownListBox=function(t){var i=!0;if(this._lbx)switch(t.keyCode){case n.Key.Up:t.altKey?this._toggleListBox(this._g.selection):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case n.Key.Down:t.altKey?this._toggleListBox(this._g.selection):this._lbx.selectedIndex++;break;case n.Key.Home:case n.Key.PageUp:this._lbx.selectedIndex=0;break;case n.Key.End:case n.Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:i=!1}return!!i&&(t.preventDefault(),!0)},i.prototype._keypress=function(t){var f,u,r,i=this._edt;if(i&&"checkbox"!=i.type&&t.target==i&&this._list&&this._list.length>0&&t.charCode>=32)for(f=i.selectionStart,u=i.value.substr(0,f),t.target==i&&(f++,u+=String.fromCharCode(t.charCode)),u=u.toLowerCase(),r=0;r<this._list.length;r++)if(0==this._list[r].toLowerCase().indexOf(u)){i.value=this._list[r],n.setSelectionRange(i,f,this._list[r].length),i.dispatchEvent(this._evtInput),t.preventDefault();break}},i.prototype._toggleListBox=function(t){var r,u,i=this._g;return this._lbx&&(this._removeListBox(),i.selection.contains(t))?(i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus(),!0):(r=i.isTouching,u=i._getBindingColumn(i.cells,t.row,i.columns[t.col]),!(!n.input||!u.dataMap||u.showDropDown===!1)&&(!(!n.input||!this.startEditing(!0,t.row,t.col,!r))&&(this._lbx=this._createListBox(),this._lbx.showSelection(),r&&this._lbx.focus(),!0)))},i.prototype._createListBox=function(){var u=this,t=this._g,r=this._rng,o=t.rows[r.row],e=t._getBindingColumn(t.cells,r.row,t.columns[r.col]),f=document.createElement("div"),i=new n.input.ListBox(f);return n.addClass(f,"wj-dropdown-panel"),i.maxHeight=4*o.renderHeight,i.itemsSource=e.dataMap.getDisplayValues(),i.selectedValue=t.activeEditor?t.activeEditor.value:t.getCellData(r.row,r.col,!0),n.addClass(f,e.dropDownCssClass),i.addEventListener(i.hostElement,"click",function(){u._removeListBox(),u.finishEditing()}),i.lostFocus.addHandler(function(){u._removeListBox()}),i.selectedIndexChanged.addHandler(function(){var i=t.activeEditor;i&&(i.value=u._lbx.selectedValue,i.dispatchEvent(u._evtInput),n.setSelectionRange(i,0,i.value.length))}),n.showPopup(f,t.getCellBoundingRect(r.row,r.col)),i},i.prototype._removeListBox=function(){this._lbx&&(n.hidePopup(this._lbx.hostElement,!0),this._lbx.dispose(),this._lbx=null)},i}();t._EditHandler=i}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;!function(t){"use strict";var i,r=function(){function r(n){this._nrt=new i,this._g=n,n.beginningEdit.addHandler(this._beginningEdit,this),n.pastingCell.addHandler(this._beginningEdit,this),n.rowEditEnded.addHandler(this._rowEditEnded,this),n.loadedRows.addHandler(this.updateNewRowTemplate,this)}return r.prototype.updateNewRowTemplate=function(){var f,e=n.tryCast(this._g.collectionView,"IEditableCollectionView"),u=this._g,i=u.rows,o=e&&e.canAddNew&&u.allowAddNew&&!u.isReadOnly,r=i.indexOf(this._nrt);!o&&r>-1?(f=u.selection,f.row==r&&u.select(f.row-1,f.col),i.removeAt(r)):o&&(r<0?i.push(this._nrt):r!=i.length-1&&(i.removeAt(r),i.push(this._nrt)),this._nrt&&this._nrt._setFlag(t.RowColFlags.ParentCollapsed,!1))},r.prototype._beginningEdit=function(t,r){var f,u,e;!r.cancel&&(f=this._g.rows[r.row],n.tryCast(f,i)&&(u=n.tryCast(this._g.collectionView,"IEditableCollectionView"),u&&u.canAddNew))&&(e=u.currentAddItem&&u.currentAddItem==f.dataItem?u.currentAddItem:u.addNew(),u.moveCurrentTo(e),this.updateNewRowTemplate(),this._g.refresh(!0),this._g.onRowAdded(r),r.cancel&&u.cancelNew())},r.prototype._rowEditEnded=function(){var t=n.tryCast(this._g.collectionView,"IEditableCollectionView");t&&t.isAddingNew&&t.commitNew()},r}();t._AddNewHandler=r,i=function(n){function t(){n.apply(this,arguments)}return __extends(t,n),t}(t.Row),t._NewRowTemplate=i}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var i=function(){function t(t){this._tbx=n.createElement('<input class="wj-grid-editor wj-form-control" wj-part="ime-target"/>'),this._cssHidden={opacity:"0",pointerEvents:"none",position:"absolute",left:-10,top:-10,width:0},n.setCss(this._tbx,this._cssHidden),this._g=t,this._g.cells.hostElement.parentElement.appendChild(this._tbx),this._updateImeFocus();var i=this._g,r=i.hostElement;i.addEventListener(this._tbx,"compositionstart",this._compositionstart.bind(this)),i.addEventListener(r,"blur",this._updateImeFocus.bind(this),!0),i.addEventListener(r,"focus",this._updateImeFocus.bind(this),!0),i.addEventListener(r,"mousedown",this._mousedown.bind(this),!0),i.addEventListener(r,"mouseup",this._mouseup.bind(this),!0),i.cellEditEnded.addHandler(this._cellEditEnded,this),i.selectionChanged.addHandler(this._updateImeFocus,this)}return t.prototype.dispose=function(){var n=this._g,t=n.hostElement;n.removeEventListener(this._tbx,"compositionstart"),n.removeEventListener(t,"blur"),n.removeEventListener(t,"focus"),n.removeEventListener(t,"mousedown"),n.removeEventListener(t,"mouseup"),n.cellEditEnded.removeHandler(this._cellEditEnded),n.selectionChanged.removeHandler(this._updateImeFocus),this._tbx.parentElement&&this._tbx.parentElement.removeChild(this._tbx)},t.prototype._cellEditEnded=function(){n.setCss(this._tbx,this._cssHidden),this._tbx.value=""},t.prototype._compositionstart=function(){var i,r,u,t=this._g;null==t.activeEditor&&(i=t._selHdl.selection,t.startEditing(!1,i.row,i.col,!1)&&(r=t.getCellBoundingRect(i.row,i.col),u=t.cells.hostElement,n.setCss(this._tbx,{opacity:"",pointerEvents:"",left:t.columns[i.col].pos+u.offsetLeft,top:t.rows[i.row].pos+u.offsetTop,width:r.width-1,height:r.height-1}),t._edtHdl._edt=this._tbx))},t.prototype._mousedown=function(){this._mouseDown=!0,this._updateImeFocus()},t.prototype._mouseup=function(){this._mouseDown=!1,this._updateImeFocus()},t.prototype._updateImeFocus=function(){var t,r,i=this._g;!i.containsFocus()||i.activeEditor||i.isTouching||this._mouseDown||(t=this._tbx,this._enableIme()?(t.disabled=!1,t.select()):t.disabled||(t.disabled=!0,r=n.getActiveElement(),r instanceof HTMLElement&&r.blur(),i.focus()))},t.prototype._enableIme=function(){var i=this._g,t=i.selection;return!(t.row<0||t.col<0||!i._edtHdl._allowEditing(t.row,t.col))&&i.columns[t.col].dataType!=n.DataType.Boolean},t}();t._ImeHandler=i}(t=n.grid||(n.grid={}))}(wijmo||(wijmo={}));var __extends,wijmo;!function(n){"use strict";function ct(){return ht}function a(n,t){return null==n?null:f(t)?h(n.implementsInterface)&&n.implementsInterface(t)?n:null:n instanceof t?n:null}function at(n){return f(n)||e(n)||l(n)||u(n)}function f(n){return"string"==typeof n}function vt(n){return null==n||n.replace(/\s/g,"").length<1}function e(n){return"number"==typeof n}function b(n){return e(n)&&n==Math.round(n)}function l(n){return"boolean"==typeof n}function h(n){return"function"==typeof n}function yt(n){return"undefined"==typeof n}function u(n){return n instanceof Date&&!isNaN(n.getTime())}function o(n){return n instanceof Array}function v(n){return null!=n&&"object"==typeof n&&!u(n)&&!o(n)}function pt(n){if(n instanceof c)return n;if(n.touches&&n.touches.length>0&&(n=n.touches[0]),e(n.clientX)&&e(n.clientY))return new c(n.clientX+pageXOffset,n.clientY+pageYOffset);throw"Mouse or touch event expected."}function wt(n){return e(n)?r.Number:l(n)?r.Boolean:u(n)?r.Date:f(n)?r.String:o(n)?r.Array:r.Object}function bt(t,i,u){var o,e;if(null!=t){if(f(t))switch(i){case r.Number:return o=n.Globalize.parseFloat(t,u),isNaN(o)?t:o;case r.Date:return e=n.Globalize.parseDate(t,u),e||u||!t||(e=new Date(t)),e&&isFinite(e.getTime())?e:t;case r.Boolean:switch(t.toLowerCase()){case"true":return!0;case"false":return!1}return t}if(i==r.String)return n.Globalize.format(t,u);
}return t}function kt(n,t,i){var u,r;return i?(r=n.toString(),u=r.indexOf("."),u>-1&&(r=r.substr(0,u+1+t),n=parseFloat(r))):(r=n.toFixed(t),n=parseFloat(r)),n}function dt(t,i,r){return t=y(t),t.replace(/\{(.*?)(:(.*?))?\}/g,function(t,u,f,e){var o=t;return u&&"{"!=u[0]&&i&&(o=i[u],e&&(o=n.Globalize.format(o,e)),r&&(o=r(i,u,e,o))),null==o?"":o})}function gt(n,t,i){return null!=n&&(null!=i&&n>i&&(n=i),null!=t&&n<t&&(n=t)),n}function k(i,r){var u,f;if(r)for(u in r)"_"!=u[0]&&(t(u in i,'Unknown property "'+u+'".'),f=r[u],i._copy&&i._copy(u,f)||(i[u]instanceof n.Event&&h(f)?i[u].addHandler(f):v(f)&&i[u]&&"itemsSource"!=u?k(i[u],f):i[u]=f))}function t(n,t){if(!n)throw"** Assertion failed in Wijmo: "+t}function y(n,i){return void 0===i&&(i=!0),t(i&&null==n||f(n),"String expected."),n}function i(n,i,r){if(void 0===i&&(i=!1),void 0===r&&(r=!1),t(i&&null==n||e(n),"Number expected."),r&&n&&n<0)throw"Positive number expected.";return n}function ni(n,i,r){if(void 0===i&&(i=!1),void 0===r&&(r=!1),t(i&&null==n||b(n),"Integer expected."),r&&n&&n<0)throw"Positive integer expected.";return n}function d(n,i){return void 0===i&&(i=!1),t(i&&null==n||l(n),"Boolean expected."),n}function ti(n,i){return void 0===i&&(i=!1),t(i&&null==n||u(n),"Date expected."),n}function s(n,i){return void 0===i&&(i=!0),t(i&&null==n||h(n),"Function expected."),n}function ii(n,i){return void 0===i&&(i=!0),t(i&&null==n||o(n),"Array expected."),n}function g(n,i,r){return void 0===r&&(r=!1),n=a(n,i),t(r||null!=n,i+" expected."),n}function ri(n,i,r){if(void 0===r&&(r=!1),null==n&&r)return null;var u=i[n];return t(null!=u,"Invalid enum value."),e(u)?u:n}function ui(i,r){if(void 0===r&&(r=!0),null==i&&r)return null;var u=a(i,"ICollectionView");return null!=u?u:(o(i)||t(!1,"Array or ICollectionView expected."),new n.collections.CollectionView(i))}function fi(n){return n&&n.items&&n.items.length}function ei(n){return n&&n.length?n[0].toUpperCase()+n.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function oi(n){return f(n)&&(n=n.replace(/[&<>"'\/]/g,function(n){return nt[n]})),n}function p(n,t){if(n&&n.getAttribute){var i=new RegExp("\\b"+t+"\\b");return n&&i.test(n.getAttribute("class"))}return!1}function tt(n,t){if(n&&t&&n.setAttribute&&p(n,t)){var i=new RegExp("\\s?\\b"+t+"\\b","g"),r=n.getAttribute("class");n.setAttribute("class",r.replace(i,""))}}function it(n,t){if(n&&t&&n.setAttribute&&!p(n,t)){var i=n.getAttribute("class");n.setAttribute("class",i?i+" "+t:t)}}function rt(n,t,i){i?it(n,t):tt(n,t)}function si(n,t,r){if(void 0===r&&(r=t),n=g(n,HTMLInputElement),ft(document.body,n)&&!n.disabled&&"none"!=n.style.display)try{n.focus(),n.setSelectionRange(i(t),i(r))}catch(u){}}function ut(){var t,n=document.activeElement;return n&&(t=n.shadowRoot,t&&t.activeElement&&(n=t.activeElement)),n}function hi(n,t){for(var f,i,e=n.querySelectorAll("input,select,textarea,button,a"),r=[],u=0;u<e.length;u++)i=e[u],!i.disabled&&i.tabIndex>-1&&i.clientHeight>0&&!et(i,"[disabled],.wj-state-disabled")&&r.push(i);f=0,t&&(u=r.indexOf(ut()),u>-1&&(f=(u+t+r.length)%r.length)),f<r.length&&(i=r[f],i.focus(),i instanceof HTMLInputElement&&i.select())}function ci(n){return n instanceof Element?n:f(n)?document.querySelector(n):n&&n.jquery?n[0]:null}function li(n,t){var r,i=document.createElement("div");return i.innerHTML=n,r=i.removeChild(i.firstChild),t instanceof HTMLElement?t.appendChild(r):r}function ai(n,t){if(null==t)return void(n.hasChildNodes()&&(n.textContent=""));var i=n.firstChild;1==n.childNodes.length&&3==i.nodeType?i.nodeValue!=t&&(i.nodeValue=t):(i||t)&&(n.textContent=t)}function ft(n,t){for(var i=t;i;){if(i===n)return!0;i=i.parentNode||i.host}return!1}function et(n,t){var i=n?n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector:null;if(i)for(;n;n=n.parentNode)if(n instanceof Element&&i.call(n,t))return n;return null}function vi(n,t){var r,i,u;for(rt(n,"wj-state-disabled",!t),t?n.removeAttribute("disabled"):n.setAttribute("disabled","true"),r=n.querySelectorAll("input"),i=0;i<r.length;i++)u=r[i],t?u.removeAttribute("disabled"):u.setAttribute("disabled","true")}function yi(n){var t=n.getBoundingClientRect();return new w(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function pi(n,t){var i,r,u=n.style;for(i in t)r=t[i],"number"==typeof r&&i.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(r+="px"),u[i]!=r&&(u[i]=r.toString())}function wi(n,t,r){void 0===t&&(t=400),void 0===r&&(r=35),s(n),i(t,!1,!0),i(r,!1,!0);var f=Date.now(),u=setInterval(function(){var i=Math.min(1,(Date.now()-f)/t);i=Math.sin(i*Math.PI/2),i*=i,requestAnimationFrame(function(){n(i)}),i>=1&&clearInterval(u)},r);return u}function bi(n,t){var u,e,a,i,o,c;t||(t={});var l=t.method?y(t.method).toUpperCase():"GET",p=null==t.async||d(t.async),r=t.data;if(null!=r&&"GET"==l){u=[];for(e in r)u.push(e+"="+r[e]);u.length&&(a=n.indexOf("?")<0?"?":"&",n+=a+u.join("&")),r=null}if(i=new XMLHttpRequest,i.URL_DEBUG=n,o=!1,null==r||f(r)||(o=v(r),r=JSON.stringify(r)),i.onload=function(){4==i.readyState&&(i.status<300?t.success&&s(t.success)(i):t.error&&s(t.error)(i),t.complete&&s(t.complete)(i))},i.onerror=function(){if(!t.error)throw"HttpRequest Error: "+i.status+" "+i.statusText;s(t.error)(i)},i.open(l,n,p,t.user,t.password),t.user&&t.password&&i.setRequestHeader("Authorization","Basic "+btoa(t.user+":"+t.password)),o&&i.setRequestHeader("Content-Type","application/json"),t.requestHeaders)for(c in t.requestHeaders)i.setRequestHeader(c,t.requestHeaders[c]);return h(t.beforeSend)&&t.beforeSend(i),i.send(r),i}var lt,r,nt,c,ot,w,st,ht="5.20162.188";n.getVersion=ct,function(n){n[n.Back=8]="Back",n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.Left=37]="Left",n[n.Up=38]="Up",n[n.Right=39]="Right",n[n.Down=40]="Down",n[n.Delete=46]="Delete",n[n.F1=112]="F1",n[n.F2=113]="F2",n[n.F3=114]="F3",n[n.F4=115]="F4",n[n.F5=116]="F5",n[n.F6=117]="F6",n[n.F7=118]="F7",n[n.F8=119]="F8",n[n.F9=120]="F9",n[n.F10=121]="F10",n[n.F11=122]="F11",n[n.F12=123]="F12"}(n.Key||(n.Key={})),lt=n.Key,function(n){n[n.Object=0]="Object",n[n.String=1]="String",n[n.Number=2]="Number",n[n.Boolean=3]="Boolean",n[n.Date=4]="Date",n[n.Array=5]="Array"}(n.DataType||(n.DataType={})),r=n.DataType,n.tryCast=a,n.isPrimitive=at,n.isString=f,n.isNullOrWhiteSpace=vt,n.isNumber=e,n.isInt=b,n.isBoolean=l,n.isFunction=h,n.isUndefined=yt,n.isDate=u,n.isArray=o,n.isObject=v,n.mouseToPage=pt,n.getType=wt,n.changeType=bt,n.toFixed=kt,n.format=dt,n.clamp=gt,n.copy=k,n.assert=t,n.asString=y,n.asNumber=i,n.asInt=ni,n.asBoolean=d,n.asDate=ti,n.asFunction=s,n.asArray=ii,n.asType=g,n.asEnum=ri,n.asCollectionView=ui,n.hasItems=fi,n.toHeaderCase=ei,n.escapeHtml=oi,nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},n.hasClass=p,n.removeClass=tt,n.addClass=it,n.toggleClass=rt,n.setSelectionRange=si,n.getActiveElement=ut,n.moveFocus=hi,n.getElement=ci,n.createElement=li,n.setText=ai,n.contains=ft,n.closest=et,n.enable=vi,n.getElementRect=yi,n.setCss=pi,n.animate=wi,c=function(){function n(n,t){void 0===n&&(n=0),void 0===t&&(t=0),this.x=i(n),this.y=i(t)}return n.prototype.equals=function(t){return t instanceof n&&this.x==t.x&&this.y==t.y},n.prototype.clone=function(){return new n(this.x,this.y)},n}(),n.Point=c,ot=function(){function n(n,t){void 0===n&&(n=0),void 0===t&&(t=0),this.width=i(n),this.height=i(t)}return n.prototype.equals=function(t){return t instanceof n&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.width,this.height)},n}(),n.Size=ot,w=function(){function n(n,t,r,u){this.left=i(n),this.top=i(t),this.width=i(r),this.height=i(u)}return Object.defineProperty(n.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),n.prototype.equals=function(t){return t instanceof n&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},n.prototype.clone=function(){return new n(this.left,this.top,this.width,this.height)},n.fromBoundingRect=function(i){return null!=i.left?new n(i.left,i.top,i.width,i.height):null!=i.x?new n(i.x,i.y,i.width,i.height):void t(!1,"Invalid source rectangle.")},n.union=function(t,i){var r=Math.min(t.left,i.left),u=Math.min(t.top,i.top),f=Math.max(t.right,i.right),e=Math.max(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.intersection=function(t,i){var r=Math.max(t.left,i.left),u=Math.max(t.top,i.top),f=Math.min(t.right,i.right),e=Math.min(t.bottom,i.bottom);return new n(r,u,f-r,e-u)},n.prototype.contains=function(i){if(i instanceof c)return i.x>=this.left&&i.x<=this.right&&i.y>=this.top&&i.y<=this.bottom;if(i instanceof n){var r=i;return r.left>=this.left&&r.right<=this.right&&r.top>=this.top&&r.bottom<=this.bottom}t(!1,"Point or Rect expected.")},n.prototype.inflate=function(t,i){return new n(this.left-t,this.top-i,this.width+2*t,this.height+2*i)},n}(),n.Rect=w,st=function(){function t(){}return t.addDays=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate()+t)},t.addMonths=function(n,t){return new Date(n.getFullYear(),n.getMonth()+t,n.getDate())},t.addYears=function(n,t){return new Date(n.getFullYear()+t,n.getMonth(),n.getDate())},t.addHours=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+t)},t.addMinutes=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+t)},t.addSeconds=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds()+t)},t.sameDate=function(n,t){return u(n)&&u(t)&&n.getFullYear()==t.getFullYear()&&n.getMonth()==t.getMonth()&&n.getDate()==t.getDate()},t.sameTime=function(n,t){return u(n)&&u(t)&&n.getHours()==t.getHours()&&n.getMinutes()==t.getMinutes()&&n.getSeconds()==t.getSeconds()},t.equals=function(n,t){return u(n)&&u(t)&&n.getTime()==t.getTime()},t.fromDateTime=function(n,t){return n||t?(n||(n=t),t||(t=n),new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())):null},t.toFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,-u.fiscalYearOffsets[r?0:1]):i},t.fromFiscal=function(i,r){var u=n.culture.Globalize.calendar;return o(u.fiscalYearOffsets)?t.addMonths(i,+u.fiscalYearOffsets[r?0:1]):i},t.newDate=function(){var n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate())},t.clone=function(n){return t.fromDateTime(n,n)},t}(),n.DateTime=st,n.httpRequest=bi}(wijmo||(wijmo={})),function(n){"use strict";n.culture={Globalize:{numberFormat:{".":".",",":",",percent:{pattern:["-n %","n %"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}};var t=function(){function t(){}return t.format=function(i,r,u,f){return n.isString(i)?i:n.isNumber(i)?(r=r||(i==Math.round(i)?"n0":"n2"),t.formatNumber(i,r,u,f)):n.isDate(i)?(r=r||"d",t.formatDate(i,r)):null!=i?i.toString():""},t.formatNumber=function(t,i,r,u){var c,y,l;n.asNumber(t),n.asString(i);var f,o=i?i.match(/([a-z])(\d*)(,*)(.*)/i):null,s=n.culture.Globalize.numberFormat,e=o?o[1].toLowerCase():"n",h=o&&o[2]?parseInt(o[2]):"c"==e?s.currency.decimals:t==Math.round(t)?0:2,p=o&&o[3]?3*o[3].length:0,w=o&&o[4]?o[4]:s.currency.symbol,a=s["."],v=s[","];if(p&&(t/=Math.pow(10,p)),"d"==e||"x"==e){for(f=Math.round(Math.abs(t)).toString("d"==e?10:16);f.length<h;)f="0"+f;return t<0&&(f="-"+f),i&&"X"==i[0]&&(f=f.toUpperCase()),f}return"p"==e&&(t=n.toFixed(100*t,h,u)),u&&(t=n.toFixed(t,h,!0)),f="c"==e||"p"==e?Math.abs(t).toFixed(h):t.toFixed(h),(r||"g"==e)&&f.indexOf(".")>-1&&(f=f.replace(/(\.[0-9]*?)0+$/g,"$1"),f=f.replace(/\.$/,"")),"."!=a&&(f=f.replace(".",a)),v&&("n"==e||"c"==e||"p"==e)&&(c=f.indexOf(a),y=/\B(?=(\d\d\d)+(?!\d))/g,f=c>-1?f.substr(0,c).replace(y,v)+f.substr(c):f.replace(y,v)),"c"==e&&(l=s.currency.pattern[t<0?0:1],f=l.replace("n",f).replace("$",w)),"p"==e&&(l=s.percent.pattern[t<0?0:1],f=l.replace("n",f)),f},t.formatDate=function(i,r){var f,e,u;switch(i=n.asDate(i),r){case"r":case"R":return i.toUTCString();case"u":return i.toISOString().replace(/\.\d{3}/,"")}for(r=t._expandFormat(r),f=t._parseDateFormat(r),e="",u=0;u<f.length;u++)e+=t._formatDatePart(i,r,f[u]);return e},t.parseInt=function(n,i){return Math.round(t.parseFloat(n,i))},t.parseFloat=function(t,i){var r=t.indexOf("-")>-1||t.indexOf("(")>-1&&t.indexOf(")")>-1?-1:1,u=t.indexOf("%")>-1?.01:1,f=i?i.match(/,+/):null,e=f?3*f[0].length:0;if(i&&("x"==i[0]||"X"==i[0]))return t=t.replace(/[^0-9a-f]+.*$/gi,""),parseInt(t,16)*r*u*Math.pow(10,e);var o=n.culture.Globalize.numberFormat["."],s=new RegExp("[^\\d\\"+o+"]","g"),h=t.replace(s,"").replace(o,".");return parseFloat(h)*r*u*Math.pow(10,e)},t.parseDate=function(i,r){var ut,s,e,p,ht,nt;if(i=n.asString(i),!i)return null;if("u"==r)return new Date(i);if("R"==r||"r"==r)return ut=/(([0-9]+)\-([0-9]+)\-([0-9]+))?\s?(([0-9]+):([0-9]+)(:([0-9]+))?)?/,s=i.match(ut),s[1]||s[5]?(e=s[1]?new Date(parseInt(s[2]),parseInt(s[3])-1,parseInt(s[4])):new Date,s[5]&&(e.setHours(parseInt(s[6])),e.setMinutes(parseInt(s[7])),e.setSeconds(s[8]?parseInt(s[9]):0))):e=new Date(i),isNaN(e.getTime())?null:e;r=t._expandFormat(r?r:"d");var ot,it,st,g,rt,h=n.culture.Globalize.calendar,ft=t._CJK,ct=new RegExp("(\\"+h["/"]+")|(\\"+h[":"]+")|(\\d+)|(["+ft+"\\.]{2,})|(["+ft+"]+)","gi"),c=i.match(ct),w=t._parseDateFormat(r),y=0,l=-1,a=0,d=1,o=0,b=0,k=0,et=0,tt=-1;if(!(c&&c.length&&w&&w.length))return null;for(p=0;p<w.length&&c;p++){var v=p-y,u=v>-1&&v<c.length?c[v]:"",f=w[p].length;switch(w[p]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":rt=w[p];case"yyyy":case"yyy":case"yy":case"y":f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++),l=parseInt(u);break;case"MMMM":case"MMM":for(g=!0,ht=u.toLowerCase(),a=-1,nt=0;nt<12;nt++)if(0==h.months[nt].toLowerCase().indexOf(ht)){a=nt;break}if(a>-1)break;case"MM":case"M":g=!0,f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++),a=parseInt(u)-1;break;case"dddd":case"ddd":ot=!0;break;case"dd":case"d":f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++),d=parseInt(u),it=!0;break;case"hh":case"h":f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++),o=parseInt(u),o=12==o?0:o;break;case"HH":f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++),o=parseInt(u);break;case"H":o=parseInt(u);break;case"mm":case"m":f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++),b=parseInt(u);break;case"ss":case"s":f>1&&u.length>f&&(c[v]=u.substr(f),u=u.substr(0,f),y++),k=parseInt(u);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":et=parseInt(u)/Math.pow(10,f-3);break;case"tt":case"t":u=u.toUpperCase(),(h.pm[0]&&u==h.pm[0]&&o<12||h.pm[1]&&u==h.pm[1]&&o<12)&&(o+=12);break;case"q":case"Q":case"u":case"U":st=!0;break;case"ggg":case"gg":case"g":tt=h.eras.length>1?t._getEra(u,h):-1;break;case h["/"]:case h[":"]:if(u&&u!=w[p])return null;break;case"K":break;default:t._unquote(w[p])!=u&&y++}}if(g&&it&&(isNaN(o)&&(o=0),isNaN(b)&&(b=0),isNaN(k)&&(k=0)),a<0||a>11||isNaN(a)||d<0||d>31||isNaN(d)||o<0||o>24||isNaN(o)||b<0||b>60||isNaN(b)||k<0||k>60||isNaN(k))return null;if(rt){if(!g)return null;e=new Date(l,a),e=n.DateTime.fromFiscal(e,"E"==rt[0]),l=e.getFullYear(),a=e.getMonth()}return ot&&!it?null:st&&!g?null:(l<0&&(l=(new Date).getFullYear()),tt>-1?l=l+h.eras[tt].start.getFullYear()-1:l<100&&(l+=l>=30?1900:2e3),e=new Date(l,a,d,o,b+0,k,et),isNaN(e.getTime())?null:e)},t.getFirstDayOfWeek=function(){var t=n.culture.Globalize.calendar.firstDay;return t?t:0},t.getNumberDecimalSeparator=function(){var t=n.culture.Globalize.numberFormat["."];return t?t:"."},t._unquote=function(n){return n.length>1&&n[0]==n[n.length-1]&&("'"==n[0]||'"'==n[0])?n.substr(1,n.length-2):n},t._parseDateFormat=function(n){var u,e,i,r,f;if(n in t._dateFomatParts)return t._dateFomatParts[n];for(u=[],e="",i=0;i>-1&&i<n.length;i++)if(f=n[i],("'"==f||'"'==f)&&(r=n.indexOf(f,i+1),r>-1))u.push(n.substring(i,r+1)),i=r;else{for(r=i+1;r<n.length&&n[r]==f;r++);u.push(n.substring(i,r)),i=r-1}return t._dateFomatParts[n]=u,u},t._formatDatePart=function(i,r,u){var c,s,f=n.culture.Globalize.calendar,o=0,h=0,l=0,e=u.length;switch(u){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return c="E"==u[0]?n.DateTime.toFiscal(i,!0):"e"==u[0]?n.DateTime.toFiscal(i,!1):i,h=c.getFullYear(),f.eras.length>1&&r.indexOf("g")>-1&&(o=t._getEra(i,f),o>-1&&(h=h-f.eras[o].start.getFullYear()+1)),t._zeroPad(h,4).substr(4-u.length);case"MMMM":return f.months[i.getMonth()];case"MMM":return f.monthsAbbr[i.getMonth()];case"MM":case"M":return t._zeroPad(i.getMonth()+1,e);case"dddd":return f.days[i.getDay()];case"ddd":return f.daysAbbr[i.getDay()];case"dd":return t._zeroPad(i.getDate(),2);case"d":return i.getDate().toString();case"hh":case"h":return t._zeroPad(t._h12(i),e);case"HH":case"H":return t._zeroPad(i.getHours(),e);case"mm":case"m":return t._zeroPad(i.getMinutes(),e);case"ss":case"s":return t._zeroPad(i.getSeconds(),e);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return l=i.getMilliseconds()*Math.pow(10,e-3),"f"==u[0]?t._zeroPad(l,e):l.toFixed(0);case"tt":return i.getHours()<12?f.am[0]:f.pm[0];case"t":return i.getHours()<12?f.am[1]:f.pm[1];case"q":case"Q":return(Math.floor(i.getMonth()/3)+1).toString();case"u":case"U":return c=n.DateTime.toFiscal(i,"U"==u),(Math.floor(c.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":return f.eras.length>1&&(o=t._getEra(i,f),o>-1)?"ggg"==u?f.eras[o].name:"gg"==u?f.eras[o].name[0]:f.eras[o].symbol:f.eras[0];case":":case"/":return f[u];case"K":return s=i.toString().match(/(\+|\-)(\d{2})(\d{2})/),s?s[1]+s[2]+s[3]:""}return e>1&&u[0]==u[e-1]&&('"'==u[0]||"'"==u[0])?u.substr(1,e-2):u},t._getEra=function(t,i){var r;if(n.isDate(t)){for(r=0;r<i.eras.length;r++)if(t>=i.eras[r].start)return r}else if(n.isString(t))for(r=0;r<i.eras.length;r++)if(i.eras[r].name&&(0==i.eras[r].name.indexOf(t)||0==i.eras[r].symbol.indexOf(t)))return r;return-1},t._expandFormat=function(t){var i=n.culture.Globalize.calendar.patterns[t];return i?i:t},t._zeroPad=function(n,t){var i=n.toFixed(0),r=t-i.length+1;return r>0?Array(r).join("0")+i:i},t._h12=function(t){var r=n.culture.Globalize.calendar,i=t.getHours();return r.am&&r.am[0]&&(i%=12,0==i&&(i=12)),i},t._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),t._dateFomatParts={},t}();n.Globalize=t}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function n(n){this.path=n}return Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(n){var t,i,r;for(this._path=n,this._parts=n?n.split("."):[],t=0;t<this._parts.length;t++)i=this._parts[t],r=i.indexOf("["),r>-1&&(this._parts[t]=i.substr(0,r),this._parts.splice(++t,0,parseInt(i.substr(r+1))));this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),n.prototype.getValue=function(n){if(n){if(this._key)return n[this._key];if(this._path in n)return n[this._path];for(var t=0;t<this._parts.length&&n;t++)n=n[this._parts[t]]}return n},n.prototype.setValue=function(n,t){if(n){if(this._path in n)return void(n[this._path]=t);for(var i=0;i<this._parts.length-1;i++)if(n=n[this._parts[i]],null==n)return;n[this._parts[this._parts.length-1]]=t}},n}();n.Binding=t}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},function(n){"use strict";var t,i,r,u,f=function(){function n(n,t){this.handler=n,this.self=t}return n}(),e=function(){function i(){this._handlers=[]}return i.prototype.addHandler=function(t,i){n.asFunction(t),this._handlers.push(new f(t,i))},i.prototype.removeHandler=function(t,i){var r,u;for(n.asFunction(t),r=0;r<this._handlers.length&&(u=this._handlers[r],u.handler!=t&&null!=t||u.self!=i&&null!=i||(this._handlers.splice(r,1),!t||!i));r++);},i.prototype.removeAllHandlers=function(){this._handlers.length=0},i.prototype.raise=function(n,i){var r,u;for(void 0===i&&(i=t.empty),r=0;r<this._handlers.length;r++)u=this._handlers[r],u.handler.call(u.self,n,i)},Object.defineProperty(i.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),i}();n.Event=e,t=function(){function n(){}return n.empty=new n,n}(),n.EventArgs=t,i=function(n){function t(){n.apply(this,arguments),this.cancel=!1}return __extends(t,n),t}(t),n.CancelEventArgs=i,r=function(n){function t(t,i,r){n.call(this),this._name=t,this._oldVal=i,this._newVal=r}return __extends(t,n),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(t),n.PropertyChangedEventArgs=r,u=function(n){function t(t){n.call(this),this._xhr=t}return __extends(t,n),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),t}(i),n.RequestErrorEventArgs=u}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function t(i,r,u){var f,l,s,v,o,c=this;if(void 0===r&&(r=null),void 0===u&&(u=!1),this._focus=!1,this._updating=0,this._fullUpdate=!1,this.gotFocus=new n.Event,this.lostFocus=new n.Event,n.assert(null==t.getControl(i),"Element is already hosting a control."),f=n.getElement(i),n.assert(null!=f,"Cannot find the host element."),this._orgOuter=f.outerHTML,this._orgInner=f.innerHTML,this._orgTag=f.tagName,("INPUT"==f.tagName||"SELECT"==f.tagName)&&(f=this._replaceWithDiv(f)),this._e=f,f[t._DATA_KEY]=this,1==u&&(this._szCtl=new n.Size(f.offsetWidth,f.offsetHeight),l=this._handleResize.bind(this),this.addEventListener(window,"resize",l)),this.addEventListener(f,"focus",function(){setTimeout(function(){c._updateFocusState()})},!0),this.addEventListener(f,"blur",function(){setTimeout(function(){c._updateFocusState()},20)},!0),s=this._handleDisabled.bind(this),this.addEventListener(f,"mousedown",s,!0),this.addEventListener(f,"mouseup",s,!0),this.addEventListener(f,"click",s,!0),this.addEventListener(f,"dblclick",s,!0),this.addEventListener(f,"keydown",s,!0),this.addEventListener(f,"onmousewheel"in document?"mousewheel":"DOMMouseScroll",s,!0),null==t._touching&&(t._touching=!1,"ontouchstart"in window||"onpointerdown"in window)){var e=document.body,a=this._handleTouchStart,h=this._handleTouchEnd;"ontouchstart"in window?(e.addEventListener("touchstart",a),e.addEventListener("touchend",h),e.addEventListener("touchcancel",h),e.addEventListener("touchleave",h)):"onpointerdown"in window&&(e.addEventListener("pointerdown",a),e.addEventListener("pointerup",h),e.addEventListener("pointerout",h),e.addEventListener("pointercancel",h),e.addEventListener("pointerleave",h))}if(!t._wme||!t._wme.parentElement){switch(v="Wijmo "+n.getVersion()+" eval",t._wme=n.createElement('<div><a href="http://wijmo.com/products/wijmo-5/eval/">'+v+"</a></div>"),o={position:"fixed",padding:5,margin:5,background:"#fff",boxShadow:"0 0 10px rgba(0,0,0,0.25)",fontSize:"11pt",zIndex:1e3,opacity:.8,display:"block",visibility:"visible",height:"auto",width:"auto",transform:"none"},Math.round(100*Math.random())%2){case 0:o.right=o.bottom=0;break;case 1:o.left=o.bottom=0;break;case 2:o.right=o.top=0}n.setCss(t._wme,o),document.body.appendChild(t._wme)}}return t.prototype.getTemplate=function(){for(var t,n=Object.getPrototypeOf(this);n;n=Object.getPrototypeOf(n))if(t=n.constructor.controlTemplate)return t;return null},t.prototype.applyTemplate=function(t,i,r,u){var h,c,y,v,o,a,s,e=this._e;t&&n.addClass(e,t),h=null,i&&(h=n.createElement(i,e));var p=e.querySelectorAll("input"),f=1==p.length?p[0]:null,l=e.attributes;if(f&&l)for(c=0;c<l.length;c++)l[c].name.match(/name|autofocus|minlength|maxlength|pattern/i)&&f.setAttribute(l[c].name,l[c].value);if(f&&(y=document.createEvent("HTMLEvents"),v="",y.initEvent("change",!0,!1),this.addEventListener(f,"input",function(){v=f.value},!0),this.gotFocus.addHandler(function(){f&&(v=f.value)}),this.lostFocus.addHandler(function(){f&&v!=f.value&&f.dispatchEvent(y)})),e.getAttribute("tabindex")||(e.tabIndex=null!=f?-1:0),r)for(o in r){if(a=r[o],this[o]=h.querySelector('[wj-part="'+a+'"]'),null==this[o]&&h.getAttribute("wj-part")==a&&(this[o]=h),null==this[o])throw'Missing template part: "'+a+'"';a==u&&(s=e.attributes.name,s&&s.value&&this[o].setAttribute("name",s.value),s=e.attributes.accesskey,s&&s.value&&(this[o].setAttribute("accesskey",s.value),e.removeAttribute("accesskey")))}return h},t.prototype.dispose=function(){for(var e,u,i,r,o=this._e.querySelectorAll(".wj-control"),f=0;f<o.length;f++)e=t.getControl(o[f]),e&&e.dispose();this._toInv&&clearTimeout(this._toInv),this.removeEventListener();for(i in this)i.length>2&&0==i.indexOf("on")&&(r=this[i[2].toLowerCase()+i.substr(3)],r instanceof n.Event&&r.removeAllHandlers());if(u=this.collectionView,u instanceof n.collections.CollectionView)for(i in u)r=u[i],r instanceof n.Event&&r.removeHandler(null,this);this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[t._DATA_KEY]=null,this._e=this._orgOuter=this._orgInner=this._orgTag=null},t.getControl=function(i){var r=n.getElement(i);return r?n.asType(r[t._DATA_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this._e.focus()},t.prototype.containsFocus=function(){var f,i,r,e,u;if(!this._e)return!1;for(f=this._e.getElementsByClassName("wj-control"),i=0;i<f.length;i++)if(r=t.getControl(f[i]),r&&r!=this&&r.containsFocus())return!0;return e=n.getActiveElement(),u=t.getControl(n.closest(e,".wj-control.wj-popup")),!!(u&&u.owner&&n.contains(this._e,u.owner))||n.contains(this._e,e)},t.prototype.invalidate=function(n){var i=this;void 0===n&&(n=!0),this._fullUpdate=this._fullUpdate||n,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){i.refresh(i._fullUpdate)},t._REFRESH_INTERVAL))},t.prototype.refresh=function(n){void 0===n&&(n=!0),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1)},t.invalidateAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.invalidateAll(n.children[i]);r=t.getControl(n),r&&r.invalidate()},t.refreshAll=function(n){var i,r;if(n||(n=document.body),n.children)for(i=0;i<n.children.length;i++)t.refreshAll(n.children[i]);r=t.getControl(n),r&&r.refresh()},t.disposeAll=function(n){var i,r=t.getControl(n);if(r)r.dispose();else if(n.children)for(i=0;i<n.children.length;i++)t.disposeAll(n.children[i])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(n){try{this.beginUpdate(),n()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(t){t=n.asBoolean(t,!0),t!=this.disabled&&n.enable(this._e,!t)},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){t&&(this.beginUpdate(),n.copy(this,t),this.endUpdate())},t.prototype.addEventListener=function(n,t,i,r){void 0===r&&(r=!1),n&&(n.addEventListener(t,i,r),null==this._listeners&&(this._listeners=[]),this._listeners.push({target:n,type:t,fn:i,capture:r}))},t.prototype.removeEventListener=function(n,t,i){var u,r,f=0;if(this._listeners)for(u=0;u<this._listeners.length;u++)r=this._listeners[u],(null==n||n==r.target)&&(null==t||t==r.type)&&(null==i||i==r.capture)&&(r.target.removeEventListener(r.type,r.fn,r.capture),this._listeners.splice(u,1),u--,f++);return f},t.prototype.onGotFocus=function(n){this.gotFocus.raise(this,n)},t.prototype.onLostFocus=function(n){this.lostFocus.raise(this,n)},t.prototype._handleResize=function(){if(this._e.parentElement){var t=new n.Size(this._e.offsetWidth,this._e.offsetHeight);t.equals(this._szCtl)||(this._szCtl=t,this.invalidate())}},t.prototype._updateFocusState=function(){var i=this;setTimeout(function(){for(var r,f,u=i._e;u;u=u.parentElement)r=t.getControl(u),r&&(f=r.containsFocus(),f!=r._focus&&(r._focus=f,f?r.onGotFocus():r.onLostFocus(),n.toggleClass(u,"wj-state-focused",f)))})},t.prototype._handleTouchStart=function(n){(null==n.pointerType||"touch"==n.pointerType)&&(t._touching=!0)},t.prototype._handleTouchEnd=function(n){(null==n.pointerType||"touch"==n.pointerType)&&setTimeout(function(){t._touching=!1},400)},t.prototype._handleDisabled=function(n){this.disabled&&(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(n){var i,t,u,r=document.createElement("div");for(n.parentElement.replaceChild(r,n),r.innerHTML=n.innerHTML,i=n.attributes,t=0;t<i.length;t++)u=i[t].name,i[t].name.match(/id|style|class/i)&&r.setAttribute(u,i[t].value);return r},t._DATA_KEY="wj-Control",t._REFRESH_INTERVAL=10,t}();n.Control=t}(wijmo||(wijmo={})),function(n){"use strict";function i(i,r,u){var a,e,o,v=0,f=0,l=0,s=0,h=null,c=null,y=u?new n.Binding(u):null;for(i=n.asEnum(i,t),a=0;a<r.length;a++)e=r[a],y&&(e=y.getValue(e)),null!=e&&(v++,(null==h||e<h)&&(h=e),(null==c||e>c)&&(c=e),n.isNumber(e)&&!isNaN(e)?(f++,l+=e,s+=e*e):n.isBoolean(e)&&(f++,1==e&&(l++,s++)));switch(o=0==f?0:l/f,i){case t.Avg:return o;case t.Cnt:return v;case t.Max:return c;case t.Min:return h;case t.Rng:return c-h;case t.Sum:return l;case t.VarPop:return f<=1?0:s/f-o*o;case t.StdPop:return f<=1?0:Math.sqrt(s/f-o*o);case t.Var:return f<=1?0:(s/f-o*o)*f/(f-1);case t.Std:return f<=1?0:Math.sqrt((s/f-o*o)*f/(f-1))}throw"Invalid aggregate type."}!function(n){n[n.None=0]="None",n[n.Sum=1]="Sum",n[n.Cnt=2]="Cnt",n[n.Avg=3]="Avg",n[n.Max=4]="Max",n[n.Min=5]="Min",n[n.Rng=6]="Rng",n[n.Std=7]="Std",n[n.Var=8]="Var",n[n.StdPop=9]="StdPop",n[n.VarPop=10]="VarPop"}(n.Aggregate||(n.Aggregate={}));var t=n.Aggregate;n.getAggregate=i}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;!function(t){"use strict";var i,u,f,e,r,o;!function(n){n[n.Add=0]="Add",n[n.Remove=1]="Remove",n[n.Change=2]="Change",n[n.Reset=3]="Reset"}(t.NotifyCollectionChangedAction||(t.NotifyCollectionChangedAction={})),
i=t.NotifyCollectionChangedAction,u=function(n){function t(t,r,u){void 0===t&&(t=i.Reset),void 0===r&&(r=null),void 0===u&&(u=-1),n.call(this),this.action=t,this.item=r,this.index=u}return __extends(t,n),t.reset=new t(i.Reset),t}(n.EventArgs),t.NotifyCollectionChangedEventArgs=u,f=function(){function t(t,i){this._bnd=new n.Binding(t),this._asc=i}return Object.defineProperty(t.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),t}(),t.SortDescription=f,e=function(n){function t(t){n.call(this),this.newPageIndex=t}return __extends(t,n),t}(n.CancelEventArgs),t.PageChangingEventArgs=e,r=function(){function n(){}return n.prototype.groupNameFromItem=function(){return""},n.prototype.namesMatch=function(n,t){return n===t},n}(),t.GroupDescription=r,o=function(t){function i(i,r){t.call(this),this._bnd=new n.Binding(i),this._converter=r}return __extends(i,t),Object.defineProperty(i.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),i.prototype.groupNameFromItem=function(n){return this._converter?this._converter(n,this.propertyName):this._bnd.getValue(n)},i.prototype.namesMatch=function(n,t){return n===t},i}(r),t.PropertyGroupDescription=o}(t=n.collections||(n.collections={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},function(n){var t;!function(t){"use strict";var r,i=function(){function n(){this.length=0,Array.apply(this,arguments)}return n.prototype.pop=function(){return null},n.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];return 0},n.prototype.splice=function(){return null},n.prototype.slice=function(){return null},n.prototype.indexOf=function(){return-1},n.prototype.sort=function(){return null},n}();t.ArrayBase=i,i.prototype=Array.prototype,r=function(i){function r(t){if(i.call(this),this._updating=0,this.collectionChanged=new n.Event,t){t=n.asArray(t),this._updating++;for(var r=0;r<t.length;r++)this.push(t[r]);this._updating--}}return __extends(r,i),r.prototype.push=function(){for(var f,r,n=[],u=0;u<arguments.length;u++)n[+u]=arguments[u];for(f=this.length,r=0;n&&r<n.length;r++)f=i.prototype.push.call(this,n[r]),this._updating||this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,n[r],f-1);return f},r.prototype.pop=function(){var n=i.prototype.pop.call(this);return this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,n,this.length),n},r.prototype.splice=function(n,r,u){var f;return r&&u?(f=i.prototype.splice.call(this,n,r,u),1==r?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,u,n):this._raiseCollectionChanged(),f):u?(f=i.prototype.splice.call(this,n,0,u),this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,u,n),f):(f=i.prototype.splice.call(this,n,r),1==r?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,f[0],n):this._raiseCollectionChanged(),f)},r.prototype.slice=function(n,t){return i.prototype.slice.call(this,n,t)},r.prototype.indexOf=function(n,t){return i.prototype.indexOf.call(this,n,t)},r.prototype.sort=function(n){var t=i.prototype.sort.call(this,n);return this._raiseCollectionChanged(),t},r.prototype.insert=function(n,t){this.splice(n,0,t)},r.prototype.remove=function(n){var t=this.indexOf(n);return t>-1&&(this.removeAt(t),!0)},r.prototype.removeAt=function(n){this.splice(n,1)},r.prototype.setAt=function(n,t){n>this.length&&(this.length=n),this.splice(n,1,t)},r.prototype.clear=function(){0!==this.length&&(this.splice(0,this.length),this._raiseCollectionChanged())},r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating>0&&(this._updating--,0==this._updating&&this._raiseCollectionChanged())},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate(),n()}finally{this.endUpdate()}},r.prototype.implementsInterface=function(n){return"INotifyCollectionChanged"==n},r.prototype.onCollectionChanged=function(n){void 0===n&&(n=t.NotifyCollectionChangedEventArgs.reset),this.isUpdating||this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){if(void 0===n&&(n=t.NotifyCollectionChangedAction.Reset),!this.isUpdating){var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)}},r}(i),t.ObservableArray=r}(t=n.collections||(n.collections={}))}(wijmo||(wijmo={})),function(n){var t;!function(t){"use strict";var i,r=function(){function r(i,r){var u=this;this._idx=-1,this._srtDsc=new t.ObservableArray,this._grpDesc=new t.ObservableArray,this._newItem=null,this._edtItem=null,this._pgSz=0,this._pgIdx=0,this._updating=0,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._trackChanges=!1,this._chgAdded=new t.ObservableArray,this._chgRemoved=new t.ObservableArray,this._chgEdited=new t.ObservableArray,this.collectionChanged=new n.Event,this.sourceCollectionChanging=new n.Event,this.sourceCollectionChanged=new n.Event,this.currentChanged=new n.Event,this.currentChanging=new n.Event,this.pageChanged=new n.Event,this.pageChanging=new n.Event,this._srtDsc.collectionChanged.addHandler(function(){for(var r=u._srtDsc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.SortDescription,"sortDescriptions array must contain SortDescription objects.");u.canSort&&u.refresh()}),this._grpDesc.collectionChanged.addHandler(function(){for(var r=u._grpDesc,i=0;i<r.length;i++)n.assert(r[i]instanceof t.GroupDescription,"groupDescriptions array must contain GroupDescription objects.");u.canGroup&&u.refresh()}),this.sourceCollection=i?i:new t.ObservableArray,r&&(this.beginUpdate(),n.copy(this,r),this.endUpdate())}return r.prototype._copy=function(i,r){var e,f,u;if("sortDescriptions"==i){for(this.sortDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.SortDescription(u,(!0))),this.sortDescriptions.push(u);return!0}if("groupDescriptions"==i){for(this.groupDescriptions.clear(),e=n.asArray(r),f=0;f<e.length;f++)u=e[f],n.isString(u)&&(u=new t.PropertyGroupDescription(u)),this.groupDescriptions.push(u);return!0}return!1},Object.defineProperty(r.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(t){this._itemCreator=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(t){t!=this._srtCvt&&(this._srtCvt=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(t){t!=this._srtCmp&&(this._srtCmp=n.asFunction(t,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(t){this._stableSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),r.prototype.getAggregate=function(t,i){return n.getAggregate(t,this.items,i)},r.prototype.implementsInterface=function(n){switch(n){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(r.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(t){this._trackChanges=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),r.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear()},r.prototype.onCollectionChanged=function(n){void 0===n&&(n=t.NotifyCollectionChangedEventArgs.reset),this._committing||n.action!=t.NotifyCollectionChangedAction.Change||n.item==this.currentEditItem||this._trackItemChanged(n.item),this.collectionChanged.raise(this,n)},r.prototype._raiseCollectionChanged=function(n,i,r){void 0===n&&(n=t.NotifyCollectionChangedAction.Reset);var u=new t.NotifyCollectionChangedEventArgs(n,i,r);this.onCollectionChanged(u)},r.prototype.onSourceCollectionChanging=function(n){return this.sourceCollectionChanging.raise(this,n),!n.cancel},r.prototype.onSourceCollectionChanged=function(){this.sourceCollectionChanged.raise(this)},Object.defineProperty(r.prototype,"canFilter",{get:function(){return this._canFilter},set:function(t){this._canFilter=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canGroup",{get:function(){return this._canGroup},set:function(t){this._canGroup=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canSort",{get:function(){return this._canSort},set:function(t){this._canSort=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(n){this.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPosition",{get:function(){return this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter!=t&&(this._filter=n.asFunction(t),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return 0==this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"sourceCollection",{get:function(){return this._src},set:function(t){if(t!=this._src){if(!this.onSourceCollectionChanging(new n.CancelEventArgs))return;var i=this.currentPosition;this.commitEdit(),this.commitNew(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._src=n.asArray(t,!1),this._ncc=n.tryCast(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&i>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),r.prototype._sourceChanged=function(){this._updating<=0&&this.refresh()},r.prototype.contains=function(n){return this._pgView.indexOf(n)>-1},r.prototype.moveCurrentTo=function(n){return this.moveCurrentToPosition(this._pgView.indexOf(n))},r.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},r.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},r.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},r.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},r.prototype.moveCurrentToPosition=function(t){if(t>=-1&&t<this._pgView.length){var i=new n.CancelEventArgs;this._idx!=t&&this.onCurrentChanging(i)&&(this._edtItem&&this._pgView[t]!=this._edtItem&&this.commitEdit(),this._newItem&&this._pgView[t]!=this._newItem&&this.commitNew(),this._idx=t,this.onCurrentChanged())}return this._idx==t},r.prototype.refresh=function(){this._updating>0||this._newItem||this._edtItem||(this._performRefresh(),this.onCollectionChanged())},r.prototype._performRefresh=function(){var t,i=this.currentItem;this._view=this._src?this._filter&&this.canFilter?this._performFilter(this._src):this._srtDsc.length>0&&this.canSort?this._src.slice(0):this._src:[],this.canSort&&this._srtDsc.length>0&&this._performSort(this._view),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=n.clamp(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups)),t=this._pgView.indexOf(i),t<0&&(t=Math.min(this._idx,this._pgView.length-1)),this._idx=t,this._digest=this._getGroupsDigest(this.groups),this.currentItem!==i&&this.onCurrentChanged()},r.prototype._performSort=function(n){var i,r,t;if(this._stableSort)for(i=n.map(function(n,t){return{item:n,index:t}}),r=this._compareItems(),i.sort(function(n,t){var i=r(n.item,t.item);return 0==i?n.index-t.index:i}),t=0;t<n.length;t++)n[t]=i[t].item;else n.sort(this._compareItems())},r.prototype._compareItems=function(){var i=this._srtDsc,t=this._srtCvt,r=this._srtCmp,u=!0,n=0;return function(f,e){for(var l,a,c=0;c<i.length;c++){var h=i[c],o=h._bnd.getValue(f),s=h._bnd.getValue(e);if(t&&(o=t(h,f,o,u),s=t(h,e,s,!1),u=!1),r&&(n=r(o,s),null!=n))return h.ascending?+n:-n;if(o!==o&&(o=null),s!==s&&(s=null),"string"==typeof o&&"string"==typeof s&&(l=o.toLowerCase(),a=s.toLowerCase(),l!=a&&(o=l,s=a)),null!=o&&null==s)return-1;if(null==o&&null!=s)return 1;if(n=o<s?-1:o>s?1:0,0!=n)return h.ascending?+n:-n}return 0}},r.prototype._performFilter=function(n){return this.canFilter&&this._filter?n.filter(this._filter,this):n},r.prototype.onCurrentChanged=function(t){void 0===t&&(t=n.EventArgs.empty),this.currentChanged.raise(this,t)},r.prototype.onCurrentChanging=function(n){return this.currentChanging.raise(this,n),!n.cancel},Object.defineProperty(r.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),r.prototype.beginUpdate=function(){this._updating++},r.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.refresh()},Object.defineProperty(r.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),r.prototype.deferUpdate=function(n){try{this.beginUpdate(),n()}finally{this.endUpdate()}},Object.defineProperty(r.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(t){this._canAddNew=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(t){this._canCancelEdit=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canRemove",{get:function(){return this._canRemove},set:function(t){this._canRemove=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),r.prototype.addNew=function(){var i,u,r;if(arguments.length>0&&n.assert(!1,"addNew does not take any parameters, it creates the new items."),this.commitEdit(),this.commitNew(),!this.canAddNew)return n.assert(!1,"cannot add items (canAddNew == false)."),null;if(i=null,u=this.sourceCollection,i=this.newItemCreator?this.newItemCreator():u&&u.length?new u[0].constructor:{},null!=i){if(this._newItem=i,this._updating++,this._src.push(i),this._updating--,this._pgView!=this._src&&this._pgView.push(i),this.groups&&this.groups.length)for(r=this.groups[this.groups.length-1],r.items.push(i);r.groups&&r.groups.length;)r=r.groups[r.groups.length-1],r.items.push(i);this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Add,i,this._pgView.length-1),this.moveCurrentTo(i)}return this._newItem},r.prototype.cancelEdit=function(){var i,r=this._edtItem;if(null!=r){if(this._edtItem=null,!this.canCancelEdit)return void n.assert(!1,"cannot cancel edits (canCancelEdit == false).");if(i=this._src.indexOf(r),i<0||!this._edtClone)return;this._extend(this._src[i],this._edtClone),this._edtClone=null,this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,r,i)}},r.prototype.cancelNew=function(){var n=this._newItem;null!=n&&this.remove(n)},r.prototype.commitEdit=function(){var r,i,u,n=this._edtItem;null!=n&&(this._committing=!0,r=this._sameContent(n,this._edtClone),this._edtItem=null,this._edtClone=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),r||this._trackItemChanged(n),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged(),this._committing=!1)},r.prototype.commitNew=function(){var i,u,r,n=this._newItem;null!=n&&(this._newItem=null,i=this._pgView.indexOf(n),u=this._digest,this._performRefresh(),1==this._trackChanges&&(r=this._chgEdited.indexOf(n),r>-1&&this._chgEdited.removeAt(r),this._chgAdded.indexOf(n)<0&&this._chgAdded.push(n)),this._pgView.indexOf(n)==i&&u==this._digest?this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Change,n,i):this._raiseCollectionChanged())},r.prototype.editItem=function(n){n!=this._edtItem&&this.moveCurrentTo(n)&&(this.commitEdit(),this._edtItem=n,this._edtClone={},this._extend(this._edtClone,this._edtItem))},r.prototype.remove=function(i){var r,o,s,u,f,h,c,l,e=i==this._newItem;return e&&(this._newItem=null),i==this._edtItem&&this.cancelEdit(),this.canRemove?(r=this._src.indexOf(i),void(r>-1&&(o=this.currentItem,this._updating++,this._src.splice(r,1),this._updating--,s=this._digest,this._performRefresh(),1==this._trackChanges&&(u=this._chgAdded.indexOf(i),u>-1&&this._chgAdded.removeAt(u),f=this._chgEdited.indexOf(i),f>-1&&this._chgEdited.removeAt(f),h=this._chgRemoved.indexOf(i),h<0&&!e&&u<0&&this._chgRemoved.push(i)),c=this.sortDescriptions.length>0,l=this.pageSize>0&&this._pgIdx>-1,c||l||s!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(t.NotifyCollectionChangedAction.Remove,i,r),this.currentItem!==o&&this.onCurrentChanged()))):void n.assert(!1,"cannot remove items (canRemove == false).")},r.prototype.removeAt=function(t){t=n.asInt(t),this.remove(this._pgView[t])},r.prototype._trackItemChanged=function(n){var i,r;this._trackChanges&&(i=this._chgEdited.indexOf(n),i<0&&this._chgAdded.indexOf(n)<0?this._chgEdited.push(n):i>-1?(r=new t.NotifyCollectionChangedEventArgs(t.NotifyCollectionChangedAction.Change,n,i),this._chgEdited.onCollectionChanged(r)):(i=this._chgAdded.indexOf(n),i>-1&&(r=new t.NotifyCollectionChangedEventArgs(t.NotifyCollectionChangedAction.Change,n,i),this._chgAdded.onCollectionChanged(r))))},r.prototype._extend=function(n,t){for(var i in t)n[i]=t[i]},r.prototype._sameContent=function(n,t){for(var i in t)if(!this._sameValue(n[i],t[i]))return!1;for(i in n)if(!this._sameValue(n[i],t[i]))return!1;return!0},r.prototype._sameValue=function(t,i){return t==i||n.DateTime.equals(t,i)},Object.defineProperty(r.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(t){this._canChangePage=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageSize",{get:function(){return this._pgSz},set:function(t){t!=this._pgSz&&(this._pgSz=n.asInt(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),r.prototype.moveToFirstPage=function(){return this.moveToPage(0)},r.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},r.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},r.prototype.moveToPage=function(i){var u,r=n.clamp(i,0,this.pageCount-1);return r!=this._pgIdx&&(this.canChangePage||n.assert(!1,"cannot change pages (canChangePage == false)."),u=new t.PageChangingEventArgs(r),this.onPageChanging(u)&&(this._pgIdx=r,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():(this.onPageChanged(),this.onCollectionChanged()))),this._pgIdx==i},r.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},r.prototype.onPageChanged=function(t){void 0===t&&(t=n.EventArgs.empty),this.pageChanged.raise(this,t)},r.prototype.onPageChanging=function(n){return this.pageChanging.raise(this,n),!n.cancel},r.prototype._getFullGroup=function(n){var t=this._getGroupByPath(this._fullGroups,n.level,n._path);return null!=t&&(n=t),n},r.prototype._getGroupByPath=function(n,t,i){for(var r,u=0;u<n.length;u++)if(r=n[u],r.level==t&&r._path==i||r.level<t&&0==i.indexOf(r._path)&&(r=this._getGroupByPath(r.groups,t,i),null!=r))return r;return null},r.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var n=this._pgSz*this._pgIdx,t=Math.min(n+this._pgSz,this._view.length);return this._view.slice(n,t)},r.prototype._createGroups=function(t){var u,i,e;if(!this._grpDesc||!this._grpDesc.length)return null;var s=[],h={},r=null;for(u=0;u<t.length;u++){var c=t[u],l=s,a=this._grpDesc.length,f="";for(i=0;i<a;i++){var v=this._grpDesc[i],o=v.groupNameFromItem(c,i),y=i==a-1;r=h[f],!r&&n.isPrimitive(o)&&(r={},h[f]=r),e=this._getGroup(v,l,r,o,i,y),f+="/"+o,e._path=f,y&&e.items.push(c),l=e.groups}}return s},r.prototype._getGroupsDigest=function(n){for(var t,i="",r=0;null!=n&&r<n.length;r++)t=n[r],i+="{"+t.name+":"+(t.items?t.items.length:"*"),t.groups.length>0&&(i+=",",i+=this._getGroupsDigest(t.groups)),i+="}";return i},r.prototype._mergeGroupItems=function(n){for(var i,f,t,r,e=[],u=0;u<n.length;u++){if(i=n[u],!i._isBottomLevel)for(f=this._mergeGroupItems(i.groups),t=0,r=f.length;t<r;t++)i._items.push(f[t]);for(t=0,r=i._items.length;t<r;t++)e.push(i._items[t])}return e},r.prototype._getGroup=function(t,r,u,f,e,o){var c,s,h;if(u&&n.isPrimitive(f)){if(c=u[f])return c}else for(s=0;s<r.length;s++)if(t.namesMatch(r[s].name,f))return r[s];return h=new i(t,f,e,o),r.push(h),u&&(u[f]=h),h},r}();t.CollectionView=r,i=function(){function t(n,t,i,r){this._gd=n,this._name=t,this._level=i,this._isBottomLevel=r,this._groups=[],this._items=[]}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),t.prototype.getAggregate=function(t,i,u){var f=n.tryCast(u,r),e=f?f._getFullGroup(this):this;return n.getAggregate(t,e.items,i)},t}(),t.CollectionViewGroup=i}(t=n.collections||(n.collections={}))}(wijmo||(wijmo={})),__extends=this&&this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},function(n){"use strict";var r,t,i=function(){function i(t){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._html=!0,this._gap=6,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new n.Event,n.copy(this,t)}return i.prototype.setTooltip=function(t,i){t=n.getElement(t),i=this._getContent(i);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1)),i&&(this._attach(t),this._tips.push({element:t,content:i}))},i.prototype.show=function(r,u,f){var e,o;r=n.getElement(r),u=this._getContent(u),f||(f=n.Rect.fromBoundingRect(r.getBoundingClientRect())),e=i._eTip,e||(e=i._eTip=document.createElement("div"),n.addClass(e,"wj-tooltip"),e.style.visibility="none",document.body.appendChild(e)),this._setContent(u),o=new t(u),this.onPopup(o),o.content&&!o.cancel&&(this._setContent(o.content),e.style.minWidth="",f=new n.Rect(f.left-(e.offsetWidth-f.width)/2,f.top-this.gap,e.offsetWidth,f.height+2*this.gap),n.showPopup(e,f,!0),document.addEventListener("mousedown",this._hideAutoTipBnd))},i.prototype.hide=function(){i._eTip&&(i._eTip.style.visibility="hidden",i._eTip.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},Object.defineProperty(i.prototype,"isVisible",{get:function(){return i._eTip&&"hidden"!=i._eTip.style.visibility},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){this._html=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"gap",{get:function(){return this._gap},set:function(t){this._gap=n.asNumber(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(t){this._showAtMouse=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDelay",{get:function(){return this._showDelay},set:function(t){this._showDelay=n.asInt(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(t){this._hideDelay=n.asInt(t)},enumerable:!0,configurable:!0}),i.prototype.onPopup=function(n){this.popup&&this.popup.raise(this,n)},i.prototype._indexOf=function(n){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==n)return t;return-1},i.prototype._attach=function(n){n.addEventListener("mouseenter",this._showAutoTipBnd),n.addEventListener("mouseleave",this._hideAutoTipBnd),n.addEventListener("click",this._showAutoTipBnd)},i.prototype._detach=function(n){n.removeEventListener("mouseenter",this._showAutoTipBnd),n.removeEventListener("mouseleave",this._hideAutoTipBnd),n.removeEventListener("click",this._showAutoTipBnd)},i.prototype._showAutoTip=function(t){var i=this,r="mouseenter"==t.type?this._showDelay:0;this._clearTimeouts(),this._toShow=setTimeout(function(){var r,f,u=i._indexOf(t.target);u>-1&&(r=i._tips[u],f=i._showAtMouse?new n.Rect(t.clientX,t.clientY,0,0):null,i.show(r.element,r.content,f),i._hideDelay>0&&(i._toHide=setTimeout(function(){i.hide()},i._hideDelay)))},r)},i.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},i.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},i.prototype._getContent=function(t){if(t=n.asString(t),t&&"#"==t[0]){var i=n.getElement(t);i&&(t=i.innerHTML)}return t},i.prototype._setContent=function(n){var t=i._eTip;t&&(this.isContentHtml?t.innerHTML=n:t.textContent=n)},i}();n.Tooltip=i,r=function(){function n(){}return n}(),t=function(t){function i(i){t.call(this),this._content=n.asString(i)}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(t){this._content=n.asString(t)},enumerable:!0,configurable:!0}),i}(n.CancelEventArgs),n.TooltipEventArgs=t}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function t(n){this._r=0,this._g=0,this._b=0,this._a=1,n&&this._parse(n)}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=n.clamp(n.asNumber(t),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){this._a=n.clamp(n.asNumber(t),0,1)},enumerable:!0,configurable:!0}),t.prototype.equals=function(n){return n instanceof t&&this.r==n.r&&this.g==n.g&&this.b==n.b&&this.a==n.a},t.prototype.toString=function(){var n=Math.round(100*this.a);return n>99?"#"+(16777216+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+n/100+")"},t.fromRgba=function(i,r,u,f){void 0===f&&(f=1);var e=new t(null);return e.r=Math.round(n.clamp(n.asNumber(i),0,255)),e.g=Math.round(n.clamp(n.asNumber(r),0,255)),e.b=Math.round(n.clamp(n.asNumber(u),0,255)),e.a=n.clamp(n.asNumber(f),0,1),e},t.fromHsb=function(i,r,u,f){void 0===f&&(f=1);var e=t._hsbToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromHsl=function(i,r,u,f){void 0===f&&(f=1);var e=t._hslToRgb(n.clamp(n.asNumber(i),0,1),n.clamp(n.asNumber(r),0,1),n.clamp(n.asNumber(u),0,1));return t.fromRgba(e[0],e[1],e[2],f)},t.fromString=function(i){var r=new t(null);return r._parse(n.asString(i))?r:null},t.prototype.getHsb=function(){return t._rgbToHsb(this.r,this.g,this.b)},t.prototype.getHsl=function(){return t._rgbToHsl(this.r,this.g,this.b)},t.interpolate=function(i,r,u){u=n.clamp(n.asNumber(u),0,1);var e=t._rgbToHsl(i.r,i.g,i.b),o=t._rgbToHsl(r.r,r.g,r.b),f=1-u,c=i.a*f+r.a*u,s=[e[0]*f+o[0]*u,e[1]*f+o[1]*u,e[2]*f+o[2]*u],h=t._hslToRgb(s[0],s[1],s[2]);return t.fromRgba(h[0],h[1],h[2],c)},t.toOpaque=function(i,r){if(i=n.isString(i)?t.fromString(i):n.asType(i,t),1==i.a)return i;r=null==r?t.fromRgba(255,255,255,1):n.isString(r)?t.fromString(r):n.asType(r,t);var u=i.a,f=1-u;return t.fromRgba(i.r*u+r.r*f,i.g*u+r.g*f,i.b*u+r.b*f)},t.prototype._parse=function(n){var u,f,r,e,i,o;if(n=n.toLowerCase(),"transparent"==n)return this._r=this._g=this._b=this._a=0,!0;if(n&&0!=n.indexOf("#")&&0!=n.indexOf("rgb")&&0!=n.indexOf("hsl")&&(u=document.createElement("div"),u.style.color=n,f=u.style.color,f==n&&(f=window.getComputedStyle(u).color,f||(document.body.appendChild(u),f=window.getComputedStyle(u).color,document.body.removeChild(u))),n=f.toLowerCase()),0==n.indexOf("#"))return 4==n.length?(this.r=parseInt(n[1]+n[1],16),this.g=parseInt(n[2]+n[2],16),this.b=parseInt(n[3]+n[3],16),this.a=1,!0):7==n.length&&(this.r=parseInt(n.substr(1,2),16),this.g=parseInt(n.substr(3,2),16),this.b=parseInt(n.substr(5,2),16),this.a=1,!0);if(0==n.indexOf("rgb")&&(r=n.indexOf("("),e=n.indexOf(")"),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(","),i.length>2)))return this.r=parseInt(i[0]),this.g=parseInt(i[1]),this.b=parseInt(i[2]),this.a=i.length>3?parseFloat(i[3]):1,!0;if(0==n.indexOf("hsl")&&(r=n.indexOf("("),e=n.indexOf(")"),r>-1&&e>-1&&(i=n.substr(r+1,e-(r+1)).split(","),i.length>2))){var c=parseInt(i[0])/360,s=parseInt(i[1]),h=parseInt(i[2]);return i[1].indexOf("%")>-1&&(s/=100),i[2].indexOf("%")>-1&&(h/=100),o=t._hslToRgb(c,s,h),this.r=o[0],this.g=o[1],this.b=o[2],this.a=i.length>3?parseFloat(i[3]):1,!0}return!1},t._hslToRgb=function(i,r,u){var o,s,h,f,e;return n.assert(i>=0&&i<=1&&r>=0&&r<=1&&u>=0&&u<=1,"bad HSL values"),0==r?o=s=h=u:(f=u<.5?u*(1+r):u+r-u*r,e=2*u-f,o=t._hue2rgb(e,f,i+1/3),
s=t._hue2rgb(e,f,i),h=t._hue2rgb(e,f,i-1/3)),[Math.round(255*o),Math.round(255*s),Math.round(255*h)]},t._hue2rgb=function(n,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?n+6*(t-n)*i:i<.5?t:i<2/3?n+(t-n)*(2/3-i)*6:n},t._rgbToHsl=function(t,i,r){var e;n.assert(t>=0&&t<=255&&i>=0&&i<=255&&r>=0&&r<=255,"bad RGB values"),t/=255,i/=255,r/=255;var f,s,u=Math.max(t,i,r),o=Math.min(t,i,r),h=(u+o)/2;if(u==o)f=s=0;else{switch(e=u-o,s=h>.5?e/(2-u-o):e/(u+o),u){case t:f=(i-r)/e+(i<r?6:0);break;case i:f=(r-t)/e+2;break;case r:f=(t-i)/e+4}f/=6}return[f,s,h]},t._rgbToHsb=function(i,r,u){n.assert(i>=0&&i<=255&&r>=0&&r<=255&&u>=0&&u<=255,"bad RGB values");var f=t._rgbToHsl(i,r,u);return t._hslToHsb(f[0],f[1],f[2])},t._hsbToRgb=function(n,i,r){var u=t._hsbToHsl(n,i,r);return t._hslToRgb(u[0],u[1],u[2])},t._hsbToHsl=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,"bad HSB values");var u=n.clamp(r*(2-i)/2,0,1),f=1-Math.abs(2*u-1),e=n.clamp(f>0?r*i/f:i,0,1);return n.assert(!isNaN(u)&&!isNaN(e),"bad conversion to HSL"),[t,e,u]},t._hslToHsb=function(t,i,r){n.assert(t>=0&&t<=1&&i>=0&&i<=1&&r>=0&&r<=1,"bad HSL values");var u=n.clamp(1==r?1:(2*r+i*(1-Math.abs(2*r-1)))/2,0,1),f=n.clamp(u>0?2*(u-r)/u:i,0,1);return n.assert(!isNaN(u)&&!isNaN(f),"bad conversion to HSB"),[t,f,u]},t}();n.Color=t}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function t(){}return t.copy=function(n){t._copyPasteInternal(n)},t.paste=function(n){t._copyPasteInternal(n)},t._copyPasteInternal=function(t){var u=n.getActiveElement(),r=n.closest(r,"div")||document.body,i=document.createElement("textarea");i.style.position="fixed",i.style.opacity="0",r.appendChild(i),"string"==typeof t&&(i.value=t),i.select(),i.onkeydown=function(n){i.value&&n.preventDefault()},setTimeout(function(){var n=i.value;r.removeChild(i),u.focus(),"function"==typeof t&&t(n)},100)},t}();n.Clipboard=t}(wijmo||(wijmo={})),function(n){"use strict";function i(i,r,u,f,e){var v,a,c,nt,p,d,tt,g,w,h;if(void 0===r&&(r=null),void 0===u&&(u=!1),void 0===f&&(f=!1),void 0===e&&(e=!0),v=document.body,r instanceof HTMLElement){if(!n.contains(document.body,r))return;for(a=r.parentElement;a;a=a.parentElement)if("fixed"==getComputedStyle(a).position){v=a;break}}v.appendChild(i),r instanceof HTMLElement&&e&&(c=getComputedStyle(r),nt=new n.Color(c.backgroundColor),nt.a&&n.setCss(i,{color:c.color,backgroundColor:c.backgroundColor,fontFamily:c.fontFamily,fontSize:c.fontSize,fontWeight:c.fontWeight,fontStyle:c.fontStyle})),n.setCss(i,{position:"absolute",visibility:"hidden",display:""}),n.Control.refreshAll(i);var y=getComputedStyle(i),it=parseFloat(y.marginTop)+parseFloat(y.marginBottom),rt=parseFloat(y.marginLeft)+parseFloat(y.marginRight),l=new n.Size(i.offsetWidth+rt,i.offsetHeight+it),s=new n.Point,o=null;if(r&&null!=r.clientX&&null!=r.clientY&&null!=r.pageX&&null!=r.pageY)r.clientX<=0&&r.clientY<=0&&r.target?o=r.target.getBoundingClientRect():(s.x=Math.max(0,r.pageX-pageXOffset),s.y=Math.max(0,r.pageY-pageYOffset));else if(r instanceof n.Point)s=r;else if(r instanceof HTMLElement)o=r.getBoundingClientRect();else if(r&&null!=r.top&&null!=r.left)o=r;else{if(null!=r)throw"Invalid ref parameter.";s.x=Math.max(0,(innerWidth-l.width)/2),s.y=Math.max(0,Math.round((innerHeight-l.height)/2*.7))}if(p=parseFloat(y.minWidth),o){var b=o.top,k=innerHeight-o.bottom,ut="rtl"==getComputedStyle(i).direction;s.x=ut?Math.max(0,o.right-l.width):Math.max(0,Math.min(o.left,innerWidth-l.width)),s.y=u?b>l.height||b>k?Math.max(0,o.top-l.height):o.bottom:k>l.height||k>b?o.bottom:Math.max(0,o.top-l.height),p=Math.max(p,o.width)}if(d=null==r?new n.Rect(0,0,0,0):v==document.body?new n.Rect((-pageXOffset),(-pageYOffset),0,0):v.getBoundingClientRect(),tt={position:null==r?"fixed":"absolute",left:s.x-d.left,top:s.y-d.top,minWidth:p,display:"",visibility:"",zIndex:1500},f&&(i.style.opacity="0",n.animate(function(n){i.style.opacity=1==n?"":n.toString()})),n.setCss(i,tt),g=r instanceof MouseEvent?r.target:r,g instanceof HTMLElement)for(h=g.parentElement;h&&h!=document.body;h=h.parentElement)"auto"==getComputedStyle(h).overflowY&&h.scrollHeight>h.offsetHeight&&(w||(w=new n.Control(document.createElement("div"))),w.addEventListener(h,"scroll",function(){t(i,!0),w.dispose()}))}function r(i,r,u){void 0===r&&(r=!0),void 0===u&&(u=!1),u?n.animate(function(n){i.style.opacity=(1-n).toString(),1==n&&(t(i,r),i.style.opacity="")}):t(i,r)}function t(n,t){n.style.display="none",t&&n.parentElement&&n.parentElement.removeChild(n)}n.showPopup=i,n.hidePopup=r}(wijmo||(wijmo={})),function(n){"use strict";var t=function(){function t(t){this._copyCss=!0,null!=t&&n.copy(this,t)}return Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyCss",{get:function(){return this._copyCss},set:function(t){this._copyCss=n.asBoolean(t)},enumerable:!0,configurable:!0}),t.prototype.addCSS=function(n){this._css||(this._css=[]),this._css.push(n)},t.prototype.append=function(t){var i=this._getDocument();n.isString(t)?i.write(t):t instanceof HTMLElement?i.write(t.outerHTML):n.assert(!1,"child should be an HTML element or a string.")},t.prototype.print=function(){var n=this;this._iframe&&(this._close(),setTimeout(function(){var t=n._iframe.contentWindow;t.focus(),t.print(),document.body.removeChild(n._iframe),n._iframe=null},100))},t.prototype._getDocument=function(){if(!this._iframe){this._iframe=document.createElement("iframe");var n=this._iframe.style;n.position="fixed",n.left="10000px",n.top="10000px",document.body.appendChild(this._iframe)}return this._iframe.contentDocument},t.prototype._close=function(){var r,e,u,o,t,s,f,i=this._getDocument();if(i.close(),this.title&&(r=i.querySelector("title"),r||(r=i.createElement("title"),i.head.appendChild(r)),r.textContent=this.title),this._copyCss){for(e=document.head.querySelectorAll("LINK"),t=0;t<e.length;t++)u=e[t],u.href.match(/\.css$/i)&&u.rel.match(/stylesheet/i)&&(f=n.httpRequest(u.href,{async:!1}),this._addStyle(f.responseText));for(o=document.head.querySelectorAll("STYLE"),t=0;t<o.length;t++)this._addStyle(o[t].textContent)}if(this._css)for(t=0;t<this._css.length;t++)s=i.createElement("style"),f=n.httpRequest(this._css[t],{async:!1}),s.textContent=f.responseText,i.head.appendChild(s)},t.prototype._addStyle=function(n){var t=this._getDocument(),i=t.createElement("style");i.textContent=n,t.head.appendChild(i)},t}();n.PrintDocument=t}(wijmo||(wijmo={})),function(n){"use strict";var t,i=function(){function i(n,t,i){void 0===t&&(t=null),void 0===i&&(i="_"),this._promptChar="_",this._mskArr=[],this._full=!0,this._hbInput=this._input.bind(this),this._hbKeyDown=this._keydown.bind(this),this._hbKeyPress=this._keypress.bind(this),this._hbCompositionStart=this._compositionstart.bind(this),this._hbCompositionEnd=this._compositionend.bind(this),this.mask=t,this.input=n,this.promptChar=i,this._connect(!0)}return Object.defineProperty(i.prototype,"input",{get:function(){return this._tbx},set:function(n){this._connect(!1),this._tbx=n,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"mask",{get:function(){return this._msk},set:function(t){t!=this._msk&&(this._msk=n.asString(t,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"promptChar",{get:function(){return this._promptChar},set:function(t){t!=this._promptChar&&(this._promptChar=n.asString(t,!1),n.assert(1==this._promptChar.length,"promptChar must be a string with length 1."),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),i.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},i.prototype.getRawValue=function(){var n,t=this._tbx.value,i="";if(!this.mask)return t;for(n=0;n<this._mskArr.length&&n<t.length;n++)this._mskArr[n].literal||t[n]==this._promptChar||(i+=t[n]);return i},i.prototype.refresh=function(){this._parseMask(),this._valueChanged()},i.prototype._input=function(){var n=this;this._composing||setTimeout(function(){n._valueChanged()})},i.prototype._keydown=function(t){this._backSpace=t.keyCode==n.Key.Back},i.prototype._keypress=function(n){n.ctrlKey||n.metaKey||n.altKey||this._composing||!this._preventKey(n.charCode)||n.preventDefault()},i.prototype._compositionstart=function(){this._composing=!0},i.prototype._compositionend=function(){var n=this;this._composing=!1,setTimeout(function(){n._valueChanged()})},i.prototype._preventKey=function(t){var r;if(t&&this._mskArr.length){var u=this._tbx,i=u.selectionStart,f=String.fromCharCode(t);if(i<this._firstPos&&(i=this._firstPos,n.setSelectionRange(u,i)),i>=this._mskArr.length)return!0;if(r=this._mskArr[i],r.literal)this._validatePosition(i);else if(r.wildCard!=f&&!this._isCharValid(r.wildCard,f))return!0}return!1},i.prototype._connect=function(n){var t=this._tbx;t&&(n?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete="off",t.spellcheck=!1,t.addEventListener("input",this._hbInput),t.addEventListener("keydown",this._hbKeyDown,!0),t.addEventListener("keypress",this._hbKeyPress,!0),t.addEventListener("compositionstart",this._hbCompositionStart,!0),t.addEventListener("compositionend",this._hbCompositionEnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener("input",this._hbInput),t.removeEventListener("keydown",this._hbKeyDown,!0),t.removeEventListener("keypress",this._hbKeyPress,!0),t.removeEventListener("compositionstart",this._hbCompositionStart,!0),t.removeEventListener("compositionend",this._hbCompositionEnd,!0)))},i.prototype._valueChanged=function(){var n,i,r,t=this._tbx;t&&(n=t.selectionStart,i=n>0?t.value[n-1]:"",t.value=this._applyMask(),r=n>0?t.value[n-1]:"",n>0&&r==this._promptChar&&i!=this.promptChar&&n--,this._validatePosition(n))},i.prototype._applyMask=function(){var f,r,n,i,t=this._tbx.value,e="",u=0;if(this._full=!0,!this.mask)return t;for(t=this._handleVagueLiterals(t),f=0;f<this._mskArr.length;f++){if(r=this._mskArr[f],n=r.literal,n&&n==t[u]&&u++,r.wildCard){if(n=this._promptChar,t){for(i=u;i<t.length;i++)if(this._isCharValid(r.wildCard,t[i])){switch(n=t[i],r.charCase){case">":n=n.toUpperCase();break;case"<":n=n.toLowerCase()}break}u=i+1}n==this._promptChar&&(this._full=!1)}e+=n}return e},i.prototype._handleVagueLiterals=function(n){var i,t,f,r,e,u;if(n.length>this._mskArr.length+1)return n;if(i=n.length-this._mskArr.length,0!=i&&n.length>1){for(t=-1,f=Math.max(0,this._tbx.selectionStart-i),r=f;r<this._mskArr.length;r++)if(this._mskArr[r].vague){t=r;break}if(t>-1)if(i<0)e=Array(1-i).join(this._promptChar),u=t+i,u>-1&&(n=n.substr(0,u)+e+n.substr(u));else{for(;t>0&&this._mskArr[t-1].literal;)t--;n=n.substr(0,t)+n.substr(t+i)}}return n},i.prototype._isCharValid=function(n,t){var r=this._promptChar;switch(n){case"0":return t>="0"&&t<="9"||t==r;case"9":return t>="0"&&t<="9"||" "==t||t==r;case"#":return t>="0"&&t<="9"||" "==t||"+"==t||"-"==t||t==r;case"L":return t>="a"&&t<="z"||t>="A"&&t<="Z"||t==r;case"l":return t>="a"&&t<="z"||t>="A"&&t<="Z"||" "==t||t==r;case"A":return t>="0"&&t<="9"||t>="a"&&t<="z"||t>="A"&&t<="Z"||t==r;case"a":return t>="0"&&t<="9"||t>="a"&&t<="z"||t>="A"&&t<="Z"||" "==t||t==r;case"":return t>=""&&t<=""||t==r;case"":case"":return!(""==n&&i._X_DBCS_BIG_HIRA.indexOf(t)>-1)&&(t>=""&&t<=""||t==r);case"":case"":return!(""==n&&i._X_DBCS_BIG_KATA.indexOf(t)>-1)&&(t>=""&&t<=""||t==r);case"":return t<="!"||t>=""||t==r;case"H":return t>="!"&&t<=""||t==r;case"K":case"N":return!("N"==n&&i._X_SBCS_BIG_KATA.indexOf(t)>-1)&&(t>=""&&t<=""||t==r)}return!1},i.prototype._validatePosition=function(t){var i=this._mskArr;if(this._backSpace)for(;t>0&&t<i.length&&i[t-1].literal;)t--;if(0==t||!this._backSpace)for(;t<i.length&&i[t].literal;)t++;n.getActiveElement()==this._tbx&&n.setSelectionRange(this._tbx,t),this._backSpace=!1},i.prototype._parseMask=function(){var r,o,f,i,e,u,s;for(this._mskArr=[],this._firstPos=-1,this._lastPos=-1,r=this._msk,o="|",i=0;r&&i<r.length;i++)switch(r[i]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"":case"":case"":case"":case"":case"":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new t(r[i],o));break;case".":case",":case":":case"/":case"$":switch(r[i]){case".":case",":f=n.culture.Globalize.numberFormat[r[i]];break;case":":case"/":f=n.culture.Globalize.calendar[r[i]];break;case"$":f=n.culture.Globalize.numberFormat.currency.symbol}for(u=0;u<f.length;u++)this._mskArr.push(new t(f[u]));break;case"<":case">":case"|":o=r[i];break;case"\\":i<r.length-1&&i++,this._mskArr.push(new t(r[i]));break;default:this._mskArr.push(new t(r[i]))}for(i=0;i<this._mskArr.length;i++)if(e=this._mskArr[i],e.literal)for(u=0;u<i;u++)if(s=this._mskArr[u],s.wildCard&&this._isCharValid(s.wildCard,e.literal)){e.vague=!0;break}},i._X_DBCS_BIG_HIRA="",i._X_DBCS_BIG_KATA="",i._X_SBCS_BIG_KATA="",i}();n._MaskProvider=i,t=function(){function n(n,t){t?(this.wildCard=n,this.charCase=t):this.literal=n}return n}(),n._MaskElement=t}(wijmo||(wijmo={})),function(n){"use strict";function u(){return r}function f(){return i}var i,t,r=null!=navigator.userAgent.match(/MSIE |Trident\/|Edge\//);n.isIE=u,n.isIE9=f,document.doctype&&navigator.appVersion.indexOf("MSIE 9")>-1&&(i=!0,document.addEventListener("mousemove",function(n){if(1==n.which)for(var t=n.target;t;t=t.parentNode)if(t.attributes&&t.attributes.draggable)return t.dragDrop(),!1})),window.requestAnimationFrame||(t=0,window.requestAnimationFrame=function(n){var i=Date.now(),r=16-(i-t),u=r>0?r:0;return t=i+u,setTimeout(function(){n(t)},u)},window.cancelAnimationFrame=clearTimeout)}(wijmo||(wijmo={})),function(){"use strict";angular.module("dashboard").controller("dashboardController",["$rootScope","$scope","$log","appConstants",function($rootScope,$scope,$log,appConstants){$scope.name="asd",console.log(appConstants.APP_NAME)}])}(),function(){"use strict";angular.module("shell").controller("noteController",["$rootScope","$scope","$log","appConstants",function($rootScope,$scope,$log,appConstants){var countries,self,data=[];self=this,$scope.title="Wijmo Grid",function(){countries="US,Germany,UK,Japan,Italy,Greece".split(",");for(var i=0;i<100;i++)data.push({id:i,country:countries[i%countries.length],date:new Date(2014,i%12,i%28),amount:1e4*Math.random(),active:i%4==0})}(),$scope.data=data}])}(),function(){"use strict";angular.module("shell").controller("wjGridController",["$rootScope","$scope","$log","appConstants",function($rootScope,$scope,$log,appConstants){var countries,self,data=[];self=this,$scope.title="Wijmo Grid",function(){countries="US,Germany,UK,Japan,Italy,Greece".split(",");for(var i=0;i<100;i++)data.push({id:i,country:countries[i%countries.length],date:new Date(2014,i%12,i%28),amount:1e4*Math.random(),active:i%4==0})}(),$scope.data=data}])}(),!function(a){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],a);else if("object"==typeof exports)a(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";a(jQuery,moment)}}(function(a,b){"use strict";if(!b)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var c=function(c,d){var e,f,g,h,i,j={},k=b().startOf("d"),l=k.clone(),m=!0,n=!1,o=!1,p=0,q=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10}],r=["days","months","years"],s=["top","bottom","auto"],t=["left","right","auto"],u=["default","top","bottom"],v={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},w={},x=function(a){if("string"!=typeof a||a.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(a){case"y":return-1!==g.indexOf("Y");case"M":return-1!==g.indexOf("M");case"d":return-1!==g.toLowerCase().indexOf("d");case"h":case"H":return-1!==g.toLowerCase().indexOf("h");case"m":return-1!==g.indexOf("m");case"s":return-1!==g.indexOf("s");default:return!1}},y=function(){return x("h")||x("m")||x("s")},z=function(){return x("y")||x("M")||x("d")},A=function(){var b=a("<thead>").append(a("<tr>").append(a("<th>").addClass("prev").attr("data-action","previous").append(a("<span>").addClass(d.icons.previous))).append(a("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",d.calendarWeeks?"6":"5")).append(a("<th>").addClass("next").attr("data-action","next").append(a("<span>").addClass(d.icons.next)))),c=a("<tbody>").append(a("<tr>").append(a("<td>").attr("colspan",d.calendarWeeks?"8":"7")));return[a("<div>").addClass("datepicker-days").append(a("<table>").addClass("table-condensed").append(b).append(a("<tbody>"))),a("<div>").addClass("datepicker-months").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-years").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone()))]},B=function(){var b=a("<tr>"),c=a("<tr>"),e=a("<tr>");return x("h")&&(b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementHours").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-hour").attr("data-time-component","hours").attr("data-action","showHours"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementHours").append(a("<span>").addClass(d.icons.down))))),x("m")&&(x("h")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementMinutes").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-minute").attr("data-time-component","minutes").attr("data-action","showMinutes"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementMinutes").append(a("<span>").addClass(d.icons.down))))),x("s")&&(x("m")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","incrementSeconds").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-second").attr("data-time-component","seconds").attr("data-action","showSeconds"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1"}).addClass("btn").attr("data-action","decrementSeconds").append(a("<span>").addClass(d.icons.down))))),f||(b.append(a("<td>").addClass("separator")),c.append(a("<td>").append(a("<button>").addClass("btn btn-primary").attr("data-action","togglePeriod"))),e.append(a("<td>").addClass("separator"))),a("<div>").addClass("timepicker-picker").append(a("<table>").addClass("table-condensed").append([b,c,e]))},C=function(){var b=a("<div>").addClass("timepicker-hours").append(a("<table>").addClass("table-condensed")),c=a("<div>").addClass("timepicker-minutes").append(a("<table>").addClass("table-condensed")),d=a("<div>").addClass("timepicker-seconds").append(a("<table>").addClass("table-condensed")),e=[B()];return x("h")&&e.push(b),x("m")&&e.push(c),x("s")&&e.push(d),e},D=function(){var b=[];return d.showTodayButton&&b.push(a("<td>").append(a("<a>").attr("data-action","today").append(a("<span>").addClass(d.icons.today)))),!d.sideBySide&&z()&&y()&&b.push(a("<td>").append(a("<a>").attr("data-action","togglePicker").append(a("<span>").addClass(d.icons.time)))),d.showClear&&b.push(a("<td>").append(a("<a>").attr("data-action","clear").append(a("<span>").addClass(d.icons.clear)))),d.showClose&&b.push(a("<td>").append(a("<a>").attr("data-action","close").append(a("<span>").addClass(d.icons.close)))),a("<table>").addClass("table-condensed").append(a("<tbody>").append(a("<tr>").append(b)))},E=function(){var b=a("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),c=a("<div>").addClass("datepicker").append(A()),e=a("<div>").addClass("timepicker").append(C()),g=a("<ul>").addClass("list-unstyled"),h=a("<li>").addClass("picker-switch"+(d.collapse?" accordion-toggle":"")).append(D());return d.inline&&b.removeClass("dropdown-menu"),f&&b.addClass("usetwentyfour"),d.sideBySide&&z()&&y()?(b.addClass("timepicker-sbs"),b.append(a("<div>").addClass("row").append(c.addClass("col-sm-6")).append(e.addClass("col-sm-6"))),b.append(h),b):("top"===d.toolbarPlacement&&g.append(h),z()&&g.append(a("<li>").addClass(d.collapse&&y()?"collapse in":"").append(c)),"default"===d.toolbarPlacement&&g.append(h),y()&&g.append(a("<li>").addClass(d.collapse&&z()?"collapse":"").append(e)),"bottom"===d.toolbarPlacement&&g.append(h),b.append(g))},F=function(){var b,e={};return b=c.is("input")||d.inline?c.data():c.find("input").data(),b.dateOptions&&b.dateOptions instanceof Object&&(e=a.extend(!0,e,b.dateOptions)),a.each(d,function(a){var c="date"+a.charAt(0).toUpperCase()+a.slice(1);void 0!==b[c]&&(e[a]=b[c])}),e},G=function(){var b,e=(n||c).position(),f=(n||c).offset(),g=d.widgetPositioning.vertical,h=d.widgetPositioning.horizontal;if(d.widgetParent)b=d.widgetParent.append(o);else if(c.is("input"))b=c.parent().append(o);else{if(d.inline)return void(b=c.append(o));b=c,c.children().first().after(o)}if("auto"===g&&(g=f.top+1.5*o.height()>=a(window).height()+a(window).scrollTop()&&o.height()+c.outerHeight()<f.top?"top":"bottom"),"auto"===h&&(h=b.width()<f.left+o.outerWidth()/2&&f.left+o.outerWidth()>a(window).width()?"right":"left"),"top"===g?o.addClass("top").removeClass("bottom"):o.addClass("bottom").removeClass("top"),"right"===h?o.addClass("pull-right"):o.removeClass("pull-right"),"relative"!==b.css("position")&&(b=b.parents().filter(function(){return"relative"===a(this).css("position")}).first()),0===b.length)throw new Error("datetimepicker component should be placed within a relative positioned container");o.css({top:"top"===g?"auto":e.top+c.outerHeight(),bottom:"top"===g?e.top+c.outerHeight():"auto",left:"left"===h?b.css("padding-left"):"auto",right:"left"===h?"auto":b.width()-c.outerWidth()})},H=function(a){"dp.change"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||c.trigger(a)},I=function(a){o&&(a&&(i=Math.max(p,Math.min(2,i+a))),o.find(".datepicker > div").hide().filter(".datepicker-"+q[i].clsName).show())},J=function(){var b=a("<tr>"),c=l.clone().startOf("w");for(d.calendarWeeks===!0&&b.append(a("<th>").addClass("cw").text("#"));c.isBefore(l.clone().endOf("w"));)b.append(a("<th>").addClass("dow").text(c.format("dd"))),c.add(1,"d");o.find(".datepicker-days thead").append(b)},K=function(a){return d.disabledDates[a.format("YYYY-MM-DD")]===!0},L=function(a){return d.enabledDates[a.format("YYYY-MM-DD")]===!0},M=function(a,b){return!!a.isValid()&&((!d.disabledDates||!K(a)||"M"===b)&&(!(d.enabledDates&&!L(a)&&"M"!==b)&&((!d.minDate||!a.isBefore(d.minDate,b))&&((!d.maxDate||!a.isAfter(d.maxDate,b))&&("d"!==b||-1===d.daysOfWeekDisabled.indexOf(a.day()))))))},N=function(){for(var b=[],c=l.clone().startOf("y").hour(12);c.isSame(l,"y");)b.push(a("<span>").attr("data-action","selectMonth").addClass("month").text(c.format("MMM"))),c.add(1,"M");o.find(".datepicker-months td").empty().append(b)},O=function(){var b=o.find(".datepicker-months"),c=b.find("th"),d=b.find("tbody").find("span");b.find(".disabled").removeClass("disabled"),M(l.clone().subtract(1,"y"),"y")||c.eq(0).addClass("disabled"),c.eq(1).text(l.year()),M(l.clone().add(1,"y"),"y")||c.eq(2).addClass("disabled"),d.removeClass("active"),k.isSame(l,"y")&&d.eq(k.month()).addClass("active"),d.each(function(b){M(l.clone().month(b),"M")||a(this).addClass("disabled")})},P=function(){var a=o.find(".datepicker-years"),b=a.find("th"),c=l.clone().subtract(5,"y"),e=l.clone().add(6,"y"),f="";for(a.find(".disabled").removeClass("disabled"),d.minDate&&d.minDate.isAfter(c,"y")&&b.eq(0).addClass("disabled"),b.eq(1).text(c.year()+"-"+e.year()),d.maxDate&&d.maxDate.isBefore(e,"y")&&b.eq(2).addClass("disabled");!c.isAfter(e,"y");)f+='<span data-action="selectYear" class="year'+(c.isSame(k,"y")?" active":"")+(M(c,"y")?"":" disabled")+'">'+c.year()+"</span>",c.add(1,"y");a.find("td").html(f)},Q=function(){var c,e,f,g=o.find(".datepicker-days"),h=g.find("th"),i=[];if(z()){for(g.find(".disabled").removeClass("disabled"),h.eq(1).text(l.format(d.dayViewHeaderFormat)),M(l.clone().subtract(1,"M"),"M")||h.eq(0).addClass("disabled"),M(l.clone().add(1,"M"),"M")||h.eq(2).addClass("disabled"),c=l.clone().startOf("M").startOf("week");!l.clone().endOf("M").endOf("w").isBefore(c,"d");)0===c.weekday()&&(e=a("<tr>"),d.calendarWeeks&&e.append('<td class="cw">'+c.week()+"</td>"),i.push(e)),f="",c.isBefore(l,"M")&&(f+=" old"),c.isAfter(l,"M")&&(f+=" new"),c.isSame(k,"d")&&!m&&(f+=" active"),M(c,"d")||(f+=" disabled"),c.isSame(b(),"d")&&(f+=" today"),(0===c.day()||6===c.day())&&(f+=" weekend"),e.append('<td data-action="selectDay" class="day'+f+'">'+c.date()+"</td>"),c.add(1,"d");g.find("tbody").empty().append(i),O(),P()}},R=function(){var b=o.find(".timepicker-hours table"),c=l.clone().startOf("d"),d=[],e=a("<tr>");for(l.hour()>11&&!f&&c.hour(12);c.isSame(l,"d")&&(f||l.hour()<12&&c.hour()<12||l.hour()>11);)c.hour()%4===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectHour" class="hour'+(M(c,"h")?"":" disabled")+'">'+c.format(f?"HH":"hh")+"</td>"),c.add(1,"h");b.empty().append(d)},S=function(){for(var b=o.find(".timepicker-minutes table"),c=l.clone().startOf("h"),e=[],f=a("<tr>"),g=1===d.stepping?5:d.stepping;l.isSame(c,"h");)c.minute()%(4*g)===0&&(f=a("<tr>"),e.push(f)),f.append('<td data-action="selectMinute" class="minute'+(M(c,"m")?"":" disabled")+'">'+c.format("mm")+"</td>"),c.add(g,"m");b.empty().append(e)},T=function(){for(var b=o.find(".timepicker-seconds table"),c=l.clone().startOf("m"),d=[],e=a("<tr>");l.isSame(c,"m");)c.second()%20===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectSecond" class="second'+(M(c,"s")?"":" disabled")+'">'+c.format("ss")+"</td>"),c.add(5,"s");b.empty().append(d)},U=function(){var a=o.find(".timepicker span[data-time-component]");f||o.find(".timepicker [data-action=togglePeriod]").text(k.format("A")),a.filter("[data-time-component=hours]").text(k.format(f?"HH":"hh")),a.filter("[data-time-component=minutes]").text(k.format("mm")),a.filter("[data-time-component=seconds]").text(k.format("ss")),R(),S(),T()},V=function(){o&&(Q(),U())},W=function(a){var b=m?null:k;return a?(a=a.clone().locale(d.locale),1!==d.stepping&&a.minutes(Math.round(a.minutes()/d.stepping)*d.stepping%60).seconds(0),void(M(a)?(k=a,l=k.clone(),e.val(k.format(g)),c.data("date",k.format(g)),V(),m=!1,H({type:"dp.change",date:k.clone(),oldDate:b})):(d.keepInvalid||e.val(m?"":k.format(g)),H({type:"dp.error",date:a})))):(m=!0,e.val(""),c.data("date",""),H({type:"dp.change",date:null,oldDate:b}),void V())},X=function(){var b=!1;return o?(o.find(".collapse").each(function(){var c=a(this).data("collapse");return!c||!c.transitioning||(b=!0,!1)}),b?j:(n&&n.hasClass("btn")&&n.toggleClass("active"),o.hide(),a(window).off("resize",G),o.off("click","[data-action]"),o.off("mousedown",!1),o.remove(),o=!1,H({type:"dp.hide",date:k.clone()}),j)):j},Y=function(){W(null)},Z={next:function(){l.add(q[i].navStep,q[i].navFnc),Q()},previous:function(){l.subtract(q[i].navStep,q[i].navFnc),Q()},pickerSwitch:function(){I(1)},selectMonth:function(b){var c=a(b.target).closest("tbody").find("span").index(a(b.target));l.month(c),i===p?(W(k.clone().year(l.year()).month(l.month())),d.inline||X()):(I(-1),Q())},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;l.year(c),i===p?(W(k.clone().year(l.year())),d.inline||X()):(I(-1),Q())},selectDay:function(b){var c=l.clone();a(b.target).is(".old")&&c.subtract(1,"M"),a(b.target).is(".new")&&c.add(1,"M"),W(c.date(parseInt(a(b.target).text(),10))),y()||d.keepOpen||d.inline||X()},incrementHours:function(){W(k.clone().add(1,"h"))},incrementMinutes:function(){W(k.clone().add(d.stepping,"m"))},incrementSeconds:function(){W(k.clone().add(1,"s"))},decrementHours:function(){W(k.clone().subtract(1,"h"))},decrementMinutes:function(){W(k.clone().subtract(d.stepping,"m"))},decrementSeconds:function(){W(k.clone().subtract(1,"s"))},togglePeriod:function(){W(k.clone().add(k.hours()>=12?-12:12,"h"))},togglePicker:function(b){var c,e=a(b.target),f=e.closest("ul"),g=f.find(".in"),h=f.find(".collapse:not(.in)");if(g&&g.length){if(c=g.data("collapse"),c&&c.transitioning)return;g.collapse?(g.collapse("hide"),h.collapse("show")):(g.removeClass("in"),h.addClass("in")),e.is("span")?e.toggleClass(d.icons.time+" "+d.icons.date):e.find("span").toggleClass(d.icons.time+" "+d.icons.date)}},showPicker:function(){o.find(".timepicker > div:not(.timepicker-picker)").hide(),o.find(".timepicker .timepicker-picker").show()},showHours:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-hours").show()},showMinutes:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);f||(k.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),W(k.clone().hours(c)),Z.showPicker.call(j)},selectMinute:function(b){W(k.clone().minutes(parseInt(a(b.target).text(),10))),Z.showPicker.call(j)},selectSecond:function(b){W(k.clone().seconds(parseInt(a(b.target).text(),10))),Z.showPicker.call(j)},clear:Y,today:function(){W(b())},close:X},$=function(b){return!a(b.currentTarget).is(".disabled")&&(Z[a(b.currentTarget).data("action")].apply(j,arguments),!1)},_=function(){var c,f={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};return e.prop("disabled")||!d.ignoreReadonly&&e.prop("readonly")||o?j:(d.useCurrent&&m&&(e.is("input")&&0===e.val().trim().length||d.inline)&&(c=b(),"string"==typeof d.useCurrent&&(c=f[d.useCurrent](c)),W(c)),o=E(),J(),N(),o.find(".timepicker-hours").hide(),o.find(".timepicker-minutes").hide(),o.find(".timepicker-seconds").hide(),V(),I(),a(window).on("resize",G),o.on("click","[data-action]",$),o.on("mousedown",!1),n&&n.hasClass("btn")&&n.toggleClass("active"),o.show(),G(),e.is(":focus")||e.focus(),H({type:"dp.show"}),j)},ab=function(){return o?X():_()},bb=function(a){return a=b.isMoment(a)||a instanceof Date?b(a):b(a,h,d.useStrict),a.locale(d.locale),a},cb=function(a){var b,c,e,f,g=null,h=[],i={},k=a.which,l="p";w[k]=l;for(b in w)w.hasOwnProperty(b)&&w[b]===l&&(h.push(b),parseInt(b,10)!==k&&(i[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&"function"==typeof d.keyBinds[b]&&(e=b.split(" "),e.length===h.length&&v[k]===e[e.length-1])){for(f=!0,c=e.length-2;c>=0;c--)if(!(v[e[c]]in i)){f=!1;break}if(f){g=d.keyBinds[b];break}}g&&(g.call(j,o),a.stopPropagation(),a.preventDefault())},db=function(a){w[a.which]="r",a.stopPropagation(),a.preventDefault()},eb=function(b){var c=a(b.target).val().trim(),d=c?bb(c):null;
return W(d),b.stopImmediatePropagation(),!1},fb=function(){e.on({change:eb,blur:d.debug?"":X,keydown:cb,keyup:db}),c.is("input")?e.on({focus:_}):n&&(n.on("click",ab),n.on("mousedown",!1))},gb=function(){e.off({change:eb,blur:X,keydown:cb,keyup:db}),c.is("input")?e.off({focus:_}):n&&(n.off("click",ab),n.off("mousedown",!1))},hb=function(b){var c={};return a.each(b,function(){var a=bb(this);a.isValid()&&(c[a.format("YYYY-MM-DD")]=!0)}),!!Object.keys(c).length&&c},ib=function(){var a=d.format||"L LT";g=a.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=k.localeData().longDateFormat(a)||a;return b.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){return k.localeData().longDateFormat(a)||a})}),h=d.extraFormats?d.extraFormats.slice():[],h.indexOf(a)<0&&h.indexOf(g)<0&&h.push(g),f=g.toLowerCase().indexOf("a")<1&&g.indexOf("h")<1,x("y")&&(p=2),x("M")&&(p=1),x("d")&&(p=0),i=Math.max(p,i),m||W(k)};if(j.destroy=function(){X(),gb(),c.removeData("DateTimePicker"),c.removeData("date")},j.toggle=ab,j.show=_,j.hide=X,j.disable=function(){return X(),n&&n.hasClass("btn")&&n.addClass("disabled"),e.prop("disabled",!0),j},j.enable=function(){return n&&n.hasClass("btn")&&n.removeClass("disabled"),e.prop("disabled",!1),j},j.ignoreReadonly=function(a){if(0===arguments.length)return d.ignoreReadonly;if("boolean"!=typeof a)throw new TypeError("ignoreReadonly () expects a boolean parameter");return d.ignoreReadonly=a,j},j.options=function(b){if(0===arguments.length)return a.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError("options() options parameter should be an object");return a.extend(!0,d,b),a.each(d,function(a,b){if(void 0===j[a])throw new TypeError("option "+a+" is not recognized!");j[a](b)}),j},j.date=function(a){if(0===arguments.length)return m?null:k.clone();if(!(null===a||"string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return W(null===a?null:bb(a)),j},j.format=function(a){if(0===arguments.length)return d.format;if("string"!=typeof a&&("boolean"!=typeof a||a!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+a);return d.format=a,g&&ib(),j},j.dayViewHeaderFormat=function(a){if(0===arguments.length)return d.dayViewHeaderFormat;if("string"!=typeof a)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return d.dayViewHeaderFormat=a,j},j.extraFormats=function(a){if(0===arguments.length)return d.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return d.extraFormats=a,h&&ib(),j},j.disabledDates=function(b){if(0===arguments.length)return d.disabledDates?a.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,V(),j;if(!(b instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return d.disabledDates=hb(b),d.enabledDates=!1,V(),j},j.enabledDates=function(b){if(0===arguments.length)return d.enabledDates?a.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,V(),j;if(!(b instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return d.enabledDates=hb(b),d.disabledDates=!1,V(),j},j.daysOfWeekDisabled=function(a){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if(!(a instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");return d.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||0>b||isNaN(b)?a:(-1===a.indexOf(b)&&a.push(b),a)},[]).sort(),V(),j},j.maxDate=function(a){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if("boolean"==typeof a&&a===!1)return d.maxDate=!1,V(),j;"string"==typeof a&&("now"===a||"moment"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+a);if(d.minDate&&c.isBefore(d.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+c.format(g));return d.maxDate=c,d.maxDate.isBefore(a)&&W(d.maxDate),l.isAfter(c)&&(l=c.clone()),V(),j},j.minDate=function(a){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if("boolean"==typeof a&&a===!1)return d.minDate=!1,V(),j;"string"==typeof a&&("now"===a||"moment"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError("minDate() Could not parse date parameter: "+a);if(d.maxDate&&c.isAfter(d.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+c.format(g));return d.minDate=c,d.minDate.isAfter(a)&&W(d.minDate),l.isBefore(c)&&(l=c.clone()),V(),j},j.defaultDate=function(a){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!a)return d.defaultDate=!1,j;"string"==typeof a&&("now"===a||"moment"===a)&&(a=b());var c=bb(a);if(!c.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+a);if(!M(c))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return d.defaultDate=c,d.defaultDate&&""===e.val().trim()&&void 0===e.attr("placeholder")&&W(d.defaultDate),j},j.locale=function(a){if(0===arguments.length)return d.locale;if(!b.localeData(a))throw new TypeError("locale() locale "+a+" is not loaded from moment locales!");return d.locale=a,k.locale(d.locale),l.locale(d.locale),g&&ib(),o&&(X(),_()),j},j.stepping=function(a){return 0===arguments.length?d.stepping:(a=parseInt(a,10),(isNaN(a)||1>a)&&(a=1),d.stepping=a,j)},j.useCurrent=function(a){var b=["year","month","day","hour","minute"];if(0===arguments.length)return d.useCurrent;if("boolean"!=typeof a&&"string"!=typeof a)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof a&&-1===b.indexOf(a.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+b.join(", "));return d.useCurrent=a,j},j.collapse=function(a){if(0===arguments.length)return d.collapse;if("boolean"!=typeof a)throw new TypeError("collapse() expects a boolean parameter");return d.collapse===a?j:(d.collapse=a,o&&(X(),_()),j)},j.icons=function(b){if(0===arguments.length)return a.extend({},d.icons);if(!(b instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return a.extend(d.icons,b),o&&(X(),_()),j},j.useStrict=function(a){if(0===arguments.length)return d.useStrict;if("boolean"!=typeof a)throw new TypeError("useStrict() expects a boolean parameter");return d.useStrict=a,j},j.sideBySide=function(a){if(0===arguments.length)return d.sideBySide;if("boolean"!=typeof a)throw new TypeError("sideBySide() expects a boolean parameter");return d.sideBySide=a,o&&(X(),_()),j},j.viewMode=function(a){if(0===arguments.length)return d.viewMode;if("string"!=typeof a)throw new TypeError("viewMode() expects a string parameter");if(-1===r.indexOf(a))throw new TypeError("viewMode() parameter must be one of ("+r.join(", ")+") value");return d.viewMode=a,i=Math.max(r.indexOf(a),p),I(),j},j.toolbarPlacement=function(a){if(0===arguments.length)return d.toolbarPlacement;if("string"!=typeof a)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===u.indexOf(a))throw new TypeError("toolbarPlacement() parameter must be one of ("+u.join(", ")+") value");return d.toolbarPlacement=a,o&&(X(),_()),j},j.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},d.widgetPositioning);if("[object Object]"!=={}.toString.call(b))throw new TypeError("widgetPositioning() expects an object variable");if(b.horizontal){if("string"!=typeof b.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(b.horizontal=b.horizontal.toLowerCase(),-1===t.indexOf(b.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+t.join(", ")+")");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if("string"!=typeof b.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(b.vertical=b.vertical.toLowerCase(),-1===s.indexOf(b.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+s.join(", ")+")");d.widgetPositioning.vertical=b.vertical}return V(),j},j.calendarWeeks=function(a){if(0===arguments.length)return d.calendarWeeks;if("boolean"!=typeof a)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return d.calendarWeeks=a,V(),j},j.showTodayButton=function(a){if(0===arguments.length)return d.showTodayButton;if("boolean"!=typeof a)throw new TypeError("showTodayButton() expects a boolean parameter");return d.showTodayButton=a,o&&(X(),_()),j},j.showClear=function(a){if(0===arguments.length)return d.showClear;if("boolean"!=typeof a)throw new TypeError("showClear() expects a boolean parameter");return d.showClear=a,o&&(X(),_()),j},j.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if("string"==typeof b&&(b=a(b)),null!==b&&"string"!=typeof b&&!(b instanceof a))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return d.widgetParent=b,o&&(X(),_()),j},j.keepOpen=function(a){if(0===arguments.length)return d.keepOpen;if("boolean"!=typeof a)throw new TypeError("keepOpen() expects a boolean parameter");return d.keepOpen=a,j},j.inline=function(a){if(0===arguments.length)return d.inline;if("boolean"!=typeof a)throw new TypeError("inline() expects a boolean parameter");return d.inline=a,j},j.clear=function(){return Y(),j},j.keyBinds=function(a){return d.keyBinds=a,j},j.debug=function(a){if("boolean"!=typeof a)throw new TypeError("debug() expects a boolean parameter");return d.debug=a,j},j.showClose=function(a){if(0===arguments.length)return d.showClose;if("boolean"!=typeof a)throw new TypeError("showClose() expects a boolean parameter");return d.showClose=a,j},j.keepInvalid=function(a){if(0===arguments.length)return d.keepInvalid;if("boolean"!=typeof a)throw new TypeError("keepInvalid() expects a boolean parameter");return d.keepInvalid=a,j},j.datepickerInput=function(a){if(0===arguments.length)return d.datepickerInput;if("string"!=typeof a)throw new TypeError("datepickerInput() expects a string parameter");return d.datepickerInput=a,j},c.is("input"))e=c;else if(e=c.find(d.datepickerInput),0===e.size())e=c.find("input");else if(!e.is("input"))throw new Error('CSS class "'+d.datepickerInput+'" cannot be applied to non input element');if(c.hasClass("input-group")&&(n=c.find(0===c.find(".datepickerbutton").size()?'[class^="input-group-"]':".datepickerbutton")),!d.inline&&!e.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return a.extend(!0,d,F()),j.options(d),ib(),fb(),e.prop("disabled")&&j.disable(),e.is("input")&&0!==e.val().trim().length?W(bb(e.val().trim())):d.defaultDate&&void 0===e.attr("placeholder")&&W(d.defaultDate),d.inline&&_(),j};a.fn.datetimepicker=function(b){return this.each(function(){var d=a(this);d.data("DateTimePicker")||(b=a.extend(!0,{},a.fn.datetimepicker.defaults,b),d.data("DateTimePicker",c(d,b)))})},a.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:[],calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(a){if(a){var c=this.date()||b();this.date(a.find(".datepicker").is(":visible")?c.clone().subtract(7,"d"):c.clone().add(1,"m"))}},down:function(a){if(!a)return void this.show();var c=this.date()||b();this.date(a.find(".datepicker").is(":visible")?c.clone().add(7,"d"):c.clone().subtract(1,"m"))},"control up":function(a){if(a){var c=this.date()||b();this.date(a.find(".datepicker").is(":visible")?c.clone().subtract(1,"y"):c.clone().add(1,"h"))}},"control down":function(a){if(a){var c=this.date()||b();this.date(a.find(".datepicker").is(":visible")?c.clone().add(1,"y"):c.clone().subtract(1,"h"))}},left:function(a){if(a){var c=this.date()||b();a.find(".datepicker").is(":visible")&&this.date(c.clone().subtract(1,"d"))}},right:function(a){if(a){var c=this.date()||b();a.find(".datepicker").is(":visible")&&this.date(c.clone().add(1,"d"))}},pageUp:function(a){if(a){var c=this.date()||b();a.find(".datepicker").is(":visible")&&this.date(c.clone().subtract(1,"M"))}},pageDown:function(a){if(a){var c=this.date()||b();a.find(".datepicker").is(":visible")&&this.date(c.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(a){a.find(".timepicker").is(":visible")&&a.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(b())},"delete":function(){this.clear()}},debug:!1}});
//# sourceMappingURL=app.js.map
